"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/kld-intersections@0.7.0";
exports.ids = ["vendor-chunks/kld-intersections@0.7.0"];
exports.modules = {

/***/ "(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/index.js":
/*!************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/index.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AffineShapes: () => (/* reexport safe */ _lib_AffineShapes_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   Intersection: () => (/* reexport safe */ _lib_Intersection_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   IntersectionArgs: () => (/* reexport safe */ _lib_ShapeInfo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   IntersectionQuery: () => (/* reexport safe */ _lib_IntersectionQuery_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   Matrix2D: () => (/* reexport safe */ kld_affine__WEBPACK_IMPORTED_MODULE_6__.Matrix2D),\n/* harmony export */   Point2D: () => (/* reexport safe */ kld_affine__WEBPACK_IMPORTED_MODULE_6__.Point2D),\n/* harmony export */   ShapeInfo: () => (/* reexport safe */ _lib_ShapeInfo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   Shapes: () => (/* reexport safe */ _lib_Shapes_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   SvgShapes: () => (/* reexport safe */ _lib_SvgShapes_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   Vector2D: () => (/* reexport safe */ kld_affine__WEBPACK_IMPORTED_MODULE_6__.Vector2D)\n/* harmony export */ });\n/* harmony import */ var _lib_Intersection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/Intersection.js */ \"(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/Intersection.js\");\n/* harmony import */ var _lib_ShapeInfo_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/ShapeInfo.js */ \"(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/ShapeInfo.js\");\n/* harmony import */ var _lib_Shapes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/Shapes.js */ \"(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/Shapes.js\");\n/* harmony import */ var _lib_AffineShapes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/AffineShapes.js */ \"(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/AffineShapes.js\");\n/* harmony import */ var _lib_SvgShapes_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/SvgShapes.js */ \"(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/SvgShapes.js\");\n/* harmony import */ var _lib_IntersectionQuery_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/IntersectionQuery.js */ \"(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/IntersectionQuery.js\");\n/* harmony import */ var kld_affine__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! kld-affine */ \"(ssr)/../../node_modules/.pnpm/kld-affine@2.1.1/node_modules/kld-affine/index.js\");\n/**\n * @module kld-intersections\n */\n\n\n\n/**\n * @deprecated Use ShapeInfo instead\n */\n\n\n/**\n * @namespace ShapeInfo\n * @implements {module:Shapes~ShapeInfo}\n */\n\n\n/**\n * @namespace Shapes\n * @implements {module:Shapes~Shapes}\n */\n\n\n/**\n * @namespace AffineShapes\n * @implements {module:AffineShapes~AffineShapes}\n */\n\n\n/**\n * @namespace SvgShapes\n * @implements {module:SvgShapes~SvgShapes}\n */\n\n\n/**\n * @namespace IntersectionQuery\n * @implements {module:IntersectionQuery~IntersectionQuery}\n */\n\n\n// Expose affine module classes\n\n/**\n* @external Point2D\n*/\n\n/**\n* @external Vector2D\n*/\n\n/**\n* @external Matrix2D\n*/\n\n/**\n * @class Point2D\n * @memberof module:kld-intersections\n * @implements {external:Point2D}\n */\n\n\n/**\n * @class Vector2D\n * @memberof module:kld-intersections\n * @implements {external:Vector2D}\n */\n\n\n/**\n * @class Matrix2D\n * @memberof module:kld-intersections\n * @implements {external:Matrix2D}\n */\n\n\n\n/**\n* @external Polynomial\n*/\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2tsZC1pbnRlcnNlY3Rpb25zQDAuNy4wL25vZGVfbW9kdWxlcy9rbGQtaW50ZXJzZWN0aW9ucy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFOEQ7O0FBRTlEO0FBQ0E7QUFDQTtBQUMrRDs7QUFFL0Q7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUN3RDs7QUFFeEQ7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNrRDs7QUFFbEQ7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUM4RDs7QUFFOUQ7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUN3RDs7QUFFeEQ7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUN3RTs7QUFFeEU7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ21DOztBQUVuQztBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDb0M7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNvQzs7O0FBR3BDO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0ByZXBvZ3JhcGgvd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9rbGQtaW50ZXJzZWN0aW9uc0AwLjcuMC9ub2RlX21vZHVsZXMva2xkLWludGVyc2VjdGlvbnMvaW5kZXguanM/ZDFmMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBtb2R1bGUga2xkLWludGVyc2VjdGlvbnNcbiAqL1xuXG5leHBvcnQge2RlZmF1bHQgYXMgSW50ZXJzZWN0aW9ufSBmcm9tIFwiLi9saWIvSW50ZXJzZWN0aW9uLmpzXCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIFNoYXBlSW5mbyBpbnN0ZWFkXG4gKi9cbmV4cG9ydCB7ZGVmYXVsdCBhcyBJbnRlcnNlY3Rpb25BcmdzfSBmcm9tIFwiLi9saWIvU2hhcGVJbmZvLmpzXCI7XG5cbi8qKlxuICogQG5hbWVzcGFjZSBTaGFwZUluZm9cbiAqIEBpbXBsZW1lbnRzIHttb2R1bGU6U2hhcGVzflNoYXBlSW5mb31cbiAqL1xuZXhwb3J0IHtkZWZhdWx0IGFzIFNoYXBlSW5mb30gZnJvbSBcIi4vbGliL1NoYXBlSW5mby5qc1wiO1xuXG4vKipcbiAqIEBuYW1lc3BhY2UgU2hhcGVzXG4gKiBAaW1wbGVtZW50cyB7bW9kdWxlOlNoYXBlc35TaGFwZXN9XG4gKi9cbmV4cG9ydCB7ZGVmYXVsdCBhcyBTaGFwZXN9IGZyb20gXCIuL2xpYi9TaGFwZXMuanNcIjtcblxuLyoqXG4gKiBAbmFtZXNwYWNlIEFmZmluZVNoYXBlc1xuICogQGltcGxlbWVudHMge21vZHVsZTpBZmZpbmVTaGFwZXN+QWZmaW5lU2hhcGVzfVxuICovXG5leHBvcnQge2RlZmF1bHQgYXMgQWZmaW5lU2hhcGVzfSBmcm9tIFwiLi9saWIvQWZmaW5lU2hhcGVzLmpzXCI7XG5cbi8qKlxuICogQG5hbWVzcGFjZSBTdmdTaGFwZXNcbiAqIEBpbXBsZW1lbnRzIHttb2R1bGU6U3ZnU2hhcGVzflN2Z1NoYXBlc31cbiAqL1xuZXhwb3J0IHtkZWZhdWx0IGFzIFN2Z1NoYXBlc30gZnJvbSBcIi4vbGliL1N2Z1NoYXBlcy5qc1wiO1xuXG4vKipcbiAqIEBuYW1lc3BhY2UgSW50ZXJzZWN0aW9uUXVlcnlcbiAqIEBpbXBsZW1lbnRzIHttb2R1bGU6SW50ZXJzZWN0aW9uUXVlcnl+SW50ZXJzZWN0aW9uUXVlcnl9XG4gKi9cbmV4cG9ydCB7ZGVmYXVsdCBhcyBJbnRlcnNlY3Rpb25RdWVyeX0gZnJvbSBcIi4vbGliL0ludGVyc2VjdGlvblF1ZXJ5LmpzXCI7XG5cbi8vIEV4cG9zZSBhZmZpbmUgbW9kdWxlIGNsYXNzZXNcblxuLyoqXG4qIEBleHRlcm5hbCBQb2ludDJEXG4qL1xuXG4vKipcbiogQGV4dGVybmFsIFZlY3RvcjJEXG4qL1xuXG4vKipcbiogQGV4dGVybmFsIE1hdHJpeDJEXG4qL1xuXG4vKipcbiAqIEBjbGFzcyBQb2ludDJEXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zXG4gKiBAaW1wbGVtZW50cyB7ZXh0ZXJuYWw6UG9pbnQyRH1cbiAqL1xuZXhwb3J0IHtQb2ludDJEfSBmcm9tIFwia2xkLWFmZmluZVwiO1xuXG4vKipcbiAqIEBjbGFzcyBWZWN0b3IyRFxuICogQG1lbWJlcm9mIG1vZHVsZTprbGQtaW50ZXJzZWN0aW9uc1xuICogQGltcGxlbWVudHMge2V4dGVybmFsOlZlY3RvcjJEfVxuICovXG5leHBvcnQge1ZlY3RvcjJEfSBmcm9tIFwia2xkLWFmZmluZVwiO1xuXG4vKipcbiAqIEBjbGFzcyBNYXRyaXgyRFxuICogQG1lbWJlcm9mIG1vZHVsZTprbGQtaW50ZXJzZWN0aW9uc1xuICogQGltcGxlbWVudHMge2V4dGVybmFsOk1hdHJpeDJEfVxuICovXG5leHBvcnQge01hdHJpeDJEfSBmcm9tIFwia2xkLWFmZmluZVwiO1xuXG5cbi8qKlxuKiBAZXh0ZXJuYWwgUG9seW5vbWlhbFxuKi9cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/AffineShapes.js":
/*!***********************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/AffineShapes.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ShapeInfo.js */ \"(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/ShapeInfo.js\");\n/* eslint-disable prefer-rest-params */\n/**\n *   AffineShapes\n *\n *   @copyright 2017-2019, Kevin Lindsey\n *   @module AffineShapes\n *   @deprecated use ShapeInfo\n */\n\n\n\n/**\n * Build shapes for intersection\n */\nclass AffineShapes {\n    /**\n     *  arc\n     *\n     *  @deprecated use ShapeInfo.arc\n     *  @param {module:kld-intersections.Point2D} center\n     *  @param {number} radiusX\n     *  @param {number} radiusY\n     *  @param {number} startRadians\n     *  @param {number} endRadians\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static arc(center, radiusX, radiusY, startRadians, endRadians) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].arc(...arguments);\n    }\n\n    /**\n     *  quadraticBezier\n     *\n     *   @deprecated use ShapeInfo.quadraticBezier\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static quadraticBezier(p1, p2, p3) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].quadraticBezier(...arguments);\n    }\n\n    /**\n     *  cubicBezier\n     *\n     *  @deprecated use ShapeInfo.cubicBezier\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {module:kld-intersections.Point2D} p4\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static cubicBezier(p1, p2, p3, p4) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].cubicBezier(...arguments);\n    }\n\n    /**\n     *  circle\n     *\n     *  @deprecated use ShapeInfo.circle\n     *  @param {module:kld-intersections.Point2D} center\n     *  @param {number} radius\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static circle(center, radius) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].circle(...arguments);\n    }\n\n    /**\n     *  ellipse\n     *\n     *  @deprecated use ShapeInfo.ellipse\n     *  @param {module:kld-intersections.Point2D} center\n     *  @param {number} radiusX\n     *  @param {number} radiusY\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static ellipse(center, radiusX, radiusY) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ellipse(...arguments);\n    }\n\n    /**\n     *  line\n     *\n     *  @deprecated use ShapeInfo.line\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static line(p1, p2) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].line(...arguments);\n    }\n\n    /**\n     *  path\n     *\n     *  @deprecated use ShapeInfo.path\n     *  @param {string} pathData\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static path(pathData) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].path(...arguments);\n    }\n\n    /**\n     *  polygon\n     *\n     *  @deprecated use ShapeInfo.polygon\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static polygon(points) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].polygon(...arguments);\n    }\n\n    /**\n     *  polyline\n     *\n     *  @deprecated use ShapeInfo.polyline\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static polyline(points) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].polyline(...arguments);\n    }\n\n    /**\n     *  rectangle\n     *\n     *  @deprecated use ShapeInfo.rectangle\n     *  @param {module:kld-intersections.Point2D} topLeft\n     *  @param {module:kld-intersections.Vector2D} size\n     *  @param {number} [rx]\n     *  @param {number} [ry]\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static rectangle(topLeft, size, rx = 0, ry = 0) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].rectangle(...arguments);\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AffineShapes);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2tsZC1pbnRlcnNlY3Rpb25zQDAuNy4wL25vZGVfbW9kdWxlcy9rbGQtaW50ZXJzZWN0aW9ucy9saWIvQWZmaW5lU2hhcGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFdUM7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0NBQWtDO0FBQ2xELGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsZUFBZSxxREFBUztBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQ0FBa0M7QUFDbEQsZ0JBQWdCLGtDQUFrQztBQUNsRCxnQkFBZ0Isa0NBQWtDO0FBQ2xELGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsZUFBZSxxREFBUztBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQ0FBa0M7QUFDbEQsZ0JBQWdCLGtDQUFrQztBQUNsRCxnQkFBZ0Isa0NBQWtDO0FBQ2xELGdCQUFnQixrQ0FBa0M7QUFDbEQsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxlQUFlLHFEQUFTO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtDQUFrQztBQUNsRCxnQkFBZ0IsUUFBUTtBQUN4QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0NBQWtDO0FBQ2xELGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsZUFBZSxxREFBUztBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQ0FBa0M7QUFDbEQsZ0JBQWdCLGtDQUFrQztBQUNsRCxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IseUNBQXlDO0FBQ3pELGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsZUFBZSxxREFBUztBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix5Q0FBeUM7QUFDekQsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxlQUFlLHFEQUFTO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtDQUFrQztBQUNsRCxnQkFBZ0IsbUNBQW1DO0FBQ25ELGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsZUFBZSxxREFBUztBQUN4QjtBQUNBOztBQUVBLGlFQUFlLFlBQVksRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0ByZXBvZ3JhcGgvd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9rbGQtaW50ZXJzZWN0aW9uc0AwLjcuMC9ub2RlX21vZHVsZXMva2xkLWludGVyc2VjdGlvbnMvbGliL0FmZmluZVNoYXBlcy5qcz8xNDgzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuLyoqXG4gKiAgIEFmZmluZVNoYXBlc1xuICpcbiAqICAgQGNvcHlyaWdodCAyMDE3LTIwMTksIEtldmluIExpbmRzZXlcbiAqICAgQG1vZHVsZSBBZmZpbmVTaGFwZXNcbiAqICAgQGRlcHJlY2F0ZWQgdXNlIFNoYXBlSW5mb1xuICovXG5cbmltcG9ydCBTaGFwZUluZm8gZnJvbSBcIi4vU2hhcGVJbmZvLmpzXCI7XG5cbi8qKlxuICogQnVpbGQgc2hhcGVzIGZvciBpbnRlcnNlY3Rpb25cbiAqL1xuY2xhc3MgQWZmaW5lU2hhcGVzIHtcbiAgICAvKipcbiAgICAgKiAgYXJjXG4gICAgICpcbiAgICAgKiAgQGRlcHJlY2F0ZWQgdXNlIFNoYXBlSW5mby5hcmNcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gY2VudGVyXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNYXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNZXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSBzdGFydFJhZGlhbnNcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IGVuZFJhZGlhbnNcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99XG4gICAgICovXG4gICAgc3RhdGljIGFyYyhjZW50ZXIsIHJhZGl1c1gsIHJhZGl1c1ksIHN0YXJ0UmFkaWFucywgZW5kUmFkaWFucykge1xuICAgICAgICByZXR1cm4gU2hhcGVJbmZvLmFyYyguLi5hcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBxdWFkcmF0aWNCZXppZXJcbiAgICAgKlxuICAgICAqICAgQGRlcHJlY2F0ZWQgdXNlIFNoYXBlSW5mby5xdWFkcmF0aWNCZXppZXJcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDJcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDNcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99XG4gICAgICovXG4gICAgc3RhdGljIHF1YWRyYXRpY0JlemllcihwMSwgcDIsIHAzKSB7XG4gICAgICAgIHJldHVybiBTaGFwZUluZm8ucXVhZHJhdGljQmV6aWVyKC4uLmFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGN1YmljQmV6aWVyXG4gICAgICpcbiAgICAgKiAgQGRlcHJlY2F0ZWQgdXNlIFNoYXBlSW5mby5jdWJpY0JlemllclxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwM1xuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwNFxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlNoYXBlSW5mb31cbiAgICAgKi9cbiAgICBzdGF0aWMgY3ViaWNCZXppZXIocDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgcmV0dXJuIFNoYXBlSW5mby5jdWJpY0JlemllciguLi5hcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBjaXJjbGVcbiAgICAgKlxuICAgICAqICBAZGVwcmVjYXRlZCB1c2UgU2hhcGVJbmZvLmNpcmNsZVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBjZW50ZXJcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlNoYXBlSW5mb31cbiAgICAgKi9cbiAgICBzdGF0aWMgY2lyY2xlKGNlbnRlciwgcmFkaXVzKSB7XG4gICAgICAgIHJldHVybiBTaGFwZUluZm8uY2lyY2xlKC4uLmFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGVsbGlwc2VcbiAgICAgKlxuICAgICAqICBAZGVwcmVjYXRlZCB1c2UgU2hhcGVJbmZvLmVsbGlwc2VcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gY2VudGVyXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNYXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNZXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuU2hhcGVJbmZvfVxuICAgICAqL1xuICAgIHN0YXRpYyBlbGxpcHNlKGNlbnRlciwgcmFkaXVzWCwgcmFkaXVzWSkge1xuICAgICAgICByZXR1cm4gU2hhcGVJbmZvLmVsbGlwc2UoLi4uYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgbGluZVxuICAgICAqXG4gICAgICogIEBkZXByZWNhdGVkIHVzZSBTaGFwZUluZm8ubGluZVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMlxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlNoYXBlSW5mb31cbiAgICAgKi9cbiAgICBzdGF0aWMgbGluZShwMSwgcDIpIHtcbiAgICAgICAgcmV0dXJuIFNoYXBlSW5mby5saW5lKC4uLmFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIHBhdGhcbiAgICAgKlxuICAgICAqICBAZGVwcmVjYXRlZCB1c2UgU2hhcGVJbmZvLnBhdGhcbiAgICAgKiAgQHBhcmFtIHtzdHJpbmd9IHBhdGhEYXRhXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuU2hhcGVJbmZvfVxuICAgICAqL1xuICAgIHN0YXRpYyBwYXRoKHBhdGhEYXRhKSB7XG4gICAgICAgIHJldHVybiBTaGFwZUluZm8ucGF0aCguLi5hcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBwb2x5Z29uXG4gICAgICpcbiAgICAgKiAgQGRlcHJlY2F0ZWQgdXNlIFNoYXBlSW5mby5wb2x5Z29uXG4gICAgICogIEBwYXJhbSB7QXJyYXk8bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkQ+fSBwb2ludHNcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99XG4gICAgICovXG4gICAgc3RhdGljIHBvbHlnb24ocG9pbnRzKSB7XG4gICAgICAgIHJldHVybiBTaGFwZUluZm8ucG9seWdvbiguLi5hcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBwb2x5bGluZVxuICAgICAqXG4gICAgICogIEBkZXByZWNhdGVkIHVzZSBTaGFwZUluZm8ucG9seWxpbmVcbiAgICAgKiAgQHBhcmFtIHtBcnJheTxtb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRD59IHBvaW50c1xuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlNoYXBlSW5mb31cbiAgICAgKi9cbiAgICBzdGF0aWMgcG9seWxpbmUocG9pbnRzKSB7XG4gICAgICAgIHJldHVybiBTaGFwZUluZm8ucG9seWxpbmUoLi4uYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiAgQGRlcHJlY2F0ZWQgdXNlIFNoYXBlSW5mby5yZWN0YW5nbGVcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gdG9wTGVmdFxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5WZWN0b3IyRH0gc2l6ZVxuICAgICAqICBAcGFyYW0ge251bWJlcn0gW3J4XVxuICAgICAqICBAcGFyYW0ge251bWJlcn0gW3J5XVxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlNoYXBlSW5mb31cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVjdGFuZ2xlKHRvcExlZnQsIHNpemUsIHJ4ID0gMCwgcnkgPSAwKSB7XG4gICAgICAgIHJldHVybiBTaGFwZUluZm8ucmVjdGFuZ2xlKC4uLmFyZ3VtZW50cyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBZmZpbmVTaGFwZXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/AffineShapes.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/Intersection.js":
/*!***********************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/Intersection.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var kld_affine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kld-affine */ \"(ssr)/../../node_modules/.pnpm/kld-affine@2.1.1/node_modules/kld-affine/index.js\");\n/* harmony import */ var kld_polynomial__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kld-polynomial */ \"(ssr)/../../node_modules/.pnpm/kld-polynomial@0.3.0/node_modules/kld-polynomial/index.js\");\n/* harmony import */ var _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ShapeInfo.js */ \"(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/ShapeInfo.js\");\n/* eslint-disable camelcase, no-labels */\n/**\n *\n *  Intersection.js\n *\n *  copyright 2002, 2013 Kevin Lindsey\n */\n\n\n\n\n\nconst TWO_PI = 2.0 * Math.PI;\nconst UNIT_X = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(1, 0);\n\n/**\n * @memberof module:kld-intersections.Intersection\n * @param {*} o\n * @returns {boolean}\n */\nfunction isNullish(o) {\n    return o === null || o === undefined;\n}\n\n/**\n *  bezout\n *\n *  This code is based on MgcIntr2DElpElp.cpp written by David Eberly.  His\n *  code along with many other excellent examples are avaiable at his site:\n *  http://www.magic-software.com\n *\n *  @param {Array<module:kld-intersections.Point2D>} e1\n *  @param {Array<module:kld-intersections.Point2D>} e2\n *  @returns {external:Polynomial}\n */\nfunction bezout(e1, e2) {\n    const AB = e1[0] * e2[1] - e2[0] * e1[1];\n    const AC = e1[0] * e2[2] - e2[0] * e1[2];\n    const AD = e1[0] * e2[3] - e2[0] * e1[3];\n    const AE = e1[0] * e2[4] - e2[0] * e1[4];\n    const AF = e1[0] * e2[5] - e2[0] * e1[5];\n    const BC = e1[1] * e2[2] - e2[1] * e1[2];\n    const BE = e1[1] * e2[4] - e2[1] * e1[4];\n    const BF = e1[1] * e2[5] - e2[1] * e1[5];\n    const CD = e1[2] * e2[3] - e2[2] * e1[3];\n    const DE = e1[3] * e2[4] - e2[3] * e1[4];\n    const DF = e1[3] * e2[5] - e2[3] * e1[5];\n    const BFpDE = BF + DE;\n    const BEmCD = BE - CD;\n\n    return new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n        AB * BC - AC * AC,\n        AB * BEmCD + AD * BC - 2 * AC * AE,\n        AB * BFpDE + AD * BEmCD - AE * AE - 2 * AC * AF,\n        AB * DF + AD * BFpDE - 2 * AE * AF,\n        AD * DF - AF * AF\n    );\n}\n\n/**\n * normalizeAngle\n *\n * @param {number} radians\n * @returns {number}\n */\nfunction normalizeAngle(radians) {\n    const normal = radians % TWO_PI;\n\n    return normal < 0.0 ? normal + TWO_PI : normal;\n}\n\n/**\n * restrictPointsToArc\n *\n * @param {module:kld-intersections.Intersection} intersections\n * @param {module:kld-intersections.Point2D} center\n * @param {number} radiusX\n * @param {number} radiusY\n * @param {number} startRadians\n * @param {number} endRadians\n * @returns {module:kld-intersections.Intersection}\n */\nfunction restrictPointsToArc(intersections, center, radiusX, radiusY, startRadians, endRadians) {\n    if (intersections.points.length === 0) {\n        return intersections;\n    }\n\n    const result = new Intersection(\"No Intersection\");\n\n    // swap if end is lower, so start is always the lower one\n    if (endRadians < startRadians) {\n        [startRadians, endRadians] = [endRadians, startRadians];\n    }\n\n    // move everything to the positive domain, simultaneously\n    if (startRadians < 0 || endRadians < 0) {\n        startRadians += TWO_PI;\n        endRadians += TWO_PI;\n    }\n\n    for (const p of intersections.points) {\n        let a = normalizeAngle(UNIT_X.angleBetween(kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D.fromPoints(center, p)));\n\n        // a angle smaller than start, it may still be between\n        // this happens if end > TWO_PI\n        if (a < startRadians) {\n            a += TWO_PI;\n        }\n\n        if (startRadians <= a && a <= endRadians) {\n            result.appendPoint(p);\n        }\n    }\n\n    if (result.points.length > 0) {\n        result.status = \"Intersection\";\n    }\n\n    return result;\n}\n\n/**\n *  closePolygon\n *  @memberof module:kld-intersections.Intersection\n *  @param {Array<module:kld-intersections.Point2D>} points\n *  @returns {Array<module:kld-intersections.Point2D>}\n */\nfunction closePolygon(points) {\n    const copy = points.slice();\n\n    copy.push(points[0]);\n\n    return copy;\n}\n\n/**\n * Intersection\n * @memberof module:kld-intersections\n */\nclass Intersection {\n    /**\n     *  @param {string} status\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    constructor(status) {\n        this.init(status);\n    }\n\n\n    /**\n     *  init\n     *\n     *  @param {string} status\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    init(status) {\n        this.status = status;\n        this.points = [];\n    }\n\n    /**\n     *  intersect\n     *\n     *  @param {module:kld-intersections.ShapeInfo} shape1\n     *  @param {module:kld-intersections.ShapeInfo} shape2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersect(shape1, shape2) {\n        let result;\n\n        if (!isNullish(shape1) && !isNullish(shape2)) {\n            if (shape1.name === \"Path\") {\n                result = Intersection.intersectPathShape(shape1, shape2);\n            }\n            else if (shape2.name === \"Path\") {\n                result = Intersection.intersectPathShape(shape2, shape1);\n            }\n            else if (shape1.name === \"Arc\") {\n                result = Intersection.intersectArcShape(shape1, shape2);\n            }\n            else if (shape2.name === \"Arc\") {\n                result = Intersection.intersectArcShape(shape2, shape1);\n            }\n            else {\n                let method;\n                let args;\n\n                if (shape1.name < shape2.name) {\n                    method = \"intersect\" + shape1.name + shape2.name;\n                    args = shape1.args.concat(shape2.args);\n                }\n                else {\n                    method = \"intersect\" + shape2.name + shape1.name;\n                    args = shape2.args.concat(shape1.args);\n                }\n\n                if (!(method in Intersection)) {\n                    throw new TypeError(\"Intersection not available: \" + method);\n                }\n\n                result = Intersection[method].apply(null, args);\n            }\n        }\n        else {\n            result = new Intersection(\"No Intersection\");\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectPathShape\n     *\n     *  @param {module:kld-intersections.ShapeInfo} path\n     *  @param {module:kld-intersections.ShapeInfo} shape\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectPathShape(path, shape) {\n        const result = new Intersection(\"No Intersection\");\n\n        for (const segment of path.args) {\n            const inter = Intersection.intersect(segment, shape);\n\n            result.appendPoints(inter.points);\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     * intersectArcShape\n     *\n     * @param {module:kld-intersections.ShapeInfo} arc\n     * @param {module:kld-intersections.ShapeInfo} shape\n     * @returns {module:kld-intersections.Intersection}\n     */\n    static intersectArcShape(arc, shape) {\n        const [center, radiusX, radiusY, startRadians, endRadians] = arc.args;\n        const ellipse = new _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_ShapeInfo_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ELLIPSE, [center, radiusX, radiusY]);\n        const ellipse_result = Intersection.intersect(ellipse, shape);\n\n        // return ellipse_result;\n        return restrictPointsToArc(ellipse_result, center, radiusX, radiusY, startRadians, endRadians);\n    }\n\n    /**\n     *  intersectBezier2Bezier2\n     *\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @param {module:kld-intersections.Point2D} a3\n     *  @param {module:kld-intersections.Point2D} b1\n     *  @param {module:kld-intersections.Point2D} b2\n     *  @param {module:kld-intersections.Point2D} b3\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier2Bezier2(a1, a2, a3, b1, b2, b3) {\n        let a, b;\n        const result = new Intersection(\"No Intersection\");\n\n        a = a2.multiply(-2);\n        const c12 = a1.add(a.add(a3));\n\n        a = a1.multiply(-2);\n        b = a2.multiply(2);\n        const c11 = a.add(b);\n\n        const c10 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(a1.x, a1.y);\n\n        a = b2.multiply(-2);\n        const c22 = b1.add(a.add(b3));\n\n        a = b1.multiply(-2);\n        b = b2.multiply(2);\n        const c21 = a.add(b);\n\n        const c20 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(b1.x, b1.y);\n\n        // bezout\n        a = c12.x * c11.y - c11.x * c12.y;\n        b = c22.x * c11.y - c11.x * c22.y;\n        const c = c21.x * c11.y - c11.x * c21.y;\n        const d = c11.x * (c10.y - c20.y) + c11.y * (-c10.x + c20.x);\n        const e = c22.x * c12.y - c12.x * c22.y;\n        const f = c21.x * c12.y - c12.x * c21.y;\n        const g = c12.x * (c10.y - c20.y) + c12.y * (-c10.x + c20.x);\n\n        // determinant\n        const poly = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n            -e * e,\n            -2 * e * f,\n            a * b - f * f - 2 * e * g,\n            a * c - 2 * f * g,\n            a * d - g * g\n        );\n\n        const roots = poly.getRoots();\n\n        for (const s of roots) {\n            if (0 <= s && s <= 1) {\n                const xp = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n                    c12.x,\n                    c11.x,\n                    c10.x - c20.x - s * c21.x - s * s * c22.x\n                );\n                xp.simplifyEquals();\n                const xRoots = xp.getRoots();\n                const yp = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n                    c12.y,\n                    c11.y,\n                    c10.y - c20.y - s * c21.y - s * s * c22.y\n                );\n                yp.simplifyEquals();\n                const yRoots = yp.getRoots();\n\n                if (xRoots.length > 0 && yRoots.length > 0) {\n                    const TOLERANCE = 1e-4;\n\n                    checkRoots:\n                    for (const xRoot of xRoots) {\n                        if (0 <= xRoot && xRoot <= 1) {\n                            for (let k = 0; k < yRoots.length; k++) {\n                                if (Math.abs(xRoot - yRoots[k]) < TOLERANCE) {\n                                    result.points.push(c22.multiply(s * s).add(c21.multiply(s).add(c20)));\n                                    break checkRoots;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectBezier2Bezier3\n     *\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @param {module:kld-intersections.Point2D} a3\n     *  @param {module:kld-intersections.Point2D} b1\n     *  @param {module:kld-intersections.Point2D} b2\n     *  @param {module:kld-intersections.Point2D} b3\n     *  @param {module:kld-intersections.Point2D} b4\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier2Bezier3(a1, a2, a3, b1, b2, b3, b4) {\n        let a, b, c, d;\n        const result = new Intersection(\"No Intersection\");\n\n        a = a2.multiply(-2);\n        const c12 = a1.add(a.add(a3));\n\n        a = a1.multiply(-2);\n        b = a2.multiply(2);\n        const c11 = a.add(b);\n\n        const c10 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(a1.x, a1.y);\n\n        a = b1.multiply(-1);\n        b = b2.multiply(3);\n        c = b3.multiply(-3);\n        d = a.add(b.add(c.add(b4)));\n        const c23 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(d.x, d.y);\n\n        a = b1.multiply(3);\n        b = b2.multiply(-6);\n        c = b3.multiply(3);\n        d = a.add(b.add(c));\n        const c22 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(d.x, d.y);\n\n        a = b1.multiply(-3);\n        b = b2.multiply(3);\n        c = a.add(b);\n        const c21 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(c.x, c.y);\n\n        const c20 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(b1.x, b1.y);\n\n        const c10x2 = c10.x * c10.x;\n        const c10y2 = c10.y * c10.y;\n        const c11x2 = c11.x * c11.x;\n        const c11y2 = c11.y * c11.y;\n        const c12x2 = c12.x * c12.x;\n        const c12y2 = c12.y * c12.y;\n        const c20x2 = c20.x * c20.x;\n        const c20y2 = c20.y * c20.y;\n        const c21x2 = c21.x * c21.x;\n        const c21y2 = c21.y * c21.y;\n        const c22x2 = c22.x * c22.x;\n        const c22y2 = c22.y * c22.y;\n        const c23x2 = c23.x * c23.x;\n        const c23y2 = c23.y * c23.y;\n\n        const poly = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n            -2 * c12.x * c12.y * c23.x * c23.y + c12x2 * c23y2 + c12y2 * c23x2,\n            -2 * c12.x * c12.y * c22.x * c23.y - 2 * c12.x * c12.y * c22.y * c23.x + 2 * c12y2 * c22.x * c23.x +\n                2 * c12x2 * c22.y * c23.y,\n            -2 * c12.x * c21.x * c12.y * c23.y - 2 * c12.x * c12.y * c21.y * c23.x - 2 * c12.x * c12.y * c22.x * c22.y +\n                2 * c21.x * c12y2 * c23.x + c12y2 * c22x2 + c12x2 * (2 * c21.y * c23.y + c22y2),\n            2 * c10.x * c12.x * c12.y * c23.y + 2 * c10.y * c12.x * c12.y * c23.x + c11.x * c11.y * c12.x * c23.y +\n                c11.x * c11.y * c12.y * c23.x - 2 * c20.x * c12.x * c12.y * c23.y - 2 * c12.x * c20.y * c12.y * c23.x -\n                2 * c12.x * c21.x * c12.y * c22.y - 2 * c12.x * c12.y * c21.y * c22.x - 2 * c10.x * c12y2 * c23.x -\n                2 * c10.y * c12x2 * c23.y + 2 * c20.x * c12y2 * c23.x + 2 * c21.x * c12y2 * c22.x -\n                c11y2 * c12.x * c23.x - c11x2 * c12.y * c23.y + c12x2 * (2 * c20.y * c23.y + 2 * c21.y * c22.y),\n            2 * c10.x * c12.x * c12.y * c22.y + 2 * c10.y * c12.x * c12.y * c22.x + c11.x * c11.y * c12.x * c22.y +\n                c11.x * c11.y * c12.y * c22.x - 2 * c20.x * c12.x * c12.y * c22.y - 2 * c12.x * c20.y * c12.y * c22.x -\n                2 * c12.x * c21.x * c12.y * c21.y - 2 * c10.x * c12y2 * c22.x - 2 * c10.y * c12x2 * c22.y +\n                2 * c20.x * c12y2 * c22.x - c11y2 * c12.x * c22.x - c11x2 * c12.y * c22.y + c21x2 * c12y2 +\n                c12x2 * (2 * c20.y * c22.y + c21y2),\n            2 * c10.x * c12.x * c12.y * c21.y + 2 * c10.y * c12.x * c21.x * c12.y + c11.x * c11.y * c12.x * c21.y +\n                c11.x * c11.y * c21.x * c12.y - 2 * c20.x * c12.x * c12.y * c21.y - 2 * c12.x * c20.y * c21.x * c12.y -\n                2 * c10.x * c21.x * c12y2 - 2 * c10.y * c12x2 * c21.y + 2 * c20.x * c21.x * c12y2 -\n                c11y2 * c12.x * c21.x - c11x2 * c12.y * c21.y + 2 * c12x2 * c20.y * c21.y,\n            -2 * c10.x * c10.y * c12.x * c12.y - c10.x * c11.x * c11.y * c12.y - c10.y * c11.x * c11.y * c12.x +\n                2 * c10.x * c12.x * c20.y * c12.y + 2 * c10.y * c20.x * c12.x * c12.y + c11.x * c20.x * c11.y * c12.y +\n                c11.x * c11.y * c12.x * c20.y - 2 * c20.x * c12.x * c20.y * c12.y - 2 * c10.x * c20.x * c12y2 +\n                c10.x * c11y2 * c12.x + c10.y * c11x2 * c12.y - 2 * c10.y * c12x2 * c20.y -\n                c20.x * c11y2 * c12.x - c11x2 * c20.y * c12.y + c10x2 * c12y2 + c10y2 * c12x2 +\n                c20x2 * c12y2 + c12x2 * c20y2\n        );\n        const roots = poly.getRootsInInterval(0, 1);\n\n        for (const s of roots) {\n            const xRoots = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n                c12.x,\n                c11.x,\n                c10.x - c20.x - s * c21.x - s * s * c22.x - s * s * s * c23.x\n            ).getRoots();\n            const yRoots = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n                c12.y,\n                c11.y,\n                c10.y - c20.y - s * c21.y - s * s * c22.y - s * s * s * c23.y\n            ).getRoots();\n\n            if (xRoots.length > 0 && yRoots.length > 0) {\n                const TOLERANCE = 1e-4;\n\n                checkRoots:\n                for (const xRoot of xRoots) {\n                    if (0 <= xRoot && xRoot <= 1) {\n                        for (let k = 0; k < yRoots.length; k++) {\n                            if (Math.abs(xRoot - yRoots[k]) < TOLERANCE) {\n                                result.points.push(\n                                    c23.multiply(s * s * s).add(c22.multiply(s * s).add(c21.multiply(s).add(c20)))\n                                );\n                                break checkRoots;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectBezier2Circle\n     *\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {module:kld-intersections.Point2D} c\n     *  @param {number} r\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier2Circle(p1, p2, p3, c, r) {\n        return Intersection.intersectBezier2Ellipse(p1, p2, p3, c, r, r);\n    }\n\n    /**\n     *  intersectBezier2Ellipse\n     *\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {module:kld-intersections.Point2D} ec\n     *  @param {number} rx\n     *  @param {number} ry\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier2Ellipse(p1, p2, p3, ec, rx, ry) {\n        let a; // temporary variables\n        // c2, c1, c0; // coefficients of quadratic\n        const result = new Intersection(\"No Intersection\");\n\n        a = p2.multiply(-2);\n        const c2 = p1.add(a.add(p3));\n\n        a = p1.multiply(-2);\n        const b = p2.multiply(2);\n        const c1 = a.add(b);\n\n        const c0 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(p1.x, p1.y);\n\n        const rxrx = rx * rx;\n        const ryry = ry * ry;\n        const roots = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n            ryry * c2.x * c2.x + rxrx * c2.y * c2.y,\n            2 * (ryry * c2.x * c1.x + rxrx * c2.y * c1.y),\n            ryry * (2 * c2.x * c0.x + c1.x * c1.x) + rxrx * (2 * c2.y * c0.y + c1.y * c1.y) -\n                2 * (ryry * ec.x * c2.x + rxrx * ec.y * c2.y),\n            2 * (ryry * c1.x * (c0.x - ec.x) + rxrx * c1.y * (c0.y - ec.y)),\n            ryry * (c0.x * c0.x + ec.x * ec.x) + rxrx * (c0.y * c0.y + ec.y * ec.y) -\n                2 * (ryry * ec.x * c0.x + rxrx * ec.y * c0.y) - rxrx * ryry\n        ).getRoots();\n\n        for (const t of roots) {\n            if (0 <= t && t <= 1) {\n                result.points.push(c2.multiply(t * t).add(c1.multiply(t).add(c0)));\n            }\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectBezier2Line\n     *\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier2Line(p1, p2, p3, a1, a2) {\n        let a; // temporary variables\n        // let c2, c1, c0; // coefficients of quadratic\n        // cl; // c coefficient for normal form of line\n        // n; // normal for normal form of line\n        const min = a1.min(a2); // used to determine if point is on line segment\n        const max = a1.max(a2); // used to determine if point is on line segment\n        const result = new Intersection(\"No Intersection\");\n\n        a = p2.multiply(-2);\n        const c2 = p1.add(a.add(p3));\n\n        a = p1.multiply(-2);\n        const b = p2.multiply(2);\n        const c1 = a.add(b);\n\n        const c0 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(p1.x, p1.y);\n\n        // Convert line to normal form: ax + by + c = 0\n        // Find normal to line: negative inverse of original line's slope\n        const n = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(a1.y - a2.y, a2.x - a1.x);\n\n        // Determine new c coefficient\n        const cl = a1.x * a2.y - a2.x * a1.y;\n\n        // Transform cubic coefficients to line's coordinate system and find roots\n        // of cubic\n        const roots = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n            n.dot(c2),\n            n.dot(c1),\n            n.dot(c0) + cl\n        ).getRoots();\n\n        // Any roots in closed interval [0,1] are intersections on Bezier, but\n        // might not be on the line segment.\n        // Find intersections and calculate point coordinates\n        for (const t of roots) {\n            if (0 <= t && t <= 1) {\n                // We're within the Bezier curve\n                // Find point on Bezier\n                const p4 = p1.lerp(p2, t);\n                const p5 = p2.lerp(p3, t);\n\n                const p6 = p4.lerp(p5, t);\n\n                // See if point is on line segment\n                // Had to make special cases for vertical and horizontal lines due\n                // to slight errors in calculation of p6\n                if (a1.x === a2.x) {\n                    if (min.y <= p6.y && p6.y <= max.y) {\n                        result.status = \"Intersection\";\n                        result.appendPoint(p6);\n                    }\n                }\n                else if (a1.y === a2.y) {\n                    if (min.x <= p6.x && p6.x <= max.x) {\n                        result.status = \"Intersection\";\n                        result.appendPoint(p6);\n                    }\n                }\n                else if (min.x <= p6.x && p6.x <= max.x && min.y <= p6.y && p6.y <= max.y) {\n                    result.status = \"Intersection\";\n                    result.appendPoint(p6);\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectBezier2Polygon\n     *\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier2Polygon(p1, p2, p3, points) {\n        return Intersection.intersectBezier2Polyline(p1, p2, p3, closePolygon(points));\n    }\n\n    /**\n     *  intersectBezier2Polyline\n     *\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier2Polyline(p1, p2, p3, points) {\n        const result = new Intersection(\"No Intersection\");\n        const {length: len} = points;\n\n        for (let i = 0; i < len - 1; i++) {\n            const a1 = points[i];\n            const a2 = points[i + 1];\n            const inter = Intersection.intersectBezier2Line(p1, p2, p3, a1, a2);\n\n            result.appendPoints(inter.points);\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectBezier2Rectangle\n     *\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {module:kld-intersections.Point2D} r1\n     *  @param {module:kld-intersections.Point2D} r2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier2Rectangle(p1, p2, p3, r1, r2) {\n        const min = r1.min(r2);\n        const max = r1.max(r2);\n        const topRight = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(max.x, min.y);\n        const bottomLeft = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(min.x, max.y);\n\n        const inter1 = Intersection.intersectBezier2Line(p1, p2, p3, min, topRight);\n        const inter2 = Intersection.intersectBezier2Line(p1, p2, p3, topRight, max);\n        const inter3 = Intersection.intersectBezier2Line(p1, p2, p3, max, bottomLeft);\n        const inter4 = Intersection.intersectBezier2Line(p1, p2, p3, bottomLeft, min);\n\n        const result = new Intersection(\"No Intersection\");\n\n        result.appendPoints(inter1.points);\n        result.appendPoints(inter2.points);\n        result.appendPoints(inter3.points);\n        result.appendPoints(inter4.points);\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectBezier3Bezier3\n     *\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @param {module:kld-intersections.Point2D} a3\n     *  @param {module:kld-intersections.Point2D} a4\n     *  @param {module:kld-intersections.Point2D} b1\n     *  @param {module:kld-intersections.Point2D} b2\n     *  @param {module:kld-intersections.Point2D} b3\n     *  @param {module:kld-intersections.Point2D} b4\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier3Bezier3(a1, a2, a3, a4, b1, b2, b3, b4) {\n        let a, b, c, d; // temporary variables\n        // c13, c12, c11, c10; // coefficients of cubic\n        // c23, c22, c21, c20; // coefficients of cubic\n        const result = new Intersection(\"No Intersection\");\n\n        // Calculate the coefficients of cubic polynomial\n        a = a1.multiply(-1);\n        b = a2.multiply(3);\n        c = a3.multiply(-3);\n        d = a.add(b.add(c.add(a4)));\n        const c13 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(d.x, d.y);\n\n        a = a1.multiply(3);\n        b = a2.multiply(-6);\n        c = a3.multiply(3);\n        d = a.add(b.add(c));\n        const c12 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(d.x, d.y);\n\n        a = a1.multiply(-3);\n        b = a2.multiply(3);\n        c = a.add(b);\n        const c11 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(c.x, c.y);\n\n        const c10 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(a1.x, a1.y);\n\n        a = b1.multiply(-1);\n        b = b2.multiply(3);\n        c = b3.multiply(-3);\n        d = a.add(b.add(c.add(b4)));\n        const c23 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(d.x, d.y);\n\n        a = b1.multiply(3);\n        b = b2.multiply(-6);\n        c = b3.multiply(3);\n        d = a.add(b.add(c));\n        const c22 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(d.x, d.y);\n\n        a = b1.multiply(-3);\n        b = b2.multiply(3);\n        c = a.add(b);\n        const c21 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(c.x, c.y);\n\n        const c20 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(b1.x, b1.y);\n\n        // bezout\n        a = c13.x * c12.y - c12.x * c13.y;\n        b = c13.x * c11.y - c11.x * c13.y;\n        const c0 = c13.x * c10.y - c10.x * c13.y + c20.x * c13.y - c13.x * c20.y;\n        const c1 = c21.x * c13.y - c13.x * c21.y;\n        const c2 = c22.x * c13.y - c13.x * c22.y;\n        const c3 = c23.x * c13.y - c13.x * c23.y;\n        d = c13.x * c11.y - c11.x * c13.y;\n        const e0 = c13.x * c10.y + c12.x * c11.y - c11.x * c12.y - c10.x * c13.y + c20.x * c13.y - c13.x * c20.y;\n        const e1 = c21.x * c13.y - c13.x * c21.y;\n        const e2 = c22.x * c13.y - c13.x * c22.y;\n        const e3 = c23.x * c13.y - c13.x * c23.y;\n        const f0 = c12.x * c10.y - c10.x * c12.y + c20.x * c12.y - c12.x * c20.y;\n        const f1 = c21.x * c12.y - c12.x * c21.y;\n        const f2 = c22.x * c12.y - c12.x * c22.y;\n        const f3 = c23.x * c12.y - c12.x * c23.y;\n        const g0 = c13.x * c10.y - c10.x * c13.y + c20.x * c13.y - c13.x * c20.y;\n        const g1 = c21.x * c13.y - c13.x * c21.y;\n        const g2 = c22.x * c13.y - c13.x * c22.y;\n        const g3 = c23.x * c13.y - c13.x * c23.y;\n        const h0 = c12.x * c10.y - c10.x * c12.y + c20.x * c12.y - c12.x * c20.y;\n        const h1 = c21.x * c12.y - c12.x * c21.y;\n        const h2 = c22.x * c12.y - c12.x * c22.y;\n        const h3 = c23.x * c12.y - c12.x * c23.y;\n        const i0 = c11.x * c10.y - c10.x * c11.y + c20.x * c11.y - c11.x * c20.y;\n        const i1 = c21.x * c11.y - c11.x * c21.y;\n        const i2 = c22.x * c11.y - c11.x * c22.y;\n        const i3 = c23.x * c11.y - c11.x * c23.y;\n\n        // determinant\n        const poly = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n            -c3 * e3 * g3,\n            -c3 * e3 * g2 - c3 * e2 * g3 - c2 * e3 * g3,\n            -c3 * e3 * g1 - c3 * e2 * g2 - c2 * e3 * g2 - c3 * e1 * g3 - c2 * e2 * g3 - c1 * e3 * g3,\n            -c3 * e3 * g0 - c3 * e2 * g1 - c2 * e3 * g1 - c3 * e1 * g2 - c2 * e2 * g2 - c1 * e3 * g2 - c3 * e0 * g3 - c2 * e1 * g3 - c1 * e2 * g3 - c0 * e3 * g3 + b * f3 * g3 + c3 * d * h3 - a * f3 * h3 + a * e3 * i3,\n            -c3 * e2 * g0 - c2 * e3 * g0 - c3 * e1 * g1 - c2 * e2 * g1 - c1 * e3 * g1 - c3 * e0 * g2 - c2 * e1 * g2 - c1 * e2 * g2 - c0 * e3 * g2 + b * f3 * g2 - c2 * e0 * g3 - c1 * e1 * g3 - c0 * e2 * g3 + b * f2 * g3 + c3 * d * h2 - a * f3 * h2 + c2 * d * h3 - a * f2 * h3 + a * e3 * i2 + a * e2 * i3,\n            -c3 * e1 * g0 - c2 * e2 * g0 - c1 * e3 * g0 - c3 * e0 * g1 - c2 * e1 * g1 - c1 * e2 * g1 - c0 * e3 * g1 + b * f3 * g1 - c2 * e0 * g2 - c1 * e1 * g2 - c0 * e2 * g2 + b * f2 * g2 - c1 * e0 * g3 - c0 * e1 * g3 + b * f1 * g3 + c3 * d * h1 - a * f3 * h1 + c2 * d * h2 - a * f2 * h2 + c1 * d * h3 - a * f1 * h3 + a * e3 * i1 + a * e2 * i2 + a * e1 * i3,\n            -c3 * e0 * g0 - c2 * e1 * g0 - c1 * e2 * g0 - c0 * e3 * g0 + b * f3 * g0 - c2 * e0 * g1 - c1 * e1 * g1 - c0 * e2 * g1 + b * f2 * g1 - c1 * e0 * g2 - c0 * e1 * g2 + b * f1 * g2 - c0 * e0 * g3 + b * f0 * g3 + c3 * d * h0 - a * f3 * h0 + c2 * d * h1 - a * f2 * h1 + c1 * d * h2 - a * f1 * h2 + c0 * d * h3 - a * f0 * h3 + a * e3 * i0 + a * e2 * i1 + a * e1 * i2 - b * d * i3 + a * e0 * i3,\n            -c2 * e0 * g0 - c1 * e1 * g0 - c0 * e2 * g0 + b * f2 * g0 - c1 * e0 * g1 - c0 * e1 * g1 + b * f1 * g1 - c0 * e0 * g2 + b * f0 * g2 + c2 * d * h0 - a * f2 * h0 + c1 * d * h1 - a * f1 * h1 + c0 * d * h2 - a * f0 * h2 + a * e2 * i0 + a * e1 * i1 - b * d * i2 + a * e0 * i2,\n            -c1 * e0 * g0 - c0 * e1 * g0 + b * f1 * g0 - c0 * e0 * g1 + b * f0 * g1 + c1 * d * h0 - a * f1 * h0 + c0 * d * h1 - a * f0 * h1 + a * e1 * i0 - b * d * i1 + a * e0 * i1,\n            -c0 * e0 * g0 + b * f0 * g0 + c0 * d * h0 - a * f0 * h0 - b * d * i0 + a * e0 * i0\n        );\n        poly.simplifyEquals();\n        const roots = poly.getRootsInInterval(0, 1);\n\n        for (const s of roots) {\n            const xp = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n                c13.x,\n                c12.x,\n                c11.x,\n                c10.x - c20.x - s * c21.x - s * s * c22.x - s * s * s * c23.x\n            );\n            xp.simplifyEquals();\n            const xRoots = xp.getRoots();\n            const yp = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n                c13.y,\n                c12.y,\n                c11.y,\n                c10.y - c20.y - s * c21.y - s * s * c22.y - s * s * s * c23.y\n            );\n            yp.simplifyEquals();\n            const yRoots = yp.getRoots();\n\n            if (xRoots.length > 0 && yRoots.length > 0) {\n                const TOLERANCE = 1e-4;\n\n                checkRoots:\n                for (const xRoot of xRoots) {\n                    if (0 <= xRoot && xRoot <= 1) {\n                        for (let k = 0; k < yRoots.length; k++) {\n                            if (Math.abs(xRoot - yRoots[k]) < TOLERANCE) {\n                                result.points.push(\n                                    c23.multiply(s * s * s).add(c22.multiply(s * s).add(c21.multiply(s).add(c20)))\n                                );\n                                break checkRoots;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectBezier3Circle\n     *\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {module:kld-intersections.Point2D} p4\n     *  @param {module:kld-intersections.Point2D} c\n     *  @param {number} r\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier3Circle(p1, p2, p3, p4, c, r) {\n        return Intersection.intersectBezier3Ellipse(p1, p2, p3, p4, c, r, r);\n    }\n\n    /**\n     *  intersectBezier3Ellipse\n     *\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {module:kld-intersections.Point2D} p4\n     *  @param {module:kld-intersections.Point2D} ec\n     *  @param {number} rx\n     *  @param {number} ry\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier3Ellipse(p1, p2, p3, p4, ec, rx, ry) {\n        let a, b, c, d; // temporary variables\n        // c3, c2, c1, c0; // coefficients of cubic\n        const result = new Intersection(\"No Intersection\");\n\n        // Calculate the coefficients of cubic polynomial\n        a = p1.multiply(-1);\n        b = p2.multiply(3);\n        c = p3.multiply(-3);\n        d = a.add(b.add(c.add(p4)));\n        const c3 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(d.x, d.y);\n\n        a = p1.multiply(3);\n        b = p2.multiply(-6);\n        c = p3.multiply(3);\n        d = a.add(b.add(c));\n        const c2 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(d.x, d.y);\n\n        a = p1.multiply(-3);\n        b = p2.multiply(3);\n        c = a.add(b);\n        const c1 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(c.x, c.y);\n\n        const c0 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(p1.x, p1.y);\n\n        const rxrx = rx * rx;\n        const ryry = ry * ry;\n        const poly = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n            c3.x * c3.x * ryry + c3.y * c3.y * rxrx,\n            2 * (c3.x * c2.x * ryry + c3.y * c2.y * rxrx),\n            2 * (c3.x * c1.x * ryry + c3.y * c1.y * rxrx) + c2.x * c2.x * ryry + c2.y * c2.y * rxrx,\n            2 * c3.x * ryry * (c0.x - ec.x) + 2 * c3.y * rxrx * (c0.y - ec.y) +\n                2 * (c2.x * c1.x * ryry + c2.y * c1.y * rxrx),\n            2 * c2.x * ryry * (c0.x - ec.x) + 2 * c2.y * rxrx * (c0.y - ec.y) +\n                c1.x * c1.x * ryry + c1.y * c1.y * rxrx,\n            2 * c1.x * ryry * (c0.x - ec.x) + 2 * c1.y * rxrx * (c0.y - ec.y),\n            c0.x * c0.x * ryry - 2 * c0.y * ec.y * rxrx - 2 * c0.x * ec.x * ryry +\n                c0.y * c0.y * rxrx + ec.x * ec.x * ryry + ec.y * ec.y * rxrx - rxrx * ryry\n        );\n        const roots = poly.getRootsInInterval(0, 1);\n\n        for (const t of roots) {\n            result.points.push(\n                c3.multiply(t * t * t).add(c2.multiply(t * t).add(c1.multiply(t).add(c0)))\n            );\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectBezier3Line\n     *\n     *  Many thanks to Dan Sunday at SoftSurfer.com.  He gave me a very thorough\n     *  sketch of the algorithm used here.  Without his help, I'm not sure when I\n     *  would have figured out this intersection problem.\n     *\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {module:kld-intersections.Point2D} p4\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier3Line(p1, p2, p3, p4, a1, a2) {\n        let a, b, c, d; // temporary variables\n        // c3, c2, c1, c0; // coefficients of cubic\n        // cl; // c coefficient for normal form of line\n        // n; // normal for normal form of line\n        const min = a1.min(a2); // used to determine if point is on line segment\n        const max = a1.max(a2); // used to determine if point is on line segment\n        const result = new Intersection(\"No Intersection\");\n\n        // Start with Bezier using Bernstein polynomials for weighting functions:\n        //     (1-t^3)P1 + 3t(1-t)^2P2 + 3t^2(1-t)P3 + t^3P4\n        //\n        // Expand and collect terms to form linear combinations of original Bezier\n        // controls.  This ends up with a vector cubic in t:\n        //     (-P1+3P2-3P3+P4)t^3 + (3P1-6P2+3P3)t^2 + (-3P1+3P2)t + P1\n        //             /\\                  /\\                /\\       /\\\n        //             ||                  ||                ||       ||\n        //             c3                  c2                c1       c0\n\n        // Calculate the coefficients\n        a = p1.multiply(-1);\n        b = p2.multiply(3);\n        c = p3.multiply(-3);\n        d = a.add(b.add(c.add(p4)));\n        const c3 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(d.x, d.y);\n\n        a = p1.multiply(3);\n        b = p2.multiply(-6);\n        c = p3.multiply(3);\n        d = a.add(b.add(c));\n        const c2 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(d.x, d.y);\n\n        a = p1.multiply(-3);\n        b = p2.multiply(3);\n        c = a.add(b);\n        const c1 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(c.x, c.y);\n\n        const c0 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(p1.x, p1.y);\n\n        // Convert line to normal form: ax + by + c = 0\n        // Find normal to line: negative inverse of original line's slope\n        const n = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(a1.y - a2.y, a2.x - a1.x);\n\n        // Determine new c coefficient\n        const cl = a1.x * a2.y - a2.x * a1.y;\n\n        // ?Rotate each cubic coefficient using line for new coordinate system?\n        // Find roots of rotated cubic\n        const roots = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n            n.dot(c3),\n            n.dot(c2),\n            n.dot(c1),\n            n.dot(c0) + cl\n        ).getRoots();\n\n        // Any roots in closed interval [0,1] are intersections on Bezier, but\n        // might not be on the line segment.\n        // Find intersections and calculate point coordinates\n        for (const t of roots) {\n            if (0 <= t && t <= 1) {\n                // We're within the Bezier curve\n                // Find point on Bezier\n                const p5 = p1.lerp(p2, t);\n                const p6 = p2.lerp(p3, t);\n                const p7 = p3.lerp(p4, t);\n\n                const p8 = p5.lerp(p6, t);\n                const p9 = p6.lerp(p7, t);\n\n                const p10 = p8.lerp(p9, t);\n\n                // See if point is on line segment\n                // Had to make special cases for vertical and horizontal lines due\n                // to slight errors in calculation of p10\n                if (a1.x === a2.x) {\n                    if (min.y <= p10.y && p10.y <= max.y) {\n                        result.status = \"Intersection\";\n                        result.appendPoint(p10);\n                    }\n                }\n                else if (a1.y === a2.y) {\n                    if (min.x <= p10.x && p10.x <= max.x) {\n                        result.status = \"Intersection\";\n                        result.appendPoint(p10);\n                    }\n                }\n                else if (min.x <= p10.x && p10.x <= max.x && min.y <= p10.y && p10.y <= max.y) {\n                    result.status = \"Intersection\";\n                    result.appendPoint(p10);\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectBezier3Polygon\n     *\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {module:kld-intersections.Point2D} p4\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier3Polygon(p1, p2, p3, p4, points) {\n        return Intersection.intersectBezier3Polyline(p1, p2, p3, p4, closePolygon(points));\n    }\n\n    /**\n     *  intersectBezier3Polyline\n     *\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {module:kld-intersections.Point2D} p4\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier3Polyline(p1, p2, p3, p4, points) {\n        const result = new Intersection(\"No Intersection\");\n        const {length: len} = points;\n\n        for (let i = 0; i < len - 1; i++) {\n            const a1 = points[i];\n            const a2 = points[i + 1];\n            const inter = Intersection.intersectBezier3Line(p1, p2, p3, p4, a1, a2);\n\n            result.appendPoints(inter.points);\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectBezier3Rectangle\n     *\n     *  @param {module:kld-intersections.Point2D} p1\n     *  @param {module:kld-intersections.Point2D} p2\n     *  @param {module:kld-intersections.Point2D} p3\n     *  @param {module:kld-intersections.Point2D} p4\n     *  @param {module:kld-intersections.Point2D} r1\n     *  @param {module:kld-intersections.Point2D} r2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectBezier3Rectangle(p1, p2, p3, p4, r1, r2) {\n        const min = r1.min(r2);\n        const max = r1.max(r2);\n        const topRight = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(max.x, min.y);\n        const bottomLeft = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(min.x, max.y);\n\n        const inter1 = Intersection.intersectBezier3Line(p1, p2, p3, p4, min, topRight);\n        const inter2 = Intersection.intersectBezier3Line(p1, p2, p3, p4, topRight, max);\n        const inter3 = Intersection.intersectBezier3Line(p1, p2, p3, p4, max, bottomLeft);\n        const inter4 = Intersection.intersectBezier3Line(p1, p2, p3, p4, bottomLeft, min);\n\n        const result = new Intersection(\"No Intersection\");\n\n        result.appendPoints(inter1.points);\n        result.appendPoints(inter2.points);\n        result.appendPoints(inter3.points);\n        result.appendPoints(inter4.points);\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectCircleCircle\n     *\n     *  @param {module:kld-intersections.Point2D} c1\n     *  @param {number} r1\n     *  @param {module:kld-intersections.Point2D} c2\n     *  @param {number} r2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectCircleCircle(c1, r1, c2, r2) {\n        let result;\n\n        // Determine minimum and maximum radii where circles can intersect\n        const r_max = r1 + r2;\n        const r_min = Math.abs(r1 - r2);\n\n        // Determine actual distance between circle circles\n        const c_dist = c1.distanceFrom(c2);\n\n        if (c_dist > r_max) {\n            result = new Intersection(\"Outside\");\n        }\n        else if (c_dist < r_min) {\n            result = new Intersection(\"Inside\");\n        }\n        else {\n            result = new Intersection(\"Intersection\");\n\n            const a = (r1 * r1 - r2 * r2 + c_dist * c_dist) / (2 * c_dist);\n            const h = Math.sqrt(r1 * r1 - a * a);\n            const p = c1.lerp(c2, a / c_dist);\n            const b = h / c_dist;\n\n            result.points.push(\n                new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(\n                    p.x - b * (c2.y - c1.y),\n                    p.y + b * (c2.x - c1.x)\n                )\n            );\n            result.points.push(\n                new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(\n                    p.x + b * (c2.y - c1.y),\n                    p.y - b * (c2.x - c1.x)\n                )\n            );\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectCircleEllipse\n     *\n     *  @param {module:kld-intersections.Point2D} cc\n     *  @param {number} r\n     *  @param {module:kld-intersections.Point2D} ec\n     *  @param {number} rx\n     *  @param {number} ry\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectCircleEllipse(cc, r, ec, rx, ry) {\n        return Intersection.intersectEllipseEllipse(cc, r, r, ec, rx, ry);\n    }\n\n    /**\n     *  intersectCircleLine\n     *\n     *  @param {module:kld-intersections.Point2D} c\n     *  @param {number} r\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectCircleLine(c, r, a1, a2) {\n        let result;\n        const a = (a2.x - a1.x) * (a2.x - a1.x) +\n                 (a2.y - a1.y) * (a2.y - a1.y);\n        const b = 2 * ((a2.x - a1.x) * (a1.x - c.x) +\n                       (a2.y - a1.y) * (a1.y - c.y));\n        const cc = c.x * c.x + c.y * c.y + a1.x * a1.x + a1.y * a1.y -\n                 2 * (c.x * a1.x + c.y * a1.y) - r * r;\n        const deter = b * b - 4 * a * cc;\n\n        if (deter < 0) {\n            result = new Intersection(\"Outside\");\n        }\n        else if (deter === 0) {\n            result = new Intersection(\"Tangent\");\n            // NOTE: should calculate this point\n        }\n        else {\n            const e = Math.sqrt(deter);\n            const u1 = (-b + e) / (2 * a);\n            const u2 = (-b - e) / (2 * a);\n\n            if ((u1 < 0 || u1 > 1) && (u2 < 0 || u2 > 1)) {\n                if ((u1 < 0 && u2 < 0) || (u1 > 1 && u2 > 1)) {\n                    result = new Intersection(\"Outside\");\n                }\n                else {\n                    result = new Intersection(\"Inside\");\n                }\n            }\n            else {\n                result = new Intersection(\"Intersection\");\n\n                if (0 <= u1 && u1 <= 1) {\n                    result.points.push(a1.lerp(a2, u1));\n                }\n\n                if (0 <= u2 && u2 <= 1) {\n                    result.points.push(a1.lerp(a2, u2));\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectCirclePolygon\n     *\n     *  @param {module:kld-intersections.Point2D} c\n     *  @param {number} r\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectCirclePolygon(c, r, points) {\n        return Intersection.intersectCirclePolyline(c, r, closePolygon(points));\n    }\n\n    /**\n     *  intersectCirclePolyline\n     *\n     *  @param {module:kld-intersections.Point2D} c\n     *  @param {number} r\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectCirclePolyline(c, r, points) {\n        const result = new Intersection(\"No Intersection\");\n        const {length: len} = points;\n        let inter;\n\n        for (let i = 0; i < len - 1; i++) {\n            const a1 = points[i];\n            const a2 = points[i + 1];\n\n            inter = Intersection.intersectCircleLine(c, r, a1, a2);\n            result.appendPoints(inter.points);\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n        else {\n            result.status = inter.status;\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectCircleRectangle\n     *\n     *  @param {module:kld-intersections.Point2D} c\n     *  @param {number} r\n     *  @param {module:kld-intersections.Point2D} r1\n     *  @param {module:kld-intersections.Point2D} r2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectCircleRectangle(c, r, r1, r2) {\n        const min = r1.min(r2);\n        const max = r1.max(r2);\n        const topRight = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(max.x, min.y);\n        const bottomLeft = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(min.x, max.y);\n\n        const inter1 = Intersection.intersectCircleLine(c, r, min, topRight);\n        const inter2 = Intersection.intersectCircleLine(c, r, topRight, max);\n        const inter3 = Intersection.intersectCircleLine(c, r, max, bottomLeft);\n        const inter4 = Intersection.intersectCircleLine(c, r, bottomLeft, min);\n\n        const result = new Intersection(\"No Intersection\");\n\n        result.appendPoints(inter1.points);\n        result.appendPoints(inter2.points);\n        result.appendPoints(inter3.points);\n        result.appendPoints(inter4.points);\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n        else {\n            result.status = inter1.status;\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectEllipseEllipse\n     *\n     *  This code is based on MgcIntr2DElpElp.cpp written by David Eberly.  His\n     *  code along with many other excellent examples are avaiable at his site:\n     *  http://www.magic-software.com\n     *\n     *  NOTE: Rotation will need to be added to this function\n     *\n     *  @param {module:kld-intersections.Point2D} c1\n     *  @param {number} rx1\n     *  @param {number} ry1\n     *  @param {module:kld-intersections.Point2D} c2\n     *  @param {number} rx2\n     *  @param {number} ry2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectEllipseEllipse(c1, rx1, ry1, c2, rx2, ry2) {\n        const a = [\n            ry1 * ry1, 0, rx1 * rx1, -2 * ry1 * ry1 * c1.x, -2 * rx1 * rx1 * c1.y,\n            ry1 * ry1 * c1.x * c1.x + rx1 * rx1 * c1.y * c1.y - rx1 * rx1 * ry1 * ry1\n        ];\n        const b = [\n            ry2 * ry2, 0, rx2 * rx2, -2 * ry2 * ry2 * c2.x, -2 * rx2 * rx2 * c2.y,\n            ry2 * ry2 * c2.x * c2.x + rx2 * rx2 * c2.y * c2.y - rx2 * rx2 * ry2 * ry2\n        ];\n\n        const yPoly = bezout(a, b);\n        const yRoots = yPoly.getRoots();\n        const epsilon = 1e-3;\n        const norm0 = (a[0] * a[0] + 2 * a[1] * a[1] + a[2] * a[2]) * epsilon;\n        const norm1 = (b[0] * b[0] + 2 * b[1] * b[1] + b[2] * b[2]) * epsilon;\n        const result = new Intersection(\"No Intersection\");\n\n        for (let y = 0; y < yRoots.length; y++) {\n            const xPoly = new kld_polynomial__WEBPACK_IMPORTED_MODULE_1__.Polynomial(\n                a[0],\n                a[3] + yRoots[y] * a[1],\n                a[5] + yRoots[y] * (a[4] + yRoots[y] * a[2])\n            );\n            const xRoots = xPoly.getRoots();\n\n            for (let x = 0; x < xRoots.length; x++) {\n                let tst =\n                    (a[0] * xRoots[x] + a[1] * yRoots[y] + a[3]) * xRoots[x] +\n                    (a[2] * yRoots[y] + a[4]) * yRoots[y] + a[5];\n                if (Math.abs(tst) < norm0) {\n                    tst =\n                        (b[0] * xRoots[x] + b[1] * yRoots[y] + b[3]) * xRoots[x] +\n                        (b[2] * yRoots[y] + b[4]) * yRoots[y] + b[5];\n                    if (Math.abs(tst) < norm1) {\n                        result.appendPoint(new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(xRoots[x], yRoots[y]));\n                    }\n                }\n            }\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectEllipseLine\n     *\n     *  NOTE: Rotation will need to be added to this function\n     *\n     *  @param {module:kld-intersections.Point2D} c\n     *  @param {number} rx\n     *  @param {number} ry\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectEllipseLine(c, rx, ry, a1, a2) {\n        let result;\n        const orign = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(a1.x, a1.y);\n        const dir = kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D.fromPoints(a1, a2);\n        const center = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(c.x, c.y);\n        const diff = orign.subtract(center);\n        const mDir = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(dir.x / (rx * rx), dir.y / (ry * ry));\n        const mDiff = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(diff.x / (rx * rx), diff.y / (ry * ry));\n\n        const a = dir.dot(mDir);\n        const b = dir.dot(mDiff);\n        c = diff.dot(mDiff) - 1.0;\n        const d = b * b - a * c;\n\n        if (d < 0) {\n            result = new Intersection(\"Outside\");\n        }\n        else if (d > 0) {\n            const root = Math.sqrt(d); // eslint-disable-line no-shadow\n            const t_a = (-b - root) / a;\n            const t_b = (-b + root) / a;\n\n            if ((t_a < 0 || 1 < t_a) && (t_b < 0 || 1 < t_b)) {\n                if ((t_a < 0 && t_b < 0) || (t_a > 1 && t_b > 1)) {\n                    result = new Intersection(\"Outside\");\n                }\n                else {\n                    result = new Intersection(\"Inside\");\n                }\n            }\n            else {\n                result = new Intersection(\"Intersection\");\n                if (0 <= t_a && t_a <= 1) {\n                    result.appendPoint(a1.lerp(a2, t_a));\n                }\n                if (0 <= t_b && t_b <= 1) {\n                    result.appendPoint(a1.lerp(a2, t_b));\n                }\n            }\n        }\n        else {\n            const t = -b / a;\n\n            if (0 <= t && t <= 1) {\n                result = new Intersection(\"Intersection\");\n                result.appendPoint(a1.lerp(a2, t));\n            }\n            else {\n                result = new Intersection(\"Outside\");\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectEllipsePolygon\n     *\n     *  @param {module:kld-intersections.Point2D} c\n     *  @param {number} rx\n     *  @param {number} ry\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectEllipsePolygon(c, rx, ry, points) {\n        return Intersection.intersectEllipsePolyline(c, rx, ry, closePolygon(points));\n    }\n\n    /**\n     *  intersectEllipsePolyline\n     *\n     *  @param {module:kld-intersections.Point2D} c\n     *  @param {number} rx\n     *  @param {number} ry\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectEllipsePolyline(c, rx, ry, points) {\n        const result = new Intersection(\"No Intersection\");\n        const {length: len} = points;\n\n        for (let i = 0; i < len - 1; i++) {\n            const b1 = points[i];\n            const b2 = points[i + 1];\n            const inter = Intersection.intersectEllipseLine(c, rx, ry, b1, b2);\n\n            result.appendPoints(inter.points);\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectEllipseRectangle\n     *\n     *  @param {module:kld-intersections.Point2D} c\n     *  @param {number} rx\n     *  @param {number} ry\n     *  @param {module:kld-intersections.Point2D} r1\n     *  @param {module:kld-intersections.Point2D} r2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectEllipseRectangle(c, rx, ry, r1, r2) {\n        const min = r1.min(r2);\n        const max = r1.max(r2);\n        const topRight = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(max.x, min.y);\n        const bottomLeft = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(min.x, max.y);\n\n        const inter1 = Intersection.intersectEllipseLine(c, rx, ry, min, topRight);\n        const inter2 = Intersection.intersectEllipseLine(c, rx, ry, topRight, max);\n        const inter3 = Intersection.intersectEllipseLine(c, rx, ry, max, bottomLeft);\n        const inter4 = Intersection.intersectEllipseLine(c, rx, ry, bottomLeft, min);\n\n        const result = new Intersection(\"No Intersection\");\n\n        result.appendPoints(inter1.points);\n        result.appendPoints(inter2.points);\n        result.appendPoints(inter3.points);\n        result.appendPoints(inter4.points);\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectLineLine\n     *\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @param {module:kld-intersections.Point2D} b1\n     *  @param {module:kld-intersections.Point2D} b2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectLineLine(a1, a2, b1, b2) {\n        let result;\n\n        const ua_t = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x);\n        const ub_t = (a2.x - a1.x) * (a1.y - b1.y) - (a2.y - a1.y) * (a1.x - b1.x);\n        const u_b = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);\n\n        if (u_b !== 0) {\n            const ua = ua_t / u_b;\n            const ub = ub_t / u_b;\n\n            if (0 <= ua && ua <= 1 && 0 <= ub && ub <= 1) {\n                result = new Intersection(\"Intersection\");\n                result.points.push(\n                    new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(\n                        a1.x + ua * (a2.x - a1.x),\n                        a1.y + ua * (a2.y - a1.y)\n                    )\n                );\n            }\n            else {\n                result = new Intersection(\"No Intersection\");\n            }\n        }\n        else if (ua_t === 0 || ub_t === 0) {\n            result = new Intersection(\"Coincident\");\n        }\n        else {\n            result = new Intersection(\"Parallel\");\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectLinePolygon\n     *\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectLinePolygon(a1, a2, points) {\n        return Intersection.intersectLinePolyline(a1, a2, closePolygon(points));\n    }\n\n    /**\n     *  intersectLinePolyline\n     *\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectLinePolyline(a1, a2, points) {\n        const result = new Intersection(\"No Intersection\");\n        const {length: len} = points;\n\n        for (let i = 0; i < len - 1; i++) {\n            const b1 = points[i];\n            const b2 = points[i + 1];\n            const inter = Intersection.intersectLineLine(a1, a2, b1, b2);\n\n            result.appendPoints(inter.points);\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectLineRectangle\n     *\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @param {module:kld-intersections.Point2D} r1\n     *  @param {module:kld-intersections.Point2D} r2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectLineRectangle(a1, a2, r1, r2) {\n        const min = r1.min(r2);\n        const max = r1.max(r2);\n        const topRight = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(max.x, min.y);\n        const bottomLeft = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(min.x, max.y);\n\n        const inter1 = Intersection.intersectLineLine(min, topRight, a1, a2);\n        const inter2 = Intersection.intersectLineLine(topRight, max, a1, a2);\n        const inter3 = Intersection.intersectLineLine(max, bottomLeft, a1, a2);\n        const inter4 = Intersection.intersectLineLine(bottomLeft, min, a1, a2);\n\n        const result = new Intersection(\"No Intersection\");\n\n        result.appendPoints(inter1.points);\n        result.appendPoints(inter2.points);\n        result.appendPoints(inter3.points);\n        result.appendPoints(inter4.points);\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectPolygonPolygon\n     *\n     *  @param {Array<module:kld-intersections.Point2D>} points1\n     *  @param {Array<module:kld-intersections.Point2D>} points2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectPolygonPolygon(points1, points2) {\n        return Intersection.intersectPolylinePolyline(closePolygon(points1), closePolygon(points2));\n    }\n\n    /**\n     *  intersectPolygonPolyline\n     *\n     *  @param {Array<module:kld-intersections.Point2D>} points1\n     *  @param {Array<module:kld-intersections.Point2D>} points2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectPolygonPolyline(points1, points2) {\n        return Intersection.intersectPolylinePolyline(closePolygon(points1), points2);\n    }\n\n    /**\n     *  intersectPolygonRectangle\n     *\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @param {module:kld-intersections.Point2D} r1\n     *  @param {module:kld-intersections.Point2D} r2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectPolygonRectangle(points, r1, r2) {\n        return Intersection.intersectPolylineRectangle(closePolygon(points), r1, r2);\n    }\n\n    /**\n     *  intersectPolylinePolyline\n     *\n     *  @param {Array<module:kld-intersections.Point2D>} points1\n     *  @param {Array<module:kld-intersections.Point2D>} points2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectPolylinePolyline(points1, points2) {\n        const result = new Intersection(\"No Intersection\");\n        const {length: len} = points1;\n\n        for (let i = 0; i < len - 1; i++) {\n            const a1 = points1[i];\n            const a2 = points1[i + 1];\n            const inter = Intersection.intersectLinePolyline(a1, a2, points2);\n\n            result.appendPoints(inter.points);\n        }\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectPolylineRectangle\n     *\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     *  @param {module:kld-intersections.Point2D} r1\n     *  @param {module:kld-intersections.Point2D} r2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectPolylineRectangle(points, r1, r2) {\n        const min = r1.min(r2);\n        const max = r1.max(r2);\n        const topRight = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(max.x, min.y);\n        const bottomLeft = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(min.x, max.y);\n\n        const inter1 = Intersection.intersectLinePolyline(min, topRight, points);\n        const inter2 = Intersection.intersectLinePolyline(topRight, max, points);\n        const inter3 = Intersection.intersectLinePolyline(max, bottomLeft, points);\n        const inter4 = Intersection.intersectLinePolyline(bottomLeft, min, points);\n\n        const result = new Intersection(\"No Intersection\");\n\n        result.appendPoints(inter1.points);\n        result.appendPoints(inter2.points);\n        result.appendPoints(inter3.points);\n        result.appendPoints(inter4.points);\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectRectangleRectangle\n     *\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @param {module:kld-intersections.Point2D} b1\n     *  @param {module:kld-intersections.Point2D} b2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectRectangleRectangle(a1, a2, b1, b2) {\n        const min = a1.min(a2);\n        const max = a1.max(a2);\n        const topRight = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(max.x, min.y);\n        const bottomLeft = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(min.x, max.y);\n\n        const inter1 = Intersection.intersectLineRectangle(min, topRight, b1, b2);\n        const inter2 = Intersection.intersectLineRectangle(topRight, max, b1, b2);\n        const inter3 = Intersection.intersectLineRectangle(max, bottomLeft, b1, b2);\n        const inter4 = Intersection.intersectLineRectangle(bottomLeft, min, b1, b2);\n\n        const result = new Intersection(\"No Intersection\");\n\n        result.appendPoints(inter1.points);\n        result.appendPoints(inter2.points);\n        result.appendPoints(inter3.points);\n        result.appendPoints(inter4.points);\n\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n\n        return result;\n    }\n\n    /**\n     *  intersectRayRay\n     *\n     *  @param {module:kld-intersections.Point2D} a1\n     *  @param {module:kld-intersections.Point2D} a2\n     *  @param {module:kld-intersections.Point2D} b1\n     *  @param {module:kld-intersections.Point2D} b2\n     *  @returns {module:kld-intersections.Intersection}\n     */\n    static intersectRayRay(a1, a2, b1, b2) {\n        let result;\n\n        const ua_t = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x);\n        const ub_t = (a2.x - a1.x) * (a1.y - b1.y) - (a2.y - a1.y) * (a1.x - b1.x);\n        const u_b = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);\n\n        if (u_b !== 0) {\n            const ua = ua_t / u_b;\n\n            result = new Intersection(\"Intersection\");\n            result.points.push(\n                new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(\n                    a1.x + ua * (a2.x - a1.x),\n                    a1.y + ua * (a2.y - a1.y)\n                )\n            );\n        }\n        else if (ua_t === 0 || ub_t === 0) {\n            result = new Intersection(\"Coincident\");\n        }\n        else {\n            result = new Intersection(\"Parallel\");\n        }\n\n        return result;\n    }\n\n    /**\n     *  appendPoint\n     *\n     *  @param {module:kld-intersections.Point2D} point\n     */\n    appendPoint(point) {\n        this.points.push(point);\n    }\n\n\n    /**\n     *  appendPoints\n     *\n     *  @param {Array<module:kld-intersections.Point2D>} points\n     */\n    appendPoints(points) {\n        this.points = this.points.concat(points);\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Intersection);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2tsZC1pbnRlcnNlY3Rpb25zQDAuNy4wL25vZGVfbW9kdWxlcy9rbGQtaW50ZXJzZWN0aW9ucy9saWIvSW50ZXJzZWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNkM7QUFDSDtBQUNIOztBQUV2QztBQUNBLG1CQUFtQixnREFBUTs7QUFFM0I7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkseUNBQXlDO0FBQ3JELFlBQVkseUNBQXlDO0FBQ3JELGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSxzREFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdUNBQXVDO0FBQ2xELFdBQVcsa0NBQWtDO0FBQzdDLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELGdEQUFROztBQUUzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVkseUNBQXlDO0FBQ3JE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Q0EsZ0JBQWdCLHlDQUF5QztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFlLFlBQVksRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0ByZXBvZ3JhcGgvd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9rbGQtaW50ZXJzZWN0aW9uc0AwLjcuMC9ub2RlX21vZHVsZXMva2xkLWludGVyc2VjdGlvbnMvbGliL0ludGVyc2VjdGlvbi5qcz85YzgwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSwgbm8tbGFiZWxzICovXG4vKipcbiAqXG4gKiAgSW50ZXJzZWN0aW9uLmpzXG4gKlxuICogIGNvcHlyaWdodCAyMDAyLCAyMDEzIEtldmluIExpbmRzZXlcbiAqL1xuXG5pbXBvcnQge1BvaW50MkQsIFZlY3RvcjJEfSBmcm9tIFwia2xkLWFmZmluZVwiO1xuaW1wb3J0IHtQb2x5bm9taWFsfSBmcm9tIFwia2xkLXBvbHlub21pYWxcIjtcbmltcG9ydCBTaGFwZUluZm8gZnJvbSBcIi4vU2hhcGVJbmZvLmpzXCI7XG5cbmNvbnN0IFRXT19QSSA9IDIuMCAqIE1hdGguUEk7XG5jb25zdCBVTklUX1ggPSBuZXcgVmVjdG9yMkQoMSwgMCk7XG5cbi8qKlxuICogQG1lbWJlcm9mIG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5JbnRlcnNlY3Rpb25cbiAqIEBwYXJhbSB7Kn0gb1xuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzTnVsbGlzaChvKSB7XG4gICAgcmV0dXJuIG8gPT09IG51bGwgfHwgbyA9PT0gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqICBiZXpvdXRcbiAqXG4gKiAgVGhpcyBjb2RlIGlzIGJhc2VkIG9uIE1nY0ludHIyREVscEVscC5jcHAgd3JpdHRlbiBieSBEYXZpZCBFYmVybHkuICBIaXNcbiAqICBjb2RlIGFsb25nIHdpdGggbWFueSBvdGhlciBleGNlbGxlbnQgZXhhbXBsZXMgYXJlIGF2YWlhYmxlIGF0IGhpcyBzaXRlOlxuICogIGh0dHA6Ly93d3cubWFnaWMtc29mdHdhcmUuY29tXG4gKlxuICogIEBwYXJhbSB7QXJyYXk8bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkQ+fSBlMVxuICogIEBwYXJhbSB7QXJyYXk8bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkQ+fSBlMlxuICogIEByZXR1cm5zIHtleHRlcm5hbDpQb2x5bm9taWFsfVxuICovXG5mdW5jdGlvbiBiZXpvdXQoZTEsIGUyKSB7XG4gICAgY29uc3QgQUIgPSBlMVswXSAqIGUyWzFdIC0gZTJbMF0gKiBlMVsxXTtcbiAgICBjb25zdCBBQyA9IGUxWzBdICogZTJbMl0gLSBlMlswXSAqIGUxWzJdO1xuICAgIGNvbnN0IEFEID0gZTFbMF0gKiBlMlszXSAtIGUyWzBdICogZTFbM107XG4gICAgY29uc3QgQUUgPSBlMVswXSAqIGUyWzRdIC0gZTJbMF0gKiBlMVs0XTtcbiAgICBjb25zdCBBRiA9IGUxWzBdICogZTJbNV0gLSBlMlswXSAqIGUxWzVdO1xuICAgIGNvbnN0IEJDID0gZTFbMV0gKiBlMlsyXSAtIGUyWzFdICogZTFbMl07XG4gICAgY29uc3QgQkUgPSBlMVsxXSAqIGUyWzRdIC0gZTJbMV0gKiBlMVs0XTtcbiAgICBjb25zdCBCRiA9IGUxWzFdICogZTJbNV0gLSBlMlsxXSAqIGUxWzVdO1xuICAgIGNvbnN0IENEID0gZTFbMl0gKiBlMlszXSAtIGUyWzJdICogZTFbM107XG4gICAgY29uc3QgREUgPSBlMVszXSAqIGUyWzRdIC0gZTJbM10gKiBlMVs0XTtcbiAgICBjb25zdCBERiA9IGUxWzNdICogZTJbNV0gLSBlMlszXSAqIGUxWzVdO1xuICAgIGNvbnN0IEJGcERFID0gQkYgKyBERTtcbiAgICBjb25zdCBCRW1DRCA9IEJFIC0gQ0Q7XG5cbiAgICByZXR1cm4gbmV3IFBvbHlub21pYWwoXG4gICAgICAgIEFCICogQkMgLSBBQyAqIEFDLFxuICAgICAgICBBQiAqIEJFbUNEICsgQUQgKiBCQyAtIDIgKiBBQyAqIEFFLFxuICAgICAgICBBQiAqIEJGcERFICsgQUQgKiBCRW1DRCAtIEFFICogQUUgLSAyICogQUMgKiBBRixcbiAgICAgICAgQUIgKiBERiArIEFEICogQkZwREUgLSAyICogQUUgKiBBRixcbiAgICAgICAgQUQgKiBERiAtIEFGICogQUZcbiAgICApO1xufVxuXG4vKipcbiAqIG5vcm1hbGl6ZUFuZ2xlXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbnNcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZUFuZ2xlKHJhZGlhbnMpIHtcbiAgICBjb25zdCBub3JtYWwgPSByYWRpYW5zICUgVFdPX1BJO1xuXG4gICAgcmV0dXJuIG5vcm1hbCA8IDAuMCA/IG5vcm1hbCArIFRXT19QSSA6IG5vcm1hbDtcbn1cblxuLyoqXG4gKiByZXN0cmljdFBvaW50c1RvQXJjXG4gKlxuICogQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufSBpbnRlcnNlY3Rpb25zXG4gKiBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBjZW50ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNYXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzWVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0UmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGVuZFJhZGlhbnNcbiAqIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICovXG5mdW5jdGlvbiByZXN0cmljdFBvaW50c1RvQXJjKGludGVyc2VjdGlvbnMsIGNlbnRlciwgcmFkaXVzWCwgcmFkaXVzWSwgc3RhcnRSYWRpYW5zLCBlbmRSYWRpYW5zKSB7XG4gICAgaWYgKGludGVyc2VjdGlvbnMucG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaW50ZXJzZWN0aW9ucztcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiTm8gSW50ZXJzZWN0aW9uXCIpO1xuXG4gICAgLy8gc3dhcCBpZiBlbmQgaXMgbG93ZXIsIHNvIHN0YXJ0IGlzIGFsd2F5cyB0aGUgbG93ZXIgb25lXG4gICAgaWYgKGVuZFJhZGlhbnMgPCBzdGFydFJhZGlhbnMpIHtcbiAgICAgICAgW3N0YXJ0UmFkaWFucywgZW5kUmFkaWFuc10gPSBbZW5kUmFkaWFucywgc3RhcnRSYWRpYW5zXTtcbiAgICB9XG5cbiAgICAvLyBtb3ZlIGV2ZXJ5dGhpbmcgdG8gdGhlIHBvc2l0aXZlIGRvbWFpbiwgc2ltdWx0YW5lb3VzbHlcbiAgICBpZiAoc3RhcnRSYWRpYW5zIDwgMCB8fCBlbmRSYWRpYW5zIDwgMCkge1xuICAgICAgICBzdGFydFJhZGlhbnMgKz0gVFdPX1BJO1xuICAgICAgICBlbmRSYWRpYW5zICs9IFRXT19QSTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHAgb2YgaW50ZXJzZWN0aW9ucy5wb2ludHMpIHtcbiAgICAgICAgbGV0IGEgPSBub3JtYWxpemVBbmdsZShVTklUX1guYW5nbGVCZXR3ZWVuKFZlY3RvcjJELmZyb21Qb2ludHMoY2VudGVyLCBwKSkpO1xuXG4gICAgICAgIC8vIGEgYW5nbGUgc21hbGxlciB0aGFuIHN0YXJ0LCBpdCBtYXkgc3RpbGwgYmUgYmV0d2VlblxuICAgICAgICAvLyB0aGlzIGhhcHBlbnMgaWYgZW5kID4gVFdPX1BJXG4gICAgICAgIGlmIChhIDwgc3RhcnRSYWRpYW5zKSB7XG4gICAgICAgICAgICBhICs9IFRXT19QSTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFydFJhZGlhbnMgPD0gYSAmJiBhIDw9IGVuZFJhZGlhbnMpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRQb2ludChwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZXN1bHQucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0LnN0YXR1cyA9IFwiSW50ZXJzZWN0aW9uXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiAgY2xvc2VQb2x5Z29uXG4gKiAgQG1lbWJlcm9mIG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5JbnRlcnNlY3Rpb25cbiAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzXG4gKiAgQHJldHVybnMge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn1cbiAqL1xuZnVuY3Rpb24gY2xvc2VQb2x5Z29uKHBvaW50cykge1xuICAgIGNvbnN0IGNvcHkgPSBwb2ludHMuc2xpY2UoKTtcblxuICAgIGNvcHkucHVzaChwb2ludHNbMF0pO1xuXG4gICAgcmV0dXJuIGNvcHk7XG59XG5cbi8qKlxuICogSW50ZXJzZWN0aW9uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zXG4gKi9cbmNsYXNzIEludGVyc2VjdGlvbiB7XG4gICAgLyoqXG4gICAgICogIEBwYXJhbSB7c3RyaW5nfSBzdGF0dXNcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5JbnRlcnNlY3Rpb259XG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3RhdHVzKSB7XG4gICAgICAgIHRoaXMuaW5pdChzdGF0dXMpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogIGluaXRcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge3N0cmluZ30gc3RhdHVzXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIGluaXQoc3RhdHVzKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99IHNoYXBlMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99IHNoYXBlMlxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0KHNoYXBlMSwgc2hhcGUyKSB7XG4gICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgaWYgKCFpc051bGxpc2goc2hhcGUxKSAmJiAhaXNOdWxsaXNoKHNoYXBlMikpIHtcbiAgICAgICAgICAgIGlmIChzaGFwZTEubmFtZSA9PT0gXCJQYXRoXCIpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0UGF0aFNoYXBlKHNoYXBlMSwgc2hhcGUyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlMi5uYW1lID09PSBcIlBhdGhcIikge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RQYXRoU2hhcGUoc2hhcGUyLCBzaGFwZTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGUxLm5hbWUgPT09IFwiQXJjXCIpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0QXJjU2hhcGUoc2hhcGUxLCBzaGFwZTIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGUyLm5hbWUgPT09IFwiQXJjXCIpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0QXJjU2hhcGUoc2hhcGUyLCBzaGFwZTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IG1ldGhvZDtcbiAgICAgICAgICAgICAgICBsZXQgYXJncztcblxuICAgICAgICAgICAgICAgIGlmIChzaGFwZTEubmFtZSA8IHNoYXBlMi5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZCA9IFwiaW50ZXJzZWN0XCIgKyBzaGFwZTEubmFtZSArIHNoYXBlMi5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gc2hhcGUxLmFyZ3MuY29uY2F0KHNoYXBlMi5hcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZCA9IFwiaW50ZXJzZWN0XCIgKyBzaGFwZTIubmFtZSArIHNoYXBlMS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gc2hhcGUyLmFyZ3MuY29uY2F0KHNoYXBlMS5hcmdzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIShtZXRob2QgaW4gSW50ZXJzZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW50ZXJzZWN0aW9uIG5vdCBhdmFpbGFibGU6IFwiICsgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBJbnRlcnNlY3Rpb25bbWV0aG9kXS5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJObyBJbnRlcnNlY3Rpb25cIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RQYXRoU2hhcGVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99IHBhdGhcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuU2hhcGVJbmZvfSBzaGFwZVxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0UGF0aFNoYXBlKHBhdGgsIHNoYXBlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJObyBJbnRlcnNlY3Rpb25cIik7XG5cbiAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHBhdGguYXJncykge1xuICAgICAgICAgICAgY29uc3QgaW50ZXIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0KHNlZ21lbnQsIHNoYXBlKTtcblxuICAgICAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlci5wb2ludHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IFwiSW50ZXJzZWN0aW9uXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGludGVyc2VjdEFyY1NoYXBlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99IGFyY1xuICAgICAqIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlNoYXBlSW5mb30gc2hhcGVcbiAgICAgKiBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0QXJjU2hhcGUoYXJjLCBzaGFwZSkge1xuICAgICAgICBjb25zdCBbY2VudGVyLCByYWRpdXNYLCByYWRpdXNZLCBzdGFydFJhZGlhbnMsIGVuZFJhZGlhbnNdID0gYXJjLmFyZ3M7XG4gICAgICAgIGNvbnN0IGVsbGlwc2UgPSBuZXcgU2hhcGVJbmZvKFNoYXBlSW5mby5FTExJUFNFLCBbY2VudGVyLCByYWRpdXNYLCByYWRpdXNZXSk7XG4gICAgICAgIGNvbnN0IGVsbGlwc2VfcmVzdWx0ID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdChlbGxpcHNlLCBzaGFwZSk7XG5cbiAgICAgICAgLy8gcmV0dXJuIGVsbGlwc2VfcmVzdWx0O1xuICAgICAgICByZXR1cm4gcmVzdHJpY3RQb2ludHNUb0FyYyhlbGxpcHNlX3Jlc3VsdCwgY2VudGVyLCByYWRpdXNYLCByYWRpdXNZLCBzdGFydFJhZGlhbnMsIGVuZFJhZGlhbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RCZXppZXIyQmV6aWVyMlxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGExXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGEyXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGEzXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGIxXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGIyXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGIzXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RCZXppZXIyQmV6aWVyMihhMSwgYTIsIGEzLCBiMSwgYjIsIGIzKSB7XG4gICAgICAgIGxldCBhLCBiO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiTm8gSW50ZXJzZWN0aW9uXCIpO1xuXG4gICAgICAgIGEgPSBhMi5tdWx0aXBseSgtMik7XG4gICAgICAgIGNvbnN0IGMxMiA9IGExLmFkZChhLmFkZChhMykpO1xuXG4gICAgICAgIGEgPSBhMS5tdWx0aXBseSgtMik7XG4gICAgICAgIGIgPSBhMi5tdWx0aXBseSgyKTtcbiAgICAgICAgY29uc3QgYzExID0gYS5hZGQoYik7XG5cbiAgICAgICAgY29uc3QgYzEwID0gbmV3IFBvaW50MkQoYTEueCwgYTEueSk7XG5cbiAgICAgICAgYSA9IGIyLm11bHRpcGx5KC0yKTtcbiAgICAgICAgY29uc3QgYzIyID0gYjEuYWRkKGEuYWRkKGIzKSk7XG5cbiAgICAgICAgYSA9IGIxLm11bHRpcGx5KC0yKTtcbiAgICAgICAgYiA9IGIyLm11bHRpcGx5KDIpO1xuICAgICAgICBjb25zdCBjMjEgPSBhLmFkZChiKTtcblxuICAgICAgICBjb25zdCBjMjAgPSBuZXcgUG9pbnQyRChiMS54LCBiMS55KTtcblxuICAgICAgICAvLyBiZXpvdXRcbiAgICAgICAgYSA9IGMxMi54ICogYzExLnkgLSBjMTEueCAqIGMxMi55O1xuICAgICAgICBiID0gYzIyLnggKiBjMTEueSAtIGMxMS54ICogYzIyLnk7XG4gICAgICAgIGNvbnN0IGMgPSBjMjEueCAqIGMxMS55IC0gYzExLnggKiBjMjEueTtcbiAgICAgICAgY29uc3QgZCA9IGMxMS54ICogKGMxMC55IC0gYzIwLnkpICsgYzExLnkgKiAoLWMxMC54ICsgYzIwLngpO1xuICAgICAgICBjb25zdCBlID0gYzIyLnggKiBjMTIueSAtIGMxMi54ICogYzIyLnk7XG4gICAgICAgIGNvbnN0IGYgPSBjMjEueCAqIGMxMi55IC0gYzEyLnggKiBjMjEueTtcbiAgICAgICAgY29uc3QgZyA9IGMxMi54ICogKGMxMC55IC0gYzIwLnkpICsgYzEyLnkgKiAoLWMxMC54ICsgYzIwLngpO1xuXG4gICAgICAgIC8vIGRldGVybWluYW50XG4gICAgICAgIGNvbnN0IHBvbHkgPSBuZXcgUG9seW5vbWlhbChcbiAgICAgICAgICAgIC1lICogZSxcbiAgICAgICAgICAgIC0yICogZSAqIGYsXG4gICAgICAgICAgICBhICogYiAtIGYgKiBmIC0gMiAqIGUgKiBnLFxuICAgICAgICAgICAgYSAqIGMgLSAyICogZiAqIGcsXG4gICAgICAgICAgICBhICogZCAtIGcgKiBnXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3Qgcm9vdHMgPSBwb2x5LmdldFJvb3RzKCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHJvb3RzKSB7XG4gICAgICAgICAgICBpZiAoMCA8PSBzICYmIHMgPD0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHhwID0gbmV3IFBvbHlub21pYWwoXG4gICAgICAgICAgICAgICAgICAgIGMxMi54LFxuICAgICAgICAgICAgICAgICAgICBjMTEueCxcbiAgICAgICAgICAgICAgICAgICAgYzEwLnggLSBjMjAueCAtIHMgKiBjMjEueCAtIHMgKiBzICogYzIyLnhcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHhwLnNpbXBsaWZ5RXF1YWxzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeFJvb3RzID0geHAuZ2V0Um9vdHMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB5cCA9IG5ldyBQb2x5bm9taWFsKFxuICAgICAgICAgICAgICAgICAgICBjMTIueSxcbiAgICAgICAgICAgICAgICAgICAgYzExLnksXG4gICAgICAgICAgICAgICAgICAgIGMxMC55IC0gYzIwLnkgLSBzICogYzIxLnkgLSBzICogcyAqIGMyMi55XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB5cC5zaW1wbGlmeUVxdWFscygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHlSb290cyA9IHlwLmdldFJvb3RzKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoeFJvb3RzLmxlbmd0aCA+IDAgJiYgeVJvb3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVE9MRVJBTkNFID0gMWUtNDtcblxuICAgICAgICAgICAgICAgICAgICBjaGVja1Jvb3RzOlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHhSb290IG9mIHhSb290cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDAgPD0geFJvb3QgJiYgeFJvb3QgPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgeVJvb3RzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh4Um9vdCAtIHlSb290c1trXSkgPCBUT0xFUkFOQ0UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wb2ludHMucHVzaChjMjIubXVsdGlwbHkocyAqIHMpLmFkZChjMjEubXVsdGlwbHkocykuYWRkKGMyMCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGNoZWNrUm9vdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzdWx0LnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzID0gXCJJbnRlcnNlY3Rpb25cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGludGVyc2VjdEJlemllcjJCZXppZXIzXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYTFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYTJcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYTNcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYjFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYjJcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYjNcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYjRcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5JbnRlcnNlY3Rpb259XG4gICAgICovXG4gICAgc3RhdGljIGludGVyc2VjdEJlemllcjJCZXppZXIzKGExLCBhMiwgYTMsIGIxLCBiMiwgYjMsIGI0KSB7XG4gICAgICAgIGxldCBhLCBiLCBjLCBkO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiTm8gSW50ZXJzZWN0aW9uXCIpO1xuXG4gICAgICAgIGEgPSBhMi5tdWx0aXBseSgtMik7XG4gICAgICAgIGNvbnN0IGMxMiA9IGExLmFkZChhLmFkZChhMykpO1xuXG4gICAgICAgIGEgPSBhMS5tdWx0aXBseSgtMik7XG4gICAgICAgIGIgPSBhMi5tdWx0aXBseSgyKTtcbiAgICAgICAgY29uc3QgYzExID0gYS5hZGQoYik7XG5cbiAgICAgICAgY29uc3QgYzEwID0gbmV3IFBvaW50MkQoYTEueCwgYTEueSk7XG5cbiAgICAgICAgYSA9IGIxLm11bHRpcGx5KC0xKTtcbiAgICAgICAgYiA9IGIyLm11bHRpcGx5KDMpO1xuICAgICAgICBjID0gYjMubXVsdGlwbHkoLTMpO1xuICAgICAgICBkID0gYS5hZGQoYi5hZGQoYy5hZGQoYjQpKSk7XG4gICAgICAgIGNvbnN0IGMyMyA9IG5ldyBQb2ludDJEKGQueCwgZC55KTtcblxuICAgICAgICBhID0gYjEubXVsdGlwbHkoMyk7XG4gICAgICAgIGIgPSBiMi5tdWx0aXBseSgtNik7XG4gICAgICAgIGMgPSBiMy5tdWx0aXBseSgzKTtcbiAgICAgICAgZCA9IGEuYWRkKGIuYWRkKGMpKTtcbiAgICAgICAgY29uc3QgYzIyID0gbmV3IFBvaW50MkQoZC54LCBkLnkpO1xuXG4gICAgICAgIGEgPSBiMS5tdWx0aXBseSgtMyk7XG4gICAgICAgIGIgPSBiMi5tdWx0aXBseSgzKTtcbiAgICAgICAgYyA9IGEuYWRkKGIpO1xuICAgICAgICBjb25zdCBjMjEgPSBuZXcgUG9pbnQyRChjLngsIGMueSk7XG5cbiAgICAgICAgY29uc3QgYzIwID0gbmV3IFBvaW50MkQoYjEueCwgYjEueSk7XG5cbiAgICAgICAgY29uc3QgYzEweDIgPSBjMTAueCAqIGMxMC54O1xuICAgICAgICBjb25zdCBjMTB5MiA9IGMxMC55ICogYzEwLnk7XG4gICAgICAgIGNvbnN0IGMxMXgyID0gYzExLnggKiBjMTEueDtcbiAgICAgICAgY29uc3QgYzExeTIgPSBjMTEueSAqIGMxMS55O1xuICAgICAgICBjb25zdCBjMTJ4MiA9IGMxMi54ICogYzEyLng7XG4gICAgICAgIGNvbnN0IGMxMnkyID0gYzEyLnkgKiBjMTIueTtcbiAgICAgICAgY29uc3QgYzIweDIgPSBjMjAueCAqIGMyMC54O1xuICAgICAgICBjb25zdCBjMjB5MiA9IGMyMC55ICogYzIwLnk7XG4gICAgICAgIGNvbnN0IGMyMXgyID0gYzIxLnggKiBjMjEueDtcbiAgICAgICAgY29uc3QgYzIxeTIgPSBjMjEueSAqIGMyMS55O1xuICAgICAgICBjb25zdCBjMjJ4MiA9IGMyMi54ICogYzIyLng7XG4gICAgICAgIGNvbnN0IGMyMnkyID0gYzIyLnkgKiBjMjIueTtcbiAgICAgICAgY29uc3QgYzIzeDIgPSBjMjMueCAqIGMyMy54O1xuICAgICAgICBjb25zdCBjMjN5MiA9IGMyMy55ICogYzIzLnk7XG5cbiAgICAgICAgY29uc3QgcG9seSA9IG5ldyBQb2x5bm9taWFsKFxuICAgICAgICAgICAgLTIgKiBjMTIueCAqIGMxMi55ICogYzIzLnggKiBjMjMueSArIGMxMngyICogYzIzeTIgKyBjMTJ5MiAqIGMyM3gyLFxuICAgICAgICAgICAgLTIgKiBjMTIueCAqIGMxMi55ICogYzIyLnggKiBjMjMueSAtIDIgKiBjMTIueCAqIGMxMi55ICogYzIyLnkgKiBjMjMueCArIDIgKiBjMTJ5MiAqIGMyMi54ICogYzIzLnggK1xuICAgICAgICAgICAgICAgIDIgKiBjMTJ4MiAqIGMyMi55ICogYzIzLnksXG4gICAgICAgICAgICAtMiAqIGMxMi54ICogYzIxLnggKiBjMTIueSAqIGMyMy55IC0gMiAqIGMxMi54ICogYzEyLnkgKiBjMjEueSAqIGMyMy54IC0gMiAqIGMxMi54ICogYzEyLnkgKiBjMjIueCAqIGMyMi55ICtcbiAgICAgICAgICAgICAgICAyICogYzIxLnggKiBjMTJ5MiAqIGMyMy54ICsgYzEyeTIgKiBjMjJ4MiArIGMxMngyICogKDIgKiBjMjEueSAqIGMyMy55ICsgYzIyeTIpLFxuICAgICAgICAgICAgMiAqIGMxMC54ICogYzEyLnggKiBjMTIueSAqIGMyMy55ICsgMiAqIGMxMC55ICogYzEyLnggKiBjMTIueSAqIGMyMy54ICsgYzExLnggKiBjMTEueSAqIGMxMi54ICogYzIzLnkgK1xuICAgICAgICAgICAgICAgIGMxMS54ICogYzExLnkgKiBjMTIueSAqIGMyMy54IC0gMiAqIGMyMC54ICogYzEyLnggKiBjMTIueSAqIGMyMy55IC0gMiAqIGMxMi54ICogYzIwLnkgKiBjMTIueSAqIGMyMy54IC1cbiAgICAgICAgICAgICAgICAyICogYzEyLnggKiBjMjEueCAqIGMxMi55ICogYzIyLnkgLSAyICogYzEyLnggKiBjMTIueSAqIGMyMS55ICogYzIyLnggLSAyICogYzEwLnggKiBjMTJ5MiAqIGMyMy54IC1cbiAgICAgICAgICAgICAgICAyICogYzEwLnkgKiBjMTJ4MiAqIGMyMy55ICsgMiAqIGMyMC54ICogYzEyeTIgKiBjMjMueCArIDIgKiBjMjEueCAqIGMxMnkyICogYzIyLnggLVxuICAgICAgICAgICAgICAgIGMxMXkyICogYzEyLnggKiBjMjMueCAtIGMxMXgyICogYzEyLnkgKiBjMjMueSArIGMxMngyICogKDIgKiBjMjAueSAqIGMyMy55ICsgMiAqIGMyMS55ICogYzIyLnkpLFxuICAgICAgICAgICAgMiAqIGMxMC54ICogYzEyLnggKiBjMTIueSAqIGMyMi55ICsgMiAqIGMxMC55ICogYzEyLnggKiBjMTIueSAqIGMyMi54ICsgYzExLnggKiBjMTEueSAqIGMxMi54ICogYzIyLnkgK1xuICAgICAgICAgICAgICAgIGMxMS54ICogYzExLnkgKiBjMTIueSAqIGMyMi54IC0gMiAqIGMyMC54ICogYzEyLnggKiBjMTIueSAqIGMyMi55IC0gMiAqIGMxMi54ICogYzIwLnkgKiBjMTIueSAqIGMyMi54IC1cbiAgICAgICAgICAgICAgICAyICogYzEyLnggKiBjMjEueCAqIGMxMi55ICogYzIxLnkgLSAyICogYzEwLnggKiBjMTJ5MiAqIGMyMi54IC0gMiAqIGMxMC55ICogYzEyeDIgKiBjMjIueSArXG4gICAgICAgICAgICAgICAgMiAqIGMyMC54ICogYzEyeTIgKiBjMjIueCAtIGMxMXkyICogYzEyLnggKiBjMjIueCAtIGMxMXgyICogYzEyLnkgKiBjMjIueSArIGMyMXgyICogYzEyeTIgK1xuICAgICAgICAgICAgICAgIGMxMngyICogKDIgKiBjMjAueSAqIGMyMi55ICsgYzIxeTIpLFxuICAgICAgICAgICAgMiAqIGMxMC54ICogYzEyLnggKiBjMTIueSAqIGMyMS55ICsgMiAqIGMxMC55ICogYzEyLnggKiBjMjEueCAqIGMxMi55ICsgYzExLnggKiBjMTEueSAqIGMxMi54ICogYzIxLnkgK1xuICAgICAgICAgICAgICAgIGMxMS54ICogYzExLnkgKiBjMjEueCAqIGMxMi55IC0gMiAqIGMyMC54ICogYzEyLnggKiBjMTIueSAqIGMyMS55IC0gMiAqIGMxMi54ICogYzIwLnkgKiBjMjEueCAqIGMxMi55IC1cbiAgICAgICAgICAgICAgICAyICogYzEwLnggKiBjMjEueCAqIGMxMnkyIC0gMiAqIGMxMC55ICogYzEyeDIgKiBjMjEueSArIDIgKiBjMjAueCAqIGMyMS54ICogYzEyeTIgLVxuICAgICAgICAgICAgICAgIGMxMXkyICogYzEyLnggKiBjMjEueCAtIGMxMXgyICogYzEyLnkgKiBjMjEueSArIDIgKiBjMTJ4MiAqIGMyMC55ICogYzIxLnksXG4gICAgICAgICAgICAtMiAqIGMxMC54ICogYzEwLnkgKiBjMTIueCAqIGMxMi55IC0gYzEwLnggKiBjMTEueCAqIGMxMS55ICogYzEyLnkgLSBjMTAueSAqIGMxMS54ICogYzExLnkgKiBjMTIueCArXG4gICAgICAgICAgICAgICAgMiAqIGMxMC54ICogYzEyLnggKiBjMjAueSAqIGMxMi55ICsgMiAqIGMxMC55ICogYzIwLnggKiBjMTIueCAqIGMxMi55ICsgYzExLnggKiBjMjAueCAqIGMxMS55ICogYzEyLnkgK1xuICAgICAgICAgICAgICAgIGMxMS54ICogYzExLnkgKiBjMTIueCAqIGMyMC55IC0gMiAqIGMyMC54ICogYzEyLnggKiBjMjAueSAqIGMxMi55IC0gMiAqIGMxMC54ICogYzIwLnggKiBjMTJ5MiArXG4gICAgICAgICAgICAgICAgYzEwLnggKiBjMTF5MiAqIGMxMi54ICsgYzEwLnkgKiBjMTF4MiAqIGMxMi55IC0gMiAqIGMxMC55ICogYzEyeDIgKiBjMjAueSAtXG4gICAgICAgICAgICAgICAgYzIwLnggKiBjMTF5MiAqIGMxMi54IC0gYzExeDIgKiBjMjAueSAqIGMxMi55ICsgYzEweDIgKiBjMTJ5MiArIGMxMHkyICogYzEyeDIgK1xuICAgICAgICAgICAgICAgIGMyMHgyICogYzEyeTIgKyBjMTJ4MiAqIGMyMHkyXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHJvb3RzID0gcG9seS5nZXRSb290c0luSW50ZXJ2YWwoMCwgMSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHJvb3RzKSB7XG4gICAgICAgICAgICBjb25zdCB4Um9vdHMgPSBuZXcgUG9seW5vbWlhbChcbiAgICAgICAgICAgICAgICBjMTIueCxcbiAgICAgICAgICAgICAgICBjMTEueCxcbiAgICAgICAgICAgICAgICBjMTAueCAtIGMyMC54IC0gcyAqIGMyMS54IC0gcyAqIHMgKiBjMjIueCAtIHMgKiBzICogcyAqIGMyMy54XG4gICAgICAgICAgICApLmdldFJvb3RzKCk7XG4gICAgICAgICAgICBjb25zdCB5Um9vdHMgPSBuZXcgUG9seW5vbWlhbChcbiAgICAgICAgICAgICAgICBjMTIueSxcbiAgICAgICAgICAgICAgICBjMTEueSxcbiAgICAgICAgICAgICAgICBjMTAueSAtIGMyMC55IC0gcyAqIGMyMS55IC0gcyAqIHMgKiBjMjIueSAtIHMgKiBzICogcyAqIGMyMy55XG4gICAgICAgICAgICApLmdldFJvb3RzKCk7XG5cbiAgICAgICAgICAgIGlmICh4Um9vdHMubGVuZ3RoID4gMCAmJiB5Um9vdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFRPTEVSQU5DRSA9IDFlLTQ7XG5cbiAgICAgICAgICAgICAgICBjaGVja1Jvb3RzOlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgeFJvb3Qgb2YgeFJvb3RzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgwIDw9IHhSb290ICYmIHhSb290IDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgeVJvb3RzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHhSb290IC0geVJvb3RzW2tdKSA8IFRPTEVSQU5DRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucG9pbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjMjMubXVsdGlwbHkocyAqIHMgKiBzKS5hZGQoYzIyLm11bHRpcGx5KHMgKiBzKS5hZGQoYzIxLm11bHRpcGx5KHMpLmFkZChjMjApKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgY2hlY2tSb290cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzdWx0LnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzID0gXCJJbnRlcnNlY3Rpb25cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGludGVyc2VjdEJlemllcjJDaXJjbGVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwM1xuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBjXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RCZXppZXIyQ2lyY2xlKHAxLCBwMiwgcDMsIGMsIHIpIHtcbiAgICAgICAgcmV0dXJuIEludGVyc2VjdGlvbi5pbnRlcnNlY3RCZXppZXIyRWxsaXBzZShwMSwgcDIsIHAzLCBjLCByLCByKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0QmV6aWVyMkVsbGlwc2VcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwM1xuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBlY1xuICAgICAqICBAcGFyYW0ge251bWJlcn0gcnhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHJ5XG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RCZXppZXIyRWxsaXBzZShwMSwgcDIsIHAzLCBlYywgcngsIHJ5KSB7XG4gICAgICAgIGxldCBhOyAvLyB0ZW1wb3JhcnkgdmFyaWFibGVzXG4gICAgICAgIC8vIGMyLCBjMSwgYzA7IC8vIGNvZWZmaWNpZW50cyBvZiBxdWFkcmF0aWNcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIk5vIEludGVyc2VjdGlvblwiKTtcblxuICAgICAgICBhID0gcDIubXVsdGlwbHkoLTIpO1xuICAgICAgICBjb25zdCBjMiA9IHAxLmFkZChhLmFkZChwMykpO1xuXG4gICAgICAgIGEgPSBwMS5tdWx0aXBseSgtMik7XG4gICAgICAgIGNvbnN0IGIgPSBwMi5tdWx0aXBseSgyKTtcbiAgICAgICAgY29uc3QgYzEgPSBhLmFkZChiKTtcblxuICAgICAgICBjb25zdCBjMCA9IG5ldyBQb2ludDJEKHAxLngsIHAxLnkpO1xuXG4gICAgICAgIGNvbnN0IHJ4cnggPSByeCAqIHJ4O1xuICAgICAgICBjb25zdCByeXJ5ID0gcnkgKiByeTtcbiAgICAgICAgY29uc3Qgcm9vdHMgPSBuZXcgUG9seW5vbWlhbChcbiAgICAgICAgICAgIHJ5cnkgKiBjMi54ICogYzIueCArIHJ4cnggKiBjMi55ICogYzIueSxcbiAgICAgICAgICAgIDIgKiAocnlyeSAqIGMyLnggKiBjMS54ICsgcnhyeCAqIGMyLnkgKiBjMS55KSxcbiAgICAgICAgICAgIHJ5cnkgKiAoMiAqIGMyLnggKiBjMC54ICsgYzEueCAqIGMxLngpICsgcnhyeCAqICgyICogYzIueSAqIGMwLnkgKyBjMS55ICogYzEueSkgLVxuICAgICAgICAgICAgICAgIDIgKiAocnlyeSAqIGVjLnggKiBjMi54ICsgcnhyeCAqIGVjLnkgKiBjMi55KSxcbiAgICAgICAgICAgIDIgKiAocnlyeSAqIGMxLnggKiAoYzAueCAtIGVjLngpICsgcnhyeCAqIGMxLnkgKiAoYzAueSAtIGVjLnkpKSxcbiAgICAgICAgICAgIHJ5cnkgKiAoYzAueCAqIGMwLnggKyBlYy54ICogZWMueCkgKyByeHJ4ICogKGMwLnkgKiBjMC55ICsgZWMueSAqIGVjLnkpIC1cbiAgICAgICAgICAgICAgICAyICogKHJ5cnkgKiBlYy54ICogYzAueCArIHJ4cnggKiBlYy55ICogYzAueSkgLSByeHJ4ICogcnlyeVxuICAgICAgICApLmdldFJvb3RzKCk7XG5cbiAgICAgICAgZm9yIChjb25zdCB0IG9mIHJvb3RzKSB7XG4gICAgICAgICAgICBpZiAoMCA8PSB0ICYmIHQgPD0gMSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wb2ludHMucHVzaChjMi5tdWx0aXBseSh0ICogdCkuYWRkKGMxLm11bHRpcGx5KHQpLmFkZChjMCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBcIkludGVyc2VjdGlvblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0QmV6aWVyMkxpbmVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwM1xuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBhMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBhMlxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0QmV6aWVyMkxpbmUocDEsIHAyLCBwMywgYTEsIGEyKSB7XG4gICAgICAgIGxldCBhOyAvLyB0ZW1wb3JhcnkgdmFyaWFibGVzXG4gICAgICAgIC8vIGxldCBjMiwgYzEsIGMwOyAvLyBjb2VmZmljaWVudHMgb2YgcXVhZHJhdGljXG4gICAgICAgIC8vIGNsOyAvLyBjIGNvZWZmaWNpZW50IGZvciBub3JtYWwgZm9ybSBvZiBsaW5lXG4gICAgICAgIC8vIG47IC8vIG5vcm1hbCBmb3Igbm9ybWFsIGZvcm0gb2YgbGluZVxuICAgICAgICBjb25zdCBtaW4gPSBhMS5taW4oYTIpOyAvLyB1c2VkIHRvIGRldGVybWluZSBpZiBwb2ludCBpcyBvbiBsaW5lIHNlZ21lbnRcbiAgICAgICAgY29uc3QgbWF4ID0gYTEubWF4KGEyKTsgLy8gdXNlZCB0byBkZXRlcm1pbmUgaWYgcG9pbnQgaXMgb24gbGluZSBzZWdtZW50XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJObyBJbnRlcnNlY3Rpb25cIik7XG5cbiAgICAgICAgYSA9IHAyLm11bHRpcGx5KC0yKTtcbiAgICAgICAgY29uc3QgYzIgPSBwMS5hZGQoYS5hZGQocDMpKTtcblxuICAgICAgICBhID0gcDEubXVsdGlwbHkoLTIpO1xuICAgICAgICBjb25zdCBiID0gcDIubXVsdGlwbHkoMik7XG4gICAgICAgIGNvbnN0IGMxID0gYS5hZGQoYik7XG5cbiAgICAgICAgY29uc3QgYzAgPSBuZXcgUG9pbnQyRChwMS54LCBwMS55KTtcblxuICAgICAgICAvLyBDb252ZXJ0IGxpbmUgdG8gbm9ybWFsIGZvcm06IGF4ICsgYnkgKyBjID0gMFxuICAgICAgICAvLyBGaW5kIG5vcm1hbCB0byBsaW5lOiBuZWdhdGl2ZSBpbnZlcnNlIG9mIG9yaWdpbmFsIGxpbmUncyBzbG9wZVxuICAgICAgICBjb25zdCBuID0gbmV3IFZlY3RvcjJEKGExLnkgLSBhMi55LCBhMi54IC0gYTEueCk7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIG5ldyBjIGNvZWZmaWNpZW50XG4gICAgICAgIGNvbnN0IGNsID0gYTEueCAqIGEyLnkgLSBhMi54ICogYTEueTtcblxuICAgICAgICAvLyBUcmFuc2Zvcm0gY3ViaWMgY29lZmZpY2llbnRzIHRvIGxpbmUncyBjb29yZGluYXRlIHN5c3RlbSBhbmQgZmluZCByb290c1xuICAgICAgICAvLyBvZiBjdWJpY1xuICAgICAgICBjb25zdCByb290cyA9IG5ldyBQb2x5bm9taWFsKFxuICAgICAgICAgICAgbi5kb3QoYzIpLFxuICAgICAgICAgICAgbi5kb3QoYzEpLFxuICAgICAgICAgICAgbi5kb3QoYzApICsgY2xcbiAgICAgICAgKS5nZXRSb290cygpO1xuXG4gICAgICAgIC8vIEFueSByb290cyBpbiBjbG9zZWQgaW50ZXJ2YWwgWzAsMV0gYXJlIGludGVyc2VjdGlvbnMgb24gQmV6aWVyLCBidXRcbiAgICAgICAgLy8gbWlnaHQgbm90IGJlIG9uIHRoZSBsaW5lIHNlZ21lbnQuXG4gICAgICAgIC8vIEZpbmQgaW50ZXJzZWN0aW9ucyBhbmQgY2FsY3VsYXRlIHBvaW50IGNvb3JkaW5hdGVzXG4gICAgICAgIGZvciAoY29uc3QgdCBvZiByb290cykge1xuICAgICAgICAgICAgaWYgKDAgPD0gdCAmJiB0IDw9IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSdyZSB3aXRoaW4gdGhlIEJlemllciBjdXJ2ZVxuICAgICAgICAgICAgICAgIC8vIEZpbmQgcG9pbnQgb24gQmV6aWVyXG4gICAgICAgICAgICAgICAgY29uc3QgcDQgPSBwMS5sZXJwKHAyLCB0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwNSA9IHAyLmxlcnAocDMsIHQpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcDYgPSBwNC5sZXJwKHA1LCB0KTtcblxuICAgICAgICAgICAgICAgIC8vIFNlZSBpZiBwb2ludCBpcyBvbiBsaW5lIHNlZ21lbnRcbiAgICAgICAgICAgICAgICAvLyBIYWQgdG8gbWFrZSBzcGVjaWFsIGNhc2VzIGZvciB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBsaW5lcyBkdWVcbiAgICAgICAgICAgICAgICAvLyB0byBzbGlnaHQgZXJyb3JzIGluIGNhbGN1bGF0aW9uIG9mIHA2XG4gICAgICAgICAgICAgICAgaWYgKGExLnggPT09IGEyLngpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbi55IDw9IHA2LnkgJiYgcDYueSA8PSBtYXgueSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IFwiSW50ZXJzZWN0aW9uXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnQocDYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGExLnkgPT09IGEyLnkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbi54IDw9IHA2LnggJiYgcDYueCA8PSBtYXgueCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IFwiSW50ZXJzZWN0aW9uXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnQocDYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1pbi54IDw9IHA2LnggJiYgcDYueCA8PSBtYXgueCAmJiBtaW4ueSA8PSBwNi55ICYmIHA2LnkgPD0gbWF4LnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IFwiSW50ZXJzZWN0aW9uXCI7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRQb2ludChwNik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0QmV6aWVyMlBvbHlnb25cbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwM1xuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RCZXppZXIyUG9seWdvbihwMSwgcDIsIHAzLCBwb2ludHMpIHtcbiAgICAgICAgcmV0dXJuIEludGVyc2VjdGlvbi5pbnRlcnNlY3RCZXppZXIyUG9seWxpbmUocDEsIHAyLCBwMywgY2xvc2VQb2x5Z29uKHBvaW50cykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RCZXppZXIyUG9seWxpbmVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwM1xuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RCZXppZXIyUG9seWxpbmUocDEsIHAyLCBwMywgcG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJObyBJbnRlcnNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHtsZW5ndGg6IGxlbn0gPSBwb2ludHM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW4gLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGExID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgYTIgPSBwb2ludHNbaSArIDFdO1xuICAgICAgICAgICAgY29uc3QgaW50ZXIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0QmV6aWVyMkxpbmUocDEsIHAyLCBwMywgYTEsIGEyKTtcblxuICAgICAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlci5wb2ludHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IFwiSW50ZXJzZWN0aW9uXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RCZXppZXIyUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDJcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDNcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcjFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcjJcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5JbnRlcnNlY3Rpb259XG4gICAgICovXG4gICAgc3RhdGljIGludGVyc2VjdEJlemllcjJSZWN0YW5nbGUocDEsIHAyLCBwMywgcjEsIHIyKSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IHIxLm1pbihyMik7XG4gICAgICAgIGNvbnN0IG1heCA9IHIxLm1heChyMik7XG4gICAgICAgIGNvbnN0IHRvcFJpZ2h0ID0gbmV3IFBvaW50MkQobWF4LngsIG1pbi55KTtcbiAgICAgICAgY29uc3QgYm90dG9tTGVmdCA9IG5ldyBQb2ludDJEKG1pbi54LCBtYXgueSk7XG5cbiAgICAgICAgY29uc3QgaW50ZXIxID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdEJlemllcjJMaW5lKHAxLCBwMiwgcDMsIG1pbiwgdG9wUmlnaHQpO1xuICAgICAgICBjb25zdCBpbnRlcjIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0QmV6aWVyMkxpbmUocDEsIHAyLCBwMywgdG9wUmlnaHQsIG1heCk7XG4gICAgICAgIGNvbnN0IGludGVyMyA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RCZXppZXIyTGluZShwMSwgcDIsIHAzLCBtYXgsIGJvdHRvbUxlZnQpO1xuICAgICAgICBjb25zdCBpbnRlcjQgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0QmV6aWVyMkxpbmUocDEsIHAyLCBwMywgYm90dG9tTGVmdCwgbWluKTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiTm8gSW50ZXJzZWN0aW9uXCIpO1xuXG4gICAgICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIxLnBvaW50cyk7XG4gICAgICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIyLnBvaW50cyk7XG4gICAgICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIzLnBvaW50cyk7XG4gICAgICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXI0LnBvaW50cyk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IFwiSW50ZXJzZWN0aW9uXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RCZXppZXIzQmV6aWVyM1xuICAgICAqXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGExXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGEyXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGEzXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGE0XG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGIxXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGIyXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGIzXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGI0XG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RCZXppZXIzQmV6aWVyMyhhMSwgYTIsIGEzLCBhNCwgYjEsIGIyLCBiMywgYjQpIHtcbiAgICAgICAgbGV0IGEsIGIsIGMsIGQ7IC8vIHRlbXBvcmFyeSB2YXJpYWJsZXNcbiAgICAgICAgLy8gYzEzLCBjMTIsIGMxMSwgYzEwOyAvLyBjb2VmZmljaWVudHMgb2YgY3ViaWNcbiAgICAgICAgLy8gYzIzLCBjMjIsIGMyMSwgYzIwOyAvLyBjb2VmZmljaWVudHMgb2YgY3ViaWNcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIk5vIEludGVyc2VjdGlvblwiKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGNvZWZmaWNpZW50cyBvZiBjdWJpYyBwb2x5bm9taWFsXG4gICAgICAgIGEgPSBhMS5tdWx0aXBseSgtMSk7XG4gICAgICAgIGIgPSBhMi5tdWx0aXBseSgzKTtcbiAgICAgICAgYyA9IGEzLm11bHRpcGx5KC0zKTtcbiAgICAgICAgZCA9IGEuYWRkKGIuYWRkKGMuYWRkKGE0KSkpO1xuICAgICAgICBjb25zdCBjMTMgPSBuZXcgUG9pbnQyRChkLngsIGQueSk7XG5cbiAgICAgICAgYSA9IGExLm11bHRpcGx5KDMpO1xuICAgICAgICBiID0gYTIubXVsdGlwbHkoLTYpO1xuICAgICAgICBjID0gYTMubXVsdGlwbHkoMyk7XG4gICAgICAgIGQgPSBhLmFkZChiLmFkZChjKSk7XG4gICAgICAgIGNvbnN0IGMxMiA9IG5ldyBQb2ludDJEKGQueCwgZC55KTtcblxuICAgICAgICBhID0gYTEubXVsdGlwbHkoLTMpO1xuICAgICAgICBiID0gYTIubXVsdGlwbHkoMyk7XG4gICAgICAgIGMgPSBhLmFkZChiKTtcbiAgICAgICAgY29uc3QgYzExID0gbmV3IFBvaW50MkQoYy54LCBjLnkpO1xuXG4gICAgICAgIGNvbnN0IGMxMCA9IG5ldyBQb2ludDJEKGExLngsIGExLnkpO1xuXG4gICAgICAgIGEgPSBiMS5tdWx0aXBseSgtMSk7XG4gICAgICAgIGIgPSBiMi5tdWx0aXBseSgzKTtcbiAgICAgICAgYyA9IGIzLm11bHRpcGx5KC0zKTtcbiAgICAgICAgZCA9IGEuYWRkKGIuYWRkKGMuYWRkKGI0KSkpO1xuICAgICAgICBjb25zdCBjMjMgPSBuZXcgUG9pbnQyRChkLngsIGQueSk7XG5cbiAgICAgICAgYSA9IGIxLm11bHRpcGx5KDMpO1xuICAgICAgICBiID0gYjIubXVsdGlwbHkoLTYpO1xuICAgICAgICBjID0gYjMubXVsdGlwbHkoMyk7XG4gICAgICAgIGQgPSBhLmFkZChiLmFkZChjKSk7XG4gICAgICAgIGNvbnN0IGMyMiA9IG5ldyBQb2ludDJEKGQueCwgZC55KTtcblxuICAgICAgICBhID0gYjEubXVsdGlwbHkoLTMpO1xuICAgICAgICBiID0gYjIubXVsdGlwbHkoMyk7XG4gICAgICAgIGMgPSBhLmFkZChiKTtcbiAgICAgICAgY29uc3QgYzIxID0gbmV3IFBvaW50MkQoYy54LCBjLnkpO1xuXG4gICAgICAgIGNvbnN0IGMyMCA9IG5ldyBQb2ludDJEKGIxLngsIGIxLnkpO1xuXG4gICAgICAgIC8vIGJlem91dFxuICAgICAgICBhID0gYzEzLnggKiBjMTIueSAtIGMxMi54ICogYzEzLnk7XG4gICAgICAgIGIgPSBjMTMueCAqIGMxMS55IC0gYzExLnggKiBjMTMueTtcbiAgICAgICAgY29uc3QgYzAgPSBjMTMueCAqIGMxMC55IC0gYzEwLnggKiBjMTMueSArIGMyMC54ICogYzEzLnkgLSBjMTMueCAqIGMyMC55O1xuICAgICAgICBjb25zdCBjMSA9IGMyMS54ICogYzEzLnkgLSBjMTMueCAqIGMyMS55O1xuICAgICAgICBjb25zdCBjMiA9IGMyMi54ICogYzEzLnkgLSBjMTMueCAqIGMyMi55O1xuICAgICAgICBjb25zdCBjMyA9IGMyMy54ICogYzEzLnkgLSBjMTMueCAqIGMyMy55O1xuICAgICAgICBkID0gYzEzLnggKiBjMTEueSAtIGMxMS54ICogYzEzLnk7XG4gICAgICAgIGNvbnN0IGUwID0gYzEzLnggKiBjMTAueSArIGMxMi54ICogYzExLnkgLSBjMTEueCAqIGMxMi55IC0gYzEwLnggKiBjMTMueSArIGMyMC54ICogYzEzLnkgLSBjMTMueCAqIGMyMC55O1xuICAgICAgICBjb25zdCBlMSA9IGMyMS54ICogYzEzLnkgLSBjMTMueCAqIGMyMS55O1xuICAgICAgICBjb25zdCBlMiA9IGMyMi54ICogYzEzLnkgLSBjMTMueCAqIGMyMi55O1xuICAgICAgICBjb25zdCBlMyA9IGMyMy54ICogYzEzLnkgLSBjMTMueCAqIGMyMy55O1xuICAgICAgICBjb25zdCBmMCA9IGMxMi54ICogYzEwLnkgLSBjMTAueCAqIGMxMi55ICsgYzIwLnggKiBjMTIueSAtIGMxMi54ICogYzIwLnk7XG4gICAgICAgIGNvbnN0IGYxID0gYzIxLnggKiBjMTIueSAtIGMxMi54ICogYzIxLnk7XG4gICAgICAgIGNvbnN0IGYyID0gYzIyLnggKiBjMTIueSAtIGMxMi54ICogYzIyLnk7XG4gICAgICAgIGNvbnN0IGYzID0gYzIzLnggKiBjMTIueSAtIGMxMi54ICogYzIzLnk7XG4gICAgICAgIGNvbnN0IGcwID0gYzEzLnggKiBjMTAueSAtIGMxMC54ICogYzEzLnkgKyBjMjAueCAqIGMxMy55IC0gYzEzLnggKiBjMjAueTtcbiAgICAgICAgY29uc3QgZzEgPSBjMjEueCAqIGMxMy55IC0gYzEzLnggKiBjMjEueTtcbiAgICAgICAgY29uc3QgZzIgPSBjMjIueCAqIGMxMy55IC0gYzEzLnggKiBjMjIueTtcbiAgICAgICAgY29uc3QgZzMgPSBjMjMueCAqIGMxMy55IC0gYzEzLnggKiBjMjMueTtcbiAgICAgICAgY29uc3QgaDAgPSBjMTIueCAqIGMxMC55IC0gYzEwLnggKiBjMTIueSArIGMyMC54ICogYzEyLnkgLSBjMTIueCAqIGMyMC55O1xuICAgICAgICBjb25zdCBoMSA9IGMyMS54ICogYzEyLnkgLSBjMTIueCAqIGMyMS55O1xuICAgICAgICBjb25zdCBoMiA9IGMyMi54ICogYzEyLnkgLSBjMTIueCAqIGMyMi55O1xuICAgICAgICBjb25zdCBoMyA9IGMyMy54ICogYzEyLnkgLSBjMTIueCAqIGMyMy55O1xuICAgICAgICBjb25zdCBpMCA9IGMxMS54ICogYzEwLnkgLSBjMTAueCAqIGMxMS55ICsgYzIwLnggKiBjMTEueSAtIGMxMS54ICogYzIwLnk7XG4gICAgICAgIGNvbnN0IGkxID0gYzIxLnggKiBjMTEueSAtIGMxMS54ICogYzIxLnk7XG4gICAgICAgIGNvbnN0IGkyID0gYzIyLnggKiBjMTEueSAtIGMxMS54ICogYzIyLnk7XG4gICAgICAgIGNvbnN0IGkzID0gYzIzLnggKiBjMTEueSAtIGMxMS54ICogYzIzLnk7XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5hbnRcbiAgICAgICAgY29uc3QgcG9seSA9IG5ldyBQb2x5bm9taWFsKFxuICAgICAgICAgICAgLWMzICogZTMgKiBnMyxcbiAgICAgICAgICAgIC1jMyAqIGUzICogZzIgLSBjMyAqIGUyICogZzMgLSBjMiAqIGUzICogZzMsXG4gICAgICAgICAgICAtYzMgKiBlMyAqIGcxIC0gYzMgKiBlMiAqIGcyIC0gYzIgKiBlMyAqIGcyIC0gYzMgKiBlMSAqIGczIC0gYzIgKiBlMiAqIGczIC0gYzEgKiBlMyAqIGczLFxuICAgICAgICAgICAgLWMzICogZTMgKiBnMCAtIGMzICogZTIgKiBnMSAtIGMyICogZTMgKiBnMSAtIGMzICogZTEgKiBnMiAtIGMyICogZTIgKiBnMiAtIGMxICogZTMgKiBnMiAtIGMzICogZTAgKiBnMyAtIGMyICogZTEgKiBnMyAtIGMxICogZTIgKiBnMyAtIGMwICogZTMgKiBnMyArIGIgKiBmMyAqIGczICsgYzMgKiBkICogaDMgLSBhICogZjMgKiBoMyArIGEgKiBlMyAqIGkzLFxuICAgICAgICAgICAgLWMzICogZTIgKiBnMCAtIGMyICogZTMgKiBnMCAtIGMzICogZTEgKiBnMSAtIGMyICogZTIgKiBnMSAtIGMxICogZTMgKiBnMSAtIGMzICogZTAgKiBnMiAtIGMyICogZTEgKiBnMiAtIGMxICogZTIgKiBnMiAtIGMwICogZTMgKiBnMiArIGIgKiBmMyAqIGcyIC0gYzIgKiBlMCAqIGczIC0gYzEgKiBlMSAqIGczIC0gYzAgKiBlMiAqIGczICsgYiAqIGYyICogZzMgKyBjMyAqIGQgKiBoMiAtIGEgKiBmMyAqIGgyICsgYzIgKiBkICogaDMgLSBhICogZjIgKiBoMyArIGEgKiBlMyAqIGkyICsgYSAqIGUyICogaTMsXG4gICAgICAgICAgICAtYzMgKiBlMSAqIGcwIC0gYzIgKiBlMiAqIGcwIC0gYzEgKiBlMyAqIGcwIC0gYzMgKiBlMCAqIGcxIC0gYzIgKiBlMSAqIGcxIC0gYzEgKiBlMiAqIGcxIC0gYzAgKiBlMyAqIGcxICsgYiAqIGYzICogZzEgLSBjMiAqIGUwICogZzIgLSBjMSAqIGUxICogZzIgLSBjMCAqIGUyICogZzIgKyBiICogZjIgKiBnMiAtIGMxICogZTAgKiBnMyAtIGMwICogZTEgKiBnMyArIGIgKiBmMSAqIGczICsgYzMgKiBkICogaDEgLSBhICogZjMgKiBoMSArIGMyICogZCAqIGgyIC0gYSAqIGYyICogaDIgKyBjMSAqIGQgKiBoMyAtIGEgKiBmMSAqIGgzICsgYSAqIGUzICogaTEgKyBhICogZTIgKiBpMiArIGEgKiBlMSAqIGkzLFxuICAgICAgICAgICAgLWMzICogZTAgKiBnMCAtIGMyICogZTEgKiBnMCAtIGMxICogZTIgKiBnMCAtIGMwICogZTMgKiBnMCArIGIgKiBmMyAqIGcwIC0gYzIgKiBlMCAqIGcxIC0gYzEgKiBlMSAqIGcxIC0gYzAgKiBlMiAqIGcxICsgYiAqIGYyICogZzEgLSBjMSAqIGUwICogZzIgLSBjMCAqIGUxICogZzIgKyBiICogZjEgKiBnMiAtIGMwICogZTAgKiBnMyArIGIgKiBmMCAqIGczICsgYzMgKiBkICogaDAgLSBhICogZjMgKiBoMCArIGMyICogZCAqIGgxIC0gYSAqIGYyICogaDEgKyBjMSAqIGQgKiBoMiAtIGEgKiBmMSAqIGgyICsgYzAgKiBkICogaDMgLSBhICogZjAgKiBoMyArIGEgKiBlMyAqIGkwICsgYSAqIGUyICogaTEgKyBhICogZTEgKiBpMiAtIGIgKiBkICogaTMgKyBhICogZTAgKiBpMyxcbiAgICAgICAgICAgIC1jMiAqIGUwICogZzAgLSBjMSAqIGUxICogZzAgLSBjMCAqIGUyICogZzAgKyBiICogZjIgKiBnMCAtIGMxICogZTAgKiBnMSAtIGMwICogZTEgKiBnMSArIGIgKiBmMSAqIGcxIC0gYzAgKiBlMCAqIGcyICsgYiAqIGYwICogZzIgKyBjMiAqIGQgKiBoMCAtIGEgKiBmMiAqIGgwICsgYzEgKiBkICogaDEgLSBhICogZjEgKiBoMSArIGMwICogZCAqIGgyIC0gYSAqIGYwICogaDIgKyBhICogZTIgKiBpMCArIGEgKiBlMSAqIGkxIC0gYiAqIGQgKiBpMiArIGEgKiBlMCAqIGkyLFxuICAgICAgICAgICAgLWMxICogZTAgKiBnMCAtIGMwICogZTEgKiBnMCArIGIgKiBmMSAqIGcwIC0gYzAgKiBlMCAqIGcxICsgYiAqIGYwICogZzEgKyBjMSAqIGQgKiBoMCAtIGEgKiBmMSAqIGgwICsgYzAgKiBkICogaDEgLSBhICogZjAgKiBoMSArIGEgKiBlMSAqIGkwIC0gYiAqIGQgKiBpMSArIGEgKiBlMCAqIGkxLFxuICAgICAgICAgICAgLWMwICogZTAgKiBnMCArIGIgKiBmMCAqIGcwICsgYzAgKiBkICogaDAgLSBhICogZjAgKiBoMCAtIGIgKiBkICogaTAgKyBhICogZTAgKiBpMFxuICAgICAgICApO1xuICAgICAgICBwb2x5LnNpbXBsaWZ5RXF1YWxzKCk7XG4gICAgICAgIGNvbnN0IHJvb3RzID0gcG9seS5nZXRSb290c0luSW50ZXJ2YWwoMCwgMSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHJvb3RzKSB7XG4gICAgICAgICAgICBjb25zdCB4cCA9IG5ldyBQb2x5bm9taWFsKFxuICAgICAgICAgICAgICAgIGMxMy54LFxuICAgICAgICAgICAgICAgIGMxMi54LFxuICAgICAgICAgICAgICAgIGMxMS54LFxuICAgICAgICAgICAgICAgIGMxMC54IC0gYzIwLnggLSBzICogYzIxLnggLSBzICogcyAqIGMyMi54IC0gcyAqIHMgKiBzICogYzIzLnhcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB4cC5zaW1wbGlmeUVxdWFscygpO1xuICAgICAgICAgICAgY29uc3QgeFJvb3RzID0geHAuZ2V0Um9vdHMoKTtcbiAgICAgICAgICAgIGNvbnN0IHlwID0gbmV3IFBvbHlub21pYWwoXG4gICAgICAgICAgICAgICAgYzEzLnksXG4gICAgICAgICAgICAgICAgYzEyLnksXG4gICAgICAgICAgICAgICAgYzExLnksXG4gICAgICAgICAgICAgICAgYzEwLnkgLSBjMjAueSAtIHMgKiBjMjEueSAtIHMgKiBzICogYzIyLnkgLSBzICogcyAqIHMgKiBjMjMueVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHlwLnNpbXBsaWZ5RXF1YWxzKCk7XG4gICAgICAgICAgICBjb25zdCB5Um9vdHMgPSB5cC5nZXRSb290cygpO1xuXG4gICAgICAgICAgICBpZiAoeFJvb3RzLmxlbmd0aCA+IDAgJiYgeVJvb3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBUT0xFUkFOQ0UgPSAxZS00O1xuXG4gICAgICAgICAgICAgICAgY2hlY2tSb290czpcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHhSb290IG9mIHhSb290cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoMCA8PSB4Um9vdCAmJiB4Um9vdCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHlSb290cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh4Um9vdCAtIHlSb290c1trXSkgPCBUT0xFUkFOQ0UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYzIzLm11bHRpcGx5KHMgKiBzICogcykuYWRkKGMyMi5tdWx0aXBseShzICogcykuYWRkKGMyMS5tdWx0aXBseShzKS5hZGQoYzIwKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGNoZWNrUm9vdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IFwiSW50ZXJzZWN0aW9uXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RCZXppZXIzQ2lyY2xlXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDJcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDNcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDRcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gY1xuICAgICAqICBAcGFyYW0ge251bWJlcn0gclxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0QmV6aWVyM0NpcmNsZShwMSwgcDIsIHAzLCBwNCwgYywgcikge1xuICAgICAgICByZXR1cm4gSW50ZXJzZWN0aW9uLmludGVyc2VjdEJlemllcjNFbGxpcHNlKHAxLCBwMiwgcDMsIHA0LCBjLCByLCByKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0QmV6aWVyM0VsbGlwc2VcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwM1xuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwNFxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBlY1xuICAgICAqICBAcGFyYW0ge251bWJlcn0gcnhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHJ5XG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RCZXppZXIzRWxsaXBzZShwMSwgcDIsIHAzLCBwNCwgZWMsIHJ4LCByeSkge1xuICAgICAgICBsZXQgYSwgYiwgYywgZDsgLy8gdGVtcG9yYXJ5IHZhcmlhYmxlc1xuICAgICAgICAvLyBjMywgYzIsIGMxLCBjMDsgLy8gY29lZmZpY2llbnRzIG9mIGN1YmljXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJObyBJbnRlcnNlY3Rpb25cIik7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBjb2VmZmljaWVudHMgb2YgY3ViaWMgcG9seW5vbWlhbFxuICAgICAgICBhID0gcDEubXVsdGlwbHkoLTEpO1xuICAgICAgICBiID0gcDIubXVsdGlwbHkoMyk7XG4gICAgICAgIGMgPSBwMy5tdWx0aXBseSgtMyk7XG4gICAgICAgIGQgPSBhLmFkZChiLmFkZChjLmFkZChwNCkpKTtcbiAgICAgICAgY29uc3QgYzMgPSBuZXcgUG9pbnQyRChkLngsIGQueSk7XG5cbiAgICAgICAgYSA9IHAxLm11bHRpcGx5KDMpO1xuICAgICAgICBiID0gcDIubXVsdGlwbHkoLTYpO1xuICAgICAgICBjID0gcDMubXVsdGlwbHkoMyk7XG4gICAgICAgIGQgPSBhLmFkZChiLmFkZChjKSk7XG4gICAgICAgIGNvbnN0IGMyID0gbmV3IFBvaW50MkQoZC54LCBkLnkpO1xuXG4gICAgICAgIGEgPSBwMS5tdWx0aXBseSgtMyk7XG4gICAgICAgIGIgPSBwMi5tdWx0aXBseSgzKTtcbiAgICAgICAgYyA9IGEuYWRkKGIpO1xuICAgICAgICBjb25zdCBjMSA9IG5ldyBQb2ludDJEKGMueCwgYy55KTtcblxuICAgICAgICBjb25zdCBjMCA9IG5ldyBQb2ludDJEKHAxLngsIHAxLnkpO1xuXG4gICAgICAgIGNvbnN0IHJ4cnggPSByeCAqIHJ4O1xuICAgICAgICBjb25zdCByeXJ5ID0gcnkgKiByeTtcbiAgICAgICAgY29uc3QgcG9seSA9IG5ldyBQb2x5bm9taWFsKFxuICAgICAgICAgICAgYzMueCAqIGMzLnggKiByeXJ5ICsgYzMueSAqIGMzLnkgKiByeHJ4LFxuICAgICAgICAgICAgMiAqIChjMy54ICogYzIueCAqIHJ5cnkgKyBjMy55ICogYzIueSAqIHJ4cngpLFxuICAgICAgICAgICAgMiAqIChjMy54ICogYzEueCAqIHJ5cnkgKyBjMy55ICogYzEueSAqIHJ4cngpICsgYzIueCAqIGMyLnggKiByeXJ5ICsgYzIueSAqIGMyLnkgKiByeHJ4LFxuICAgICAgICAgICAgMiAqIGMzLnggKiByeXJ5ICogKGMwLnggLSBlYy54KSArIDIgKiBjMy55ICogcnhyeCAqIChjMC55IC0gZWMueSkgK1xuICAgICAgICAgICAgICAgIDIgKiAoYzIueCAqIGMxLnggKiByeXJ5ICsgYzIueSAqIGMxLnkgKiByeHJ4KSxcbiAgICAgICAgICAgIDIgKiBjMi54ICogcnlyeSAqIChjMC54IC0gZWMueCkgKyAyICogYzIueSAqIHJ4cnggKiAoYzAueSAtIGVjLnkpICtcbiAgICAgICAgICAgICAgICBjMS54ICogYzEueCAqIHJ5cnkgKyBjMS55ICogYzEueSAqIHJ4cngsXG4gICAgICAgICAgICAyICogYzEueCAqIHJ5cnkgKiAoYzAueCAtIGVjLngpICsgMiAqIGMxLnkgKiByeHJ4ICogKGMwLnkgLSBlYy55KSxcbiAgICAgICAgICAgIGMwLnggKiBjMC54ICogcnlyeSAtIDIgKiBjMC55ICogZWMueSAqIHJ4cnggLSAyICogYzAueCAqIGVjLnggKiByeXJ5ICtcbiAgICAgICAgICAgICAgICBjMC55ICogYzAueSAqIHJ4cnggKyBlYy54ICogZWMueCAqIHJ5cnkgKyBlYy55ICogZWMueSAqIHJ4cnggLSByeHJ4ICogcnlyeVxuICAgICAgICApO1xuICAgICAgICBjb25zdCByb290cyA9IHBvbHkuZ2V0Um9vdHNJbkludGVydmFsKDAsIDEpO1xuXG4gICAgICAgIGZvciAoY29uc3QgdCBvZiByb290cykge1xuICAgICAgICAgICAgcmVzdWx0LnBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgIGMzLm11bHRpcGx5KHQgKiB0ICogdCkuYWRkKGMyLm11bHRpcGx5KHQgKiB0KS5hZGQoYzEubXVsdGlwbHkodCkuYWRkKGMwKSkpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IFwiSW50ZXJzZWN0aW9uXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RCZXppZXIzTGluZVxuICAgICAqXG4gICAgICogIE1hbnkgdGhhbmtzIHRvIERhbiBTdW5kYXkgYXQgU29mdFN1cmZlci5jb20uICBIZSBnYXZlIG1lIGEgdmVyeSB0aG9yb3VnaFxuICAgICAqICBza2V0Y2ggb2YgdGhlIGFsZ29yaXRobSB1c2VkIGhlcmUuICBXaXRob3V0IGhpcyBoZWxwLCBJJ20gbm90IHN1cmUgd2hlbiBJXG4gICAgICogIHdvdWxkIGhhdmUgZmlndXJlZCBvdXQgdGhpcyBpbnRlcnNlY3Rpb24gcHJvYmxlbS5cbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwM1xuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwNFxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBhMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBhMlxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0QmV6aWVyM0xpbmUocDEsIHAyLCBwMywgcDQsIGExLCBhMikge1xuICAgICAgICBsZXQgYSwgYiwgYywgZDsgLy8gdGVtcG9yYXJ5IHZhcmlhYmxlc1xuICAgICAgICAvLyBjMywgYzIsIGMxLCBjMDsgLy8gY29lZmZpY2llbnRzIG9mIGN1YmljXG4gICAgICAgIC8vIGNsOyAvLyBjIGNvZWZmaWNpZW50IGZvciBub3JtYWwgZm9ybSBvZiBsaW5lXG4gICAgICAgIC8vIG47IC8vIG5vcm1hbCBmb3Igbm9ybWFsIGZvcm0gb2YgbGluZVxuICAgICAgICBjb25zdCBtaW4gPSBhMS5taW4oYTIpOyAvLyB1c2VkIHRvIGRldGVybWluZSBpZiBwb2ludCBpcyBvbiBsaW5lIHNlZ21lbnRcbiAgICAgICAgY29uc3QgbWF4ID0gYTEubWF4KGEyKTsgLy8gdXNlZCB0byBkZXRlcm1pbmUgaWYgcG9pbnQgaXMgb24gbGluZSBzZWdtZW50XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJObyBJbnRlcnNlY3Rpb25cIik7XG5cbiAgICAgICAgLy8gU3RhcnQgd2l0aCBCZXppZXIgdXNpbmcgQmVybnN0ZWluIHBvbHlub21pYWxzIGZvciB3ZWlnaHRpbmcgZnVuY3Rpb25zOlxuICAgICAgICAvLyAgICAgKDEtdF4zKVAxICsgM3QoMS10KV4yUDIgKyAzdF4yKDEtdClQMyArIHReM1A0XG4gICAgICAgIC8vXG4gICAgICAgIC8vIEV4cGFuZCBhbmQgY29sbGVjdCB0ZXJtcyB0byBmb3JtIGxpbmVhciBjb21iaW5hdGlvbnMgb2Ygb3JpZ2luYWwgQmV6aWVyXG4gICAgICAgIC8vIGNvbnRyb2xzLiAgVGhpcyBlbmRzIHVwIHdpdGggYSB2ZWN0b3IgY3ViaWMgaW4gdDpcbiAgICAgICAgLy8gICAgICgtUDErM1AyLTNQMytQNCl0XjMgKyAoM1AxLTZQMiszUDMpdF4yICsgKC0zUDErM1AyKXQgKyBQMVxuICAgICAgICAvLyAgICAgICAgICAgICAvXFwgICAgICAgICAgICAgICAgICAvXFwgICAgICAgICAgICAgICAgL1xcICAgICAgIC9cXFxuICAgICAgICAvLyAgICAgICAgICAgICB8fCAgICAgICAgICAgICAgICAgIHx8ICAgICAgICAgICAgICAgIHx8ICAgICAgIHx8XG4gICAgICAgIC8vICAgICAgICAgICAgIGMzICAgICAgICAgICAgICAgICAgYzIgICAgICAgICAgICAgICAgYzEgICAgICAgYzBcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGNvZWZmaWNpZW50c1xuICAgICAgICBhID0gcDEubXVsdGlwbHkoLTEpO1xuICAgICAgICBiID0gcDIubXVsdGlwbHkoMyk7XG4gICAgICAgIGMgPSBwMy5tdWx0aXBseSgtMyk7XG4gICAgICAgIGQgPSBhLmFkZChiLmFkZChjLmFkZChwNCkpKTtcbiAgICAgICAgY29uc3QgYzMgPSBuZXcgVmVjdG9yMkQoZC54LCBkLnkpO1xuXG4gICAgICAgIGEgPSBwMS5tdWx0aXBseSgzKTtcbiAgICAgICAgYiA9IHAyLm11bHRpcGx5KC02KTtcbiAgICAgICAgYyA9IHAzLm11bHRpcGx5KDMpO1xuICAgICAgICBkID0gYS5hZGQoYi5hZGQoYykpO1xuICAgICAgICBjb25zdCBjMiA9IG5ldyBWZWN0b3IyRChkLngsIGQueSk7XG5cbiAgICAgICAgYSA9IHAxLm11bHRpcGx5KC0zKTtcbiAgICAgICAgYiA9IHAyLm11bHRpcGx5KDMpO1xuICAgICAgICBjID0gYS5hZGQoYik7XG4gICAgICAgIGNvbnN0IGMxID0gbmV3IFZlY3RvcjJEKGMueCwgYy55KTtcblxuICAgICAgICBjb25zdCBjMCA9IG5ldyBWZWN0b3IyRChwMS54LCBwMS55KTtcblxuICAgICAgICAvLyBDb252ZXJ0IGxpbmUgdG8gbm9ybWFsIGZvcm06IGF4ICsgYnkgKyBjID0gMFxuICAgICAgICAvLyBGaW5kIG5vcm1hbCB0byBsaW5lOiBuZWdhdGl2ZSBpbnZlcnNlIG9mIG9yaWdpbmFsIGxpbmUncyBzbG9wZVxuICAgICAgICBjb25zdCBuID0gbmV3IFZlY3RvcjJEKGExLnkgLSBhMi55LCBhMi54IC0gYTEueCk7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIG5ldyBjIGNvZWZmaWNpZW50XG4gICAgICAgIGNvbnN0IGNsID0gYTEueCAqIGEyLnkgLSBhMi54ICogYTEueTtcblxuICAgICAgICAvLyA/Um90YXRlIGVhY2ggY3ViaWMgY29lZmZpY2llbnQgdXNpbmcgbGluZSBmb3IgbmV3IGNvb3JkaW5hdGUgc3lzdGVtP1xuICAgICAgICAvLyBGaW5kIHJvb3RzIG9mIHJvdGF0ZWQgY3ViaWNcbiAgICAgICAgY29uc3Qgcm9vdHMgPSBuZXcgUG9seW5vbWlhbChcbiAgICAgICAgICAgIG4uZG90KGMzKSxcbiAgICAgICAgICAgIG4uZG90KGMyKSxcbiAgICAgICAgICAgIG4uZG90KGMxKSxcbiAgICAgICAgICAgIG4uZG90KGMwKSArIGNsXG4gICAgICAgICkuZ2V0Um9vdHMoKTtcblxuICAgICAgICAvLyBBbnkgcm9vdHMgaW4gY2xvc2VkIGludGVydmFsIFswLDFdIGFyZSBpbnRlcnNlY3Rpb25zIG9uIEJlemllciwgYnV0XG4gICAgICAgIC8vIG1pZ2h0IG5vdCBiZSBvbiB0aGUgbGluZSBzZWdtZW50LlxuICAgICAgICAvLyBGaW5kIGludGVyc2VjdGlvbnMgYW5kIGNhbGN1bGF0ZSBwb2ludCBjb29yZGluYXRlc1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygcm9vdHMpIHtcbiAgICAgICAgICAgIGlmICgwIDw9IHQgJiYgdCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UncmUgd2l0aGluIHRoZSBCZXppZXIgY3VydmVcbiAgICAgICAgICAgICAgICAvLyBGaW5kIHBvaW50IG9uIEJlemllclxuICAgICAgICAgICAgICAgIGNvbnN0IHA1ID0gcDEubGVycChwMiwgdCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcDYgPSBwMi5sZXJwKHAzLCB0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwNyA9IHAzLmxlcnAocDQsIHQpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcDggPSBwNS5sZXJwKHA2LCB0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwOSA9IHA2LmxlcnAocDcsIHQpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcDEwID0gcDgubGVycChwOSwgdCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTZWUgaWYgcG9pbnQgaXMgb24gbGluZSBzZWdtZW50XG4gICAgICAgICAgICAgICAgLy8gSGFkIHRvIG1ha2Ugc3BlY2lhbCBjYXNlcyBmb3IgdmVydGljYWwgYW5kIGhvcml6b250YWwgbGluZXMgZHVlXG4gICAgICAgICAgICAgICAgLy8gdG8gc2xpZ2h0IGVycm9ycyBpbiBjYWxjdWxhdGlvbiBvZiBwMTBcbiAgICAgICAgICAgICAgICBpZiAoYTEueCA9PT0gYTIueCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWluLnkgPD0gcDEwLnkgJiYgcDEwLnkgPD0gbWF4LnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBcIkludGVyc2VjdGlvblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50KHAxMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYTEueSA9PT0gYTIueSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWluLnggPD0gcDEwLnggJiYgcDEwLnggPD0gbWF4LngpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBcIkludGVyc2VjdGlvblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50KHAxMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWluLnggPD0gcDEwLnggJiYgcDEwLnggPD0gbWF4LnggJiYgbWluLnkgPD0gcDEwLnkgJiYgcDEwLnkgPD0gbWF4LnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IFwiSW50ZXJzZWN0aW9uXCI7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRQb2ludChwMTApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGludGVyc2VjdEJlemllcjNQb2x5Z29uXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDJcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDNcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcDRcbiAgICAgKiAgQHBhcmFtIHtBcnJheTxtb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRD59IHBvaW50c1xuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0QmV6aWVyM1BvbHlnb24ocDEsIHAyLCBwMywgcDQsIHBvaW50cykge1xuICAgICAgICByZXR1cm4gSW50ZXJzZWN0aW9uLmludGVyc2VjdEJlemllcjNQb2x5bGluZShwMSwgcDIsIHAzLCBwNCwgY2xvc2VQb2x5Z29uKHBvaW50cykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RCZXppZXIzUG9seWxpbmVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwM1xuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwNFxuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RCZXppZXIzUG9seWxpbmUocDEsIHAyLCBwMywgcDQsIHBvaW50cykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiTm8gSW50ZXJzZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB7bGVuZ3RoOiBsZW59ID0gcG9pbnRzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBhMSA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGEyID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IGludGVyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdEJlemllcjNMaW5lKHAxLCBwMiwgcDMsIHA0LCBhMSwgYTIpO1xuXG4gICAgICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyLnBvaW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzdWx0LnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzID0gXCJJbnRlcnNlY3Rpb25cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGludGVyc2VjdEJlemllcjNSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwMlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwM1xuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwNFxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSByMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSByMlxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0QmV6aWVyM1JlY3RhbmdsZShwMSwgcDIsIHAzLCBwNCwgcjEsIHIyKSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IHIxLm1pbihyMik7XG4gICAgICAgIGNvbnN0IG1heCA9IHIxLm1heChyMik7XG4gICAgICAgIGNvbnN0IHRvcFJpZ2h0ID0gbmV3IFBvaW50MkQobWF4LngsIG1pbi55KTtcbiAgICAgICAgY29uc3QgYm90dG9tTGVmdCA9IG5ldyBQb2ludDJEKG1pbi54LCBtYXgueSk7XG5cbiAgICAgICAgY29uc3QgaW50ZXIxID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdEJlemllcjNMaW5lKHAxLCBwMiwgcDMsIHA0LCBtaW4sIHRvcFJpZ2h0KTtcbiAgICAgICAgY29uc3QgaW50ZXIyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdEJlemllcjNMaW5lKHAxLCBwMiwgcDMsIHA0LCB0b3BSaWdodCwgbWF4KTtcbiAgICAgICAgY29uc3QgaW50ZXIzID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdEJlemllcjNMaW5lKHAxLCBwMiwgcDMsIHA0LCBtYXgsIGJvdHRvbUxlZnQpO1xuICAgICAgICBjb25zdCBpbnRlcjQgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0QmV6aWVyM0xpbmUocDEsIHAyLCBwMywgcDQsIGJvdHRvbUxlZnQsIG1pbik7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIk5vIEludGVyc2VjdGlvblwiKTtcblxuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMS5wb2ludHMpO1xuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMi5wb2ludHMpO1xuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMy5wb2ludHMpO1xuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyNC5wb2ludHMpO1xuXG4gICAgICAgIGlmIChyZXN1bHQucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBcIkludGVyc2VjdGlvblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0Q2lyY2xlQ2lyY2xlXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYzFcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHIxXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGMyXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByMlxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0Q2lyY2xlQ2lyY2xlKGMxLCByMSwgYzIsIHIyKSB7XG4gICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIG1pbmltdW0gYW5kIG1heGltdW0gcmFkaWkgd2hlcmUgY2lyY2xlcyBjYW4gaW50ZXJzZWN0XG4gICAgICAgIGNvbnN0IHJfbWF4ID0gcjEgKyByMjtcbiAgICAgICAgY29uc3Qgcl9taW4gPSBNYXRoLmFicyhyMSAtIHIyKTtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgYWN0dWFsIGRpc3RhbmNlIGJldHdlZW4gY2lyY2xlIGNpcmNsZXNcbiAgICAgICAgY29uc3QgY19kaXN0ID0gYzEuZGlzdGFuY2VGcm9tKGMyKTtcblxuICAgICAgICBpZiAoY19kaXN0ID4gcl9tYXgpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJPdXRzaWRlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNfZGlzdCA8IHJfbWluKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiSW5zaWRlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIkludGVyc2VjdGlvblwiKTtcblxuICAgICAgICAgICAgY29uc3QgYSA9IChyMSAqIHIxIC0gcjIgKiByMiArIGNfZGlzdCAqIGNfZGlzdCkgLyAoMiAqIGNfZGlzdCk7XG4gICAgICAgICAgICBjb25zdCBoID0gTWF0aC5zcXJ0KHIxICogcjEgLSBhICogYSk7XG4gICAgICAgICAgICBjb25zdCBwID0gYzEubGVycChjMiwgYSAvIGNfZGlzdCk7XG4gICAgICAgICAgICBjb25zdCBiID0gaCAvIGNfZGlzdDtcblxuICAgICAgICAgICAgcmVzdWx0LnBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludDJEKFxuICAgICAgICAgICAgICAgICAgICBwLnggLSBiICogKGMyLnkgLSBjMS55KSxcbiAgICAgICAgICAgICAgICAgICAgcC55ICsgYiAqIChjMi54IC0gYzEueClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzdWx0LnBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludDJEKFxuICAgICAgICAgICAgICAgICAgICBwLnggKyBiICogKGMyLnkgLSBjMS55KSxcbiAgICAgICAgICAgICAgICAgICAgcC55IC0gYiAqIChjMi54IC0gYzEueClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0Q2lyY2xlRWxsaXBzZVxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGNjXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGVjXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByeFxuICAgICAqICBAcGFyYW0ge251bWJlcn0gcnlcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5JbnRlcnNlY3Rpb259XG4gICAgICovXG4gICAgc3RhdGljIGludGVyc2VjdENpcmNsZUVsbGlwc2UoY2MsIHIsIGVjLCByeCwgcnkpIHtcbiAgICAgICAgcmV0dXJuIEludGVyc2VjdGlvbi5pbnRlcnNlY3RFbGxpcHNlRWxsaXBzZShjYywgciwgciwgZWMsIHJ4LCByeSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGludGVyc2VjdENpcmNsZUxpbmVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBjXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGExXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGEyXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RDaXJjbGVMaW5lKGMsIHIsIGExLCBhMikge1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBjb25zdCBhID0gKGEyLnggLSBhMS54KSAqIChhMi54IC0gYTEueCkgK1xuICAgICAgICAgICAgICAgICAoYTIueSAtIGExLnkpICogKGEyLnkgLSBhMS55KTtcbiAgICAgICAgY29uc3QgYiA9IDIgKiAoKGEyLnggLSBhMS54KSAqIChhMS54IC0gYy54KSArXG4gICAgICAgICAgICAgICAgICAgICAgIChhMi55IC0gYTEueSkgKiAoYTEueSAtIGMueSkpO1xuICAgICAgICBjb25zdCBjYyA9IGMueCAqIGMueCArIGMueSAqIGMueSArIGExLnggKiBhMS54ICsgYTEueSAqIGExLnkgLVxuICAgICAgICAgICAgICAgICAyICogKGMueCAqIGExLnggKyBjLnkgKiBhMS55KSAtIHIgKiByO1xuICAgICAgICBjb25zdCBkZXRlciA9IGIgKiBiIC0gNCAqIGEgKiBjYztcblxuICAgICAgICBpZiAoZGV0ZXIgPCAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiT3V0c2lkZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXRlciA9PT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIlRhbmdlbnRcIik7XG4gICAgICAgICAgICAvLyBOT1RFOiBzaG91bGQgY2FsY3VsYXRlIHRoaXMgcG9pbnRcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBNYXRoLnNxcnQoZGV0ZXIpO1xuICAgICAgICAgICAgY29uc3QgdTEgPSAoLWIgKyBlKSAvICgyICogYSk7XG4gICAgICAgICAgICBjb25zdCB1MiA9ICgtYiAtIGUpIC8gKDIgKiBhKTtcblxuICAgICAgICAgICAgaWYgKCh1MSA8IDAgfHwgdTEgPiAxKSAmJiAodTIgPCAwIHx8IHUyID4gMSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHUxIDwgMCAmJiB1MiA8IDApIHx8ICh1MSA+IDEgJiYgdTIgPiAxKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiT3V0c2lkZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJJbnNpZGVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIkludGVyc2VjdGlvblwiKTtcblxuICAgICAgICAgICAgICAgIGlmICgwIDw9IHUxICYmIHUxIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnBvaW50cy5wdXNoKGExLmxlcnAoYTIsIHUxKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKDAgPD0gdTIgJiYgdTIgPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucG9pbnRzLnB1c2goYTEubGVycChhMiwgdTIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RDaXJjbGVQb2x5Z29uXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gY1xuICAgICAqICBAcGFyYW0ge251bWJlcn0gclxuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RDaXJjbGVQb2x5Z29uKGMsIHIsIHBvaW50cykge1xuICAgICAgICByZXR1cm4gSW50ZXJzZWN0aW9uLmludGVyc2VjdENpcmNsZVBvbHlsaW5lKGMsIHIsIGNsb3NlUG9seWdvbihwb2ludHMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0Q2lyY2xlUG9seWxpbmVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBjXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByXG4gICAgICogIEBwYXJhbSB7QXJyYXk8bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkQ+fSBwb2ludHNcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5JbnRlcnNlY3Rpb259XG4gICAgICovXG4gICAgc3RhdGljIGludGVyc2VjdENpcmNsZVBvbHlsaW5lKGMsIHIsIHBvaW50cykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiTm8gSW50ZXJzZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB7bGVuZ3RoOiBsZW59ID0gcG9pbnRzO1xuICAgICAgICBsZXQgaW50ZXI7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW4gLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGExID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgYTIgPSBwb2ludHNbaSArIDFdO1xuXG4gICAgICAgICAgICBpbnRlciA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RDaXJjbGVMaW5lKGMsIHIsIGExLCBhMik7XG4gICAgICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyLnBvaW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzdWx0LnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzID0gXCJJbnRlcnNlY3Rpb25cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBpbnRlci5zdGF0dXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RDaXJjbGVSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBjXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IHIxXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IHIyXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RDaXJjbGVSZWN0YW5nbGUoYywgciwgcjEsIHIyKSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IHIxLm1pbihyMik7XG4gICAgICAgIGNvbnN0IG1heCA9IHIxLm1heChyMik7XG4gICAgICAgIGNvbnN0IHRvcFJpZ2h0ID0gbmV3IFBvaW50MkQobWF4LngsIG1pbi55KTtcbiAgICAgICAgY29uc3QgYm90dG9tTGVmdCA9IG5ldyBQb2ludDJEKG1pbi54LCBtYXgueSk7XG5cbiAgICAgICAgY29uc3QgaW50ZXIxID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdENpcmNsZUxpbmUoYywgciwgbWluLCB0b3BSaWdodCk7XG4gICAgICAgIGNvbnN0IGludGVyMiA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RDaXJjbGVMaW5lKGMsIHIsIHRvcFJpZ2h0LCBtYXgpO1xuICAgICAgICBjb25zdCBpbnRlcjMgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0Q2lyY2xlTGluZShjLCByLCBtYXgsIGJvdHRvbUxlZnQpO1xuICAgICAgICBjb25zdCBpbnRlcjQgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0Q2lyY2xlTGluZShjLCByLCBib3R0b21MZWZ0LCBtaW4pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJObyBJbnRlcnNlY3Rpb25cIik7XG5cbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjEucG9pbnRzKTtcbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjIucG9pbnRzKTtcbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjMucG9pbnRzKTtcbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjQucG9pbnRzKTtcblxuICAgICAgICBpZiAocmVzdWx0LnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzID0gXCJJbnRlcnNlY3Rpb25cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBpbnRlcjEuc3RhdHVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0RWxsaXBzZUVsbGlwc2VcbiAgICAgKlxuICAgICAqICBUaGlzIGNvZGUgaXMgYmFzZWQgb24gTWdjSW50cjJERWxwRWxwLmNwcCB3cml0dGVuIGJ5IERhdmlkIEViZXJseS4gIEhpc1xuICAgICAqICBjb2RlIGFsb25nIHdpdGggbWFueSBvdGhlciBleGNlbGxlbnQgZXhhbXBsZXMgYXJlIGF2YWlhYmxlIGF0IGhpcyBzaXRlOlxuICAgICAqICBodHRwOi8vd3d3Lm1hZ2ljLXNvZnR3YXJlLmNvbVxuICAgICAqXG4gICAgICogIE5PVEU6IFJvdGF0aW9uIHdpbGwgbmVlZCB0byBiZSBhZGRlZCB0byB0aGlzIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYzFcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHJ4MVxuICAgICAqICBAcGFyYW0ge251bWJlcn0gcnkxXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGMyXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByeDJcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHJ5MlxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0RWxsaXBzZUVsbGlwc2UoYzEsIHJ4MSwgcnkxLCBjMiwgcngyLCByeTIpIHtcbiAgICAgICAgY29uc3QgYSA9IFtcbiAgICAgICAgICAgIHJ5MSAqIHJ5MSwgMCwgcngxICogcngxLCAtMiAqIHJ5MSAqIHJ5MSAqIGMxLngsIC0yICogcngxICogcngxICogYzEueSxcbiAgICAgICAgICAgIHJ5MSAqIHJ5MSAqIGMxLnggKiBjMS54ICsgcngxICogcngxICogYzEueSAqIGMxLnkgLSByeDEgKiByeDEgKiByeTEgKiByeTFcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgYiA9IFtcbiAgICAgICAgICAgIHJ5MiAqIHJ5MiwgMCwgcngyICogcngyLCAtMiAqIHJ5MiAqIHJ5MiAqIGMyLngsIC0yICogcngyICogcngyICogYzIueSxcbiAgICAgICAgICAgIHJ5MiAqIHJ5MiAqIGMyLnggKiBjMi54ICsgcngyICogcngyICogYzIueSAqIGMyLnkgLSByeDIgKiByeDIgKiByeTIgKiByeTJcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCB5UG9seSA9IGJlem91dChhLCBiKTtcbiAgICAgICAgY29uc3QgeVJvb3RzID0geVBvbHkuZ2V0Um9vdHMoKTtcbiAgICAgICAgY29uc3QgZXBzaWxvbiA9IDFlLTM7XG4gICAgICAgIGNvbnN0IG5vcm0wID0gKGFbMF0gKiBhWzBdICsgMiAqIGFbMV0gKiBhWzFdICsgYVsyXSAqIGFbMl0pICogZXBzaWxvbjtcbiAgICAgICAgY29uc3Qgbm9ybTEgPSAoYlswXSAqIGJbMF0gKyAyICogYlsxXSAqIGJbMV0gKyBiWzJdICogYlsyXSkgKiBlcHNpbG9uO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiTm8gSW50ZXJzZWN0aW9uXCIpO1xuXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgeVJvb3RzLmxlbmd0aDsgeSsrKSB7XG4gICAgICAgICAgICBjb25zdCB4UG9seSA9IG5ldyBQb2x5bm9taWFsKFxuICAgICAgICAgICAgICAgIGFbMF0sXG4gICAgICAgICAgICAgICAgYVszXSArIHlSb290c1t5XSAqIGFbMV0sXG4gICAgICAgICAgICAgICAgYVs1XSArIHlSb290c1t5XSAqIChhWzRdICsgeVJvb3RzW3ldICogYVsyXSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCB4Um9vdHMgPSB4UG9seS5nZXRSb290cygpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHhSb290cy5sZW5ndGg7IHgrKykge1xuICAgICAgICAgICAgICAgIGxldCB0c3QgPVxuICAgICAgICAgICAgICAgICAgICAoYVswXSAqIHhSb290c1t4XSArIGFbMV0gKiB5Um9vdHNbeV0gKyBhWzNdKSAqIHhSb290c1t4XSArXG4gICAgICAgICAgICAgICAgICAgIChhWzJdICogeVJvb3RzW3ldICsgYVs0XSkgKiB5Um9vdHNbeV0gKyBhWzVdO1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0c3QpIDwgbm9ybTApIHtcbiAgICAgICAgICAgICAgICAgICAgdHN0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIChiWzBdICogeFJvb3RzW3hdICsgYlsxXSAqIHlSb290c1t5XSArIGJbM10pICogeFJvb3RzW3hdICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChiWzJdICogeVJvb3RzW3ldICsgYls0XSkgKiB5Um9vdHNbeV0gKyBiWzVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModHN0KSA8IG5vcm0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnQobmV3IFBvaW50MkQoeFJvb3RzW3hdLCB5Um9vdHNbeV0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBcIkludGVyc2VjdGlvblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0RWxsaXBzZUxpbmVcbiAgICAgKlxuICAgICAqICBOT1RFOiBSb3RhdGlvbiB3aWxsIG5lZWQgdG8gYmUgYWRkZWQgdG8gdGhpcyBmdW5jdGlvblxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGNcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHJ4XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByeVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBhMVxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBhMlxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0RWxsaXBzZUxpbmUoYywgcngsIHJ5LCBhMSwgYTIpIHtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgY29uc3Qgb3JpZ24gPSBuZXcgVmVjdG9yMkQoYTEueCwgYTEueSk7XG4gICAgICAgIGNvbnN0IGRpciA9IFZlY3RvcjJELmZyb21Qb2ludHMoYTEsIGEyKTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gbmV3IFZlY3RvcjJEKGMueCwgYy55KTtcbiAgICAgICAgY29uc3QgZGlmZiA9IG9yaWduLnN1YnRyYWN0KGNlbnRlcik7XG4gICAgICAgIGNvbnN0IG1EaXIgPSBuZXcgVmVjdG9yMkQoZGlyLnggLyAocnggKiByeCksIGRpci55IC8gKHJ5ICogcnkpKTtcbiAgICAgICAgY29uc3QgbURpZmYgPSBuZXcgVmVjdG9yMkQoZGlmZi54IC8gKHJ4ICogcngpLCBkaWZmLnkgLyAocnkgKiByeSkpO1xuXG4gICAgICAgIGNvbnN0IGEgPSBkaXIuZG90KG1EaXIpO1xuICAgICAgICBjb25zdCBiID0gZGlyLmRvdChtRGlmZik7XG4gICAgICAgIGMgPSBkaWZmLmRvdChtRGlmZikgLSAxLjA7XG4gICAgICAgIGNvbnN0IGQgPSBiICogYiAtIGEgKiBjO1xuXG4gICAgICAgIGlmIChkIDwgMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIk91dHNpZGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSBNYXRoLnNxcnQoZCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2hhZG93XG4gICAgICAgICAgICBjb25zdCB0X2EgPSAoLWIgLSByb290KSAvIGE7XG4gICAgICAgICAgICBjb25zdCB0X2IgPSAoLWIgKyByb290KSAvIGE7XG5cbiAgICAgICAgICAgIGlmICgodF9hIDwgMCB8fCAxIDwgdF9hKSAmJiAodF9iIDwgMCB8fCAxIDwgdF9iKSkge1xuICAgICAgICAgICAgICAgIGlmICgodF9hIDwgMCAmJiB0X2IgPCAwKSB8fCAodF9hID4gMSAmJiB0X2IgPiAxKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiT3V0c2lkZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJJbnNpZGVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIkludGVyc2VjdGlvblwiKTtcbiAgICAgICAgICAgICAgICBpZiAoMCA8PSB0X2EgJiYgdF9hIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50KGExLmxlcnAoYTIsIHRfYSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoMCA8PSB0X2IgJiYgdF9iIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50KGExLmxlcnAoYTIsIHRfYikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSAtYiAvIGE7XG5cbiAgICAgICAgICAgIGlmICgwIDw9IHQgJiYgdCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIkludGVyc2VjdGlvblwiKTtcbiAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnQoYTEubGVycChhMiwgdCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIk91dHNpZGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RFbGxpcHNlUG9seWdvblxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGNcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHJ4XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByeVxuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RFbGxpcHNlUG9seWdvbihjLCByeCwgcnksIHBvaW50cykge1xuICAgICAgICByZXR1cm4gSW50ZXJzZWN0aW9uLmludGVyc2VjdEVsbGlwc2VQb2x5bGluZShjLCByeCwgcnksIGNsb3NlUG9seWdvbihwb2ludHMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0RWxsaXBzZVBvbHlsaW5lXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gY1xuICAgICAqICBAcGFyYW0ge251bWJlcn0gcnhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHJ5XG4gICAgICogIEBwYXJhbSB7QXJyYXk8bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkQ+fSBwb2ludHNcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5JbnRlcnNlY3Rpb259XG4gICAgICovXG4gICAgc3RhdGljIGludGVyc2VjdEVsbGlwc2VQb2x5bGluZShjLCByeCwgcnksIHBvaW50cykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiTm8gSW50ZXJzZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB7bGVuZ3RoOiBsZW59ID0gcG9pbnRzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBiMSA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGIyID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IGludGVyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdEVsbGlwc2VMaW5lKGMsIHJ4LCByeSwgYjEsIGIyKTtcblxuICAgICAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlci5wb2ludHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IFwiSW50ZXJzZWN0aW9uXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RFbGxpcHNlUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gY1xuICAgICAqICBAcGFyYW0ge251bWJlcn0gcnhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHJ5XG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IHIxXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IHIyXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RFbGxpcHNlUmVjdGFuZ2xlKGMsIHJ4LCByeSwgcjEsIHIyKSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IHIxLm1pbihyMik7XG4gICAgICAgIGNvbnN0IG1heCA9IHIxLm1heChyMik7XG4gICAgICAgIGNvbnN0IHRvcFJpZ2h0ID0gbmV3IFBvaW50MkQobWF4LngsIG1pbi55KTtcbiAgICAgICAgY29uc3QgYm90dG9tTGVmdCA9IG5ldyBQb2ludDJEKG1pbi54LCBtYXgueSk7XG5cbiAgICAgICAgY29uc3QgaW50ZXIxID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdEVsbGlwc2VMaW5lKGMsIHJ4LCByeSwgbWluLCB0b3BSaWdodCk7XG4gICAgICAgIGNvbnN0IGludGVyMiA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RFbGxpcHNlTGluZShjLCByeCwgcnksIHRvcFJpZ2h0LCBtYXgpO1xuICAgICAgICBjb25zdCBpbnRlcjMgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0RWxsaXBzZUxpbmUoYywgcngsIHJ5LCBtYXgsIGJvdHRvbUxlZnQpO1xuICAgICAgICBjb25zdCBpbnRlcjQgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0RWxsaXBzZUxpbmUoYywgcngsIHJ5LCBib3R0b21MZWZ0LCBtaW4pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJObyBJbnRlcnNlY3Rpb25cIik7XG5cbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjEucG9pbnRzKTtcbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjIucG9pbnRzKTtcbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjMucG9pbnRzKTtcbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjQucG9pbnRzKTtcblxuICAgICAgICBpZiAocmVzdWx0LnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzID0gXCJJbnRlcnNlY3Rpb25cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGludGVyc2VjdExpbmVMaW5lXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYTFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYTJcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYjFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYjJcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5JbnRlcnNlY3Rpb259XG4gICAgICovXG4gICAgc3RhdGljIGludGVyc2VjdExpbmVMaW5lKGExLCBhMiwgYjEsIGIyKSB7XG4gICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgY29uc3QgdWFfdCA9IChiMi54IC0gYjEueCkgKiAoYTEueSAtIGIxLnkpIC0gKGIyLnkgLSBiMS55KSAqIChhMS54IC0gYjEueCk7XG4gICAgICAgIGNvbnN0IHViX3QgPSAoYTIueCAtIGExLngpICogKGExLnkgLSBiMS55KSAtIChhMi55IC0gYTEueSkgKiAoYTEueCAtIGIxLngpO1xuICAgICAgICBjb25zdCB1X2IgPSAoYjIueSAtIGIxLnkpICogKGEyLnggLSBhMS54KSAtIChiMi54IC0gYjEueCkgKiAoYTIueSAtIGExLnkpO1xuXG4gICAgICAgIGlmICh1X2IgIT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHVhID0gdWFfdCAvIHVfYjtcbiAgICAgICAgICAgIGNvbnN0IHViID0gdWJfdCAvIHVfYjtcblxuICAgICAgICAgICAgaWYgKDAgPD0gdWEgJiYgdWEgPD0gMSAmJiAwIDw9IHViICYmIHViIDw9IDEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiSW50ZXJzZWN0aW9uXCIpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wb2ludHMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50MkQoXG4gICAgICAgICAgICAgICAgICAgICAgICBhMS54ICsgdWEgKiAoYTIueCAtIGExLngpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYTEueSArIHVhICogKGEyLnkgLSBhMS55KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJObyBJbnRlcnNlY3Rpb25cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodWFfdCA9PT0gMCB8fCB1Yl90ID09PSAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiQ29pbmNpZGVudFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJQYXJhbGxlbFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGludGVyc2VjdExpbmVQb2x5Z29uXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYTFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYTJcbiAgICAgKiAgQHBhcmFtIHtBcnJheTxtb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRD59IHBvaW50c1xuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0TGluZVBvbHlnb24oYTEsIGEyLCBwb2ludHMpIHtcbiAgICAgICAgcmV0dXJuIEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUG9seWxpbmUoYTEsIGEyLCBjbG9zZVBvbHlnb24ocG9pbnRzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGludGVyc2VjdExpbmVQb2x5bGluZVxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGExXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGEyXG4gICAgICogIEBwYXJhbSB7QXJyYXk8bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkQ+fSBwb2ludHNcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5JbnRlcnNlY3Rpb259XG4gICAgICovXG4gICAgc3RhdGljIGludGVyc2VjdExpbmVQb2x5bGluZShhMSwgYTIsIHBvaW50cykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiTm8gSW50ZXJzZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB7bGVuZ3RoOiBsZW59ID0gcG9pbnRzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBiMSA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGIyID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IGludGVyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVMaW5lKGExLCBhMiwgYjEsIGIyKTtcblxuICAgICAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlci5wb2ludHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IFwiSW50ZXJzZWN0aW9uXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RMaW5lUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYTFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYTJcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcjFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gcjJcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5JbnRlcnNlY3Rpb259XG4gICAgICovXG4gICAgc3RhdGljIGludGVyc2VjdExpbmVSZWN0YW5nbGUoYTEsIGEyLCByMSwgcjIpIHtcbiAgICAgICAgY29uc3QgbWluID0gcjEubWluKHIyKTtcbiAgICAgICAgY29uc3QgbWF4ID0gcjEubWF4KHIyKTtcbiAgICAgICAgY29uc3QgdG9wUmlnaHQgPSBuZXcgUG9pbnQyRChtYXgueCwgbWluLnkpO1xuICAgICAgICBjb25zdCBib3R0b21MZWZ0ID0gbmV3IFBvaW50MkQobWluLngsIG1heC55KTtcblxuICAgICAgICBjb25zdCBpbnRlcjEgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZUxpbmUobWluLCB0b3BSaWdodCwgYTEsIGEyKTtcbiAgICAgICAgY29uc3QgaW50ZXIyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVMaW5lKHRvcFJpZ2h0LCBtYXgsIGExLCBhMik7XG4gICAgICAgIGNvbnN0IGludGVyMyA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lTGluZShtYXgsIGJvdHRvbUxlZnQsIGExLCBhMik7XG4gICAgICAgIGNvbnN0IGludGVyNCA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lTGluZShib3R0b21MZWZ0LCBtaW4sIGExLCBhMik7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIk5vIEludGVyc2VjdGlvblwiKTtcblxuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMS5wb2ludHMpO1xuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMi5wb2ludHMpO1xuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMy5wb2ludHMpO1xuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyNC5wb2ludHMpO1xuXG4gICAgICAgIGlmIChyZXN1bHQucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBcIkludGVyc2VjdGlvblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0UG9seWdvblBvbHlnb25cbiAgICAgKlxuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzMVxuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzMlxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0UG9seWdvblBvbHlnb24ocG9pbnRzMSwgcG9pbnRzMikge1xuICAgICAgICByZXR1cm4gSW50ZXJzZWN0aW9uLmludGVyc2VjdFBvbHlsaW5lUG9seWxpbmUoY2xvc2VQb2x5Z29uKHBvaW50czEpLCBjbG9zZVBvbHlnb24ocG9pbnRzMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBpbnRlcnNlY3RQb2x5Z29uUG9seWxpbmVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzMVxuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzMlxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0UG9seWdvblBvbHlsaW5lKHBvaW50czEsIHBvaW50czIpIHtcbiAgICAgICAgcmV0dXJuIEludGVyc2VjdGlvbi5pbnRlcnNlY3RQb2x5bGluZVBvbHlsaW5lKGNsb3NlUG9seWdvbihwb2ludHMxKSwgcG9pbnRzMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGludGVyc2VjdFBvbHlnb25SZWN0YW5nbGVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IHIxXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IHIyXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RQb2x5Z29uUmVjdGFuZ2xlKHBvaW50cywgcjEsIHIyKSB7XG4gICAgICAgIHJldHVybiBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0UG9seWxpbmVSZWN0YW5nbGUoY2xvc2VQb2x5Z29uKHBvaW50cyksIHIxLCByMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGludGVyc2VjdFBvbHlsaW5lUG9seWxpbmVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzMVxuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzMlxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLkludGVyc2VjdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW50ZXJzZWN0UG9seWxpbmVQb2x5bGluZShwb2ludHMxLCBwb2ludHMyKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJObyBJbnRlcnNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHtsZW5ndGg6IGxlbn0gPSBwb2ludHMxO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBhMSA9IHBvaW50czFbaV07XG4gICAgICAgICAgICBjb25zdCBhMiA9IHBvaW50czFbaSArIDFdO1xuICAgICAgICAgICAgY29uc3QgaW50ZXIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVBvbHlsaW5lKGExLCBhMiwgcG9pbnRzMik7XG5cbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIucG9pbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBcIkludGVyc2VjdGlvblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0UG9seWxpbmVSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge0FycmF5PG1vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEPn0gcG9pbnRzXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IHIxXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IHIyXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RQb2x5bGluZVJlY3RhbmdsZShwb2ludHMsIHIxLCByMikge1xuICAgICAgICBjb25zdCBtaW4gPSByMS5taW4ocjIpO1xuICAgICAgICBjb25zdCBtYXggPSByMS5tYXgocjIpO1xuICAgICAgICBjb25zdCB0b3BSaWdodCA9IG5ldyBQb2ludDJEKG1heC54LCBtaW4ueSk7XG4gICAgICAgIGNvbnN0IGJvdHRvbUxlZnQgPSBuZXcgUG9pbnQyRChtaW4ueCwgbWF4LnkpO1xuXG4gICAgICAgIGNvbnN0IGludGVyMSA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUG9seWxpbmUobWluLCB0b3BSaWdodCwgcG9pbnRzKTtcbiAgICAgICAgY29uc3QgaW50ZXIyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5bGluZSh0b3BSaWdodCwgbWF4LCBwb2ludHMpO1xuICAgICAgICBjb25zdCBpbnRlcjMgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVBvbHlsaW5lKG1heCwgYm90dG9tTGVmdCwgcG9pbnRzKTtcbiAgICAgICAgY29uc3QgaW50ZXI0ID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5bGluZShib3R0b21MZWZ0LCBtaW4sIHBvaW50cyk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIk5vIEludGVyc2VjdGlvblwiKTtcblxuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMS5wb2ludHMpO1xuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMi5wb2ludHMpO1xuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMy5wb2ludHMpO1xuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyNC5wb2ludHMpO1xuXG4gICAgICAgIGlmIChyZXN1bHQucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBcIkludGVyc2VjdGlvblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgaW50ZXJzZWN0UmVjdGFuZ2xlUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYTFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYTJcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYjFcbiAgICAgKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gYjJcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5JbnRlcnNlY3Rpb259XG4gICAgICovXG4gICAgc3RhdGljIGludGVyc2VjdFJlY3RhbmdsZVJlY3RhbmdsZShhMSwgYTIsIGIxLCBiMikge1xuICAgICAgICBjb25zdCBtaW4gPSBhMS5taW4oYTIpO1xuICAgICAgICBjb25zdCBtYXggPSBhMS5tYXgoYTIpO1xuICAgICAgICBjb25zdCB0b3BSaWdodCA9IG5ldyBQb2ludDJEKG1heC54LCBtaW4ueSk7XG4gICAgICAgIGNvbnN0IGJvdHRvbUxlZnQgPSBuZXcgUG9pbnQyRChtaW4ueCwgbWF4LnkpO1xuXG4gICAgICAgIGNvbnN0IGludGVyMSA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUmVjdGFuZ2xlKG1pbiwgdG9wUmlnaHQsIGIxLCBiMik7XG4gICAgICAgIGNvbnN0IGludGVyMiA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUmVjdGFuZ2xlKHRvcFJpZ2h0LCBtYXgsIGIxLCBiMik7XG4gICAgICAgIGNvbnN0IGludGVyMyA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUmVjdGFuZ2xlKG1heCwgYm90dG9tTGVmdCwgYjEsIGIyKTtcbiAgICAgICAgY29uc3QgaW50ZXI0ID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVSZWN0YW5nbGUoYm90dG9tTGVmdCwgbWluLCBiMSwgYjIpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJObyBJbnRlcnNlY3Rpb25cIik7XG5cbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjEucG9pbnRzKTtcbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjIucG9pbnRzKTtcbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjMucG9pbnRzKTtcbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjQucG9pbnRzKTtcblxuICAgICAgICBpZiAocmVzdWx0LnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzID0gXCJJbnRlcnNlY3Rpb25cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGludGVyc2VjdFJheVJheVxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGExXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGEyXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGIxXG4gICAgICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IGIyXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuSW50ZXJzZWN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnNlY3RSYXlSYXkoYTEsIGEyLCBiMSwgYjIpIHtcbiAgICAgICAgbGV0IHJlc3VsdDtcblxuICAgICAgICBjb25zdCB1YV90ID0gKGIyLnggLSBiMS54KSAqIChhMS55IC0gYjEueSkgLSAoYjIueSAtIGIxLnkpICogKGExLnggLSBiMS54KTtcbiAgICAgICAgY29uc3QgdWJfdCA9IChhMi54IC0gYTEueCkgKiAoYTEueSAtIGIxLnkpIC0gKGEyLnkgLSBhMS55KSAqIChhMS54IC0gYjEueCk7XG4gICAgICAgIGNvbnN0IHVfYiA9IChiMi55IC0gYjEueSkgKiAoYTIueCAtIGExLngpIC0gKGIyLnggLSBiMS54KSAqIChhMi55IC0gYTEueSk7XG5cbiAgICAgICAgaWYgKHVfYiAhPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgdWEgPSB1YV90IC8gdV9iO1xuXG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKFwiSW50ZXJzZWN0aW9uXCIpO1xuICAgICAgICAgICAgcmVzdWx0LnBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludDJEKFxuICAgICAgICAgICAgICAgICAgICBhMS54ICsgdWEgKiAoYTIueCAtIGExLngpLFxuICAgICAgICAgICAgICAgICAgICBhMS55ICsgdWEgKiAoYTIueSAtIGExLnkpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1YV90ID09PSAwIHx8IHViX3QgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oXCJDb2luY2lkZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbihcIlBhcmFsbGVsXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgYXBwZW5kUG9pbnRcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwb2ludFxuICAgICAqL1xuICAgIGFwcGVuZFBvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMucG9pbnRzLnB1c2gocG9pbnQpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogIGFwcGVuZFBvaW50c1xuICAgICAqXG4gICAgICogIEBwYXJhbSB7QXJyYXk8bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkQ+fSBwb2ludHNcbiAgICAgKi9cbiAgICBhcHBlbmRQb2ludHMocG9pbnRzKSB7XG4gICAgICAgIHRoaXMucG9pbnRzID0gdGhpcy5wb2ludHMuY29uY2F0KHBvaW50cyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcnNlY3Rpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/Intersection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/IntersectionQuery.js":
/*!****************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/IntersectionQuery.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var kld_affine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kld-affine */ \"(ssr)/../../node_modules/.pnpm/kld-affine@2.1.1/node_modules/kld-affine/index.js\");\n/**\n *\n *  IntersectionQuery.js\n *\n *  @copyright 2017 Kevin Lindsey\n * @module IntersectionQuery\n */\n\n\n\n/**\n * @namespace\n */\nconst IntersectionQuery = {};\n\n\n/**\n *  pointInCircle\n *\n *  @param {module:kld-intersections.Point2D} point\n *  @param {module:kld-intersections.Point2D} center\n *  @param {number} radius\n *  @returns {boolean}\n */\nIntersectionQuery.pointInCircle = function(point, center, radius) {\n    const v = kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D.fromPoints(center, point);\n\n    return v.length() <= radius;\n};\n\n\n/**\n *  pointInEllipse\n *\n *  @param {module:kld-intersections.Point2D} point\n *  @param {module:kld-intersections.Point2D} center\n *  @param {number} radiusX\n *  @param {number} radiusY\n *  @returns {boolean}\n */\nIntersectionQuery.pointInEllipse = function(point, center, radiusX, radiusY) {\n    const len = point.subtract(center);\n\n    return (len.x * len.x) / (radiusX * radiusX) + (len.y * len.y) / (radiusY * radiusY) <= 1;\n};\n\n\n/**\n *  pointInPolyline\n *\n *  @param {module:kld-intersections.Point2D} point\n *  @param {Array<module:kld-intersections.Point2D>} points\n */\nIntersectionQuery.pointInPolyline = function(point, points) {\n    const {length: len} = points;\n    let counter = 0;\n    let xInter;\n\n    let p1 = points[0];\n\n    for (let i = 1; i <= len; i++) {\n        const p2 = points[i % len];\n        const minY = Math.min(p1.y, p2.y);\n        const maxY = Math.max(p1.y, p2.y);\n        const maxX = Math.max(p1.x, p2.x);\n\n        if (p1.y !== p2.y && minY < point.y && point.y <= maxY && point.x <= maxX) {\n            xInter = (point.y - p1.y) * (p2.x - p1.x) / (p2.y - p1.y) + p1.x;\n\n            if (p1.x === p2.x || point.x <= xInter) {\n                counter++;\n            }\n        }\n\n        p1 = p2;\n    }\n\n    return (counter % 2 === 1);\n};\n\n\n/**\n *  pointInPolyline\n *\n *  @param {module:kld-intersections.Point2D} point\n *  @param {Array<module:kld-intersections.Point2D>} points\n */\nIntersectionQuery.pointInPolygon = IntersectionQuery.pointInPolyline;\n\n\n/**\n *  pointInRectangle\n *\n *  @param {module:kld-intersections.Point2D} point\n *  @param {module:kld-intersections.Point2D} topLeft\n *  @param {module:kld-intersections.Point2D} bottomRight\n *  @returns {boolean}\n */\nIntersectionQuery.pointInRectangle = function(point, topLeft, bottomRight) {\n    return (\n        topLeft.x <= point.x && point.x < bottomRight.x &&\n        topLeft.y <= point.y && point.y < bottomRight.y\n    );\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IntersectionQuery);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2tsZC1pbnRlcnNlY3Rpb25zQDAuNy4wL25vZGVfbW9kdWxlcy9rbGQtaW50ZXJzZWN0aW9ucy9saWIvSW50ZXJzZWN0aW9uUXVlcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFb0M7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFrQztBQUM5QyxZQUFZLGtDQUFrQztBQUM5QyxZQUFZLFFBQVE7QUFDcEIsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjLGdEQUFROztBQUV0QjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFrQztBQUM5QyxZQUFZLGtDQUFrQztBQUM5QyxZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBa0M7QUFDOUMsWUFBWSx5Q0FBeUM7QUFDckQ7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QjtBQUNBOztBQUVBOztBQUVBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFrQztBQUM5QyxZQUFZLHlDQUF5QztBQUNyRDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtDQUFrQztBQUM5QyxZQUFZLGtDQUFrQztBQUM5QyxZQUFZLGtDQUFrQztBQUM5QyxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLGlFQUFlLGlCQUFpQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHJlcG9ncmFwaC93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2tsZC1pbnRlcnNlY3Rpb25zQDAuNy4wL25vZGVfbW9kdWxlcy9rbGQtaW50ZXJzZWN0aW9ucy9saWIvSW50ZXJzZWN0aW9uUXVlcnkuanM/N2E1MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKiAgSW50ZXJzZWN0aW9uUXVlcnkuanNcbiAqXG4gKiAgQGNvcHlyaWdodCAyMDE3IEtldmluIExpbmRzZXlcbiAqIEBtb2R1bGUgSW50ZXJzZWN0aW9uUXVlcnlcbiAqL1xuXG5pbXBvcnQge1ZlY3RvcjJEfSBmcm9tIFwia2xkLWFmZmluZVwiO1xuXG4vKipcbiAqIEBuYW1lc3BhY2VcbiAqL1xuY29uc3QgSW50ZXJzZWN0aW9uUXVlcnkgPSB7fTtcblxuXG4vKipcbiAqICBwb2ludEluQ2lyY2xlXG4gKlxuICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IHBvaW50XG4gKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gY2VudGVyXG4gKiAgQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xuICogIEByZXR1cm5zIHtib29sZWFufVxuICovXG5JbnRlcnNlY3Rpb25RdWVyeS5wb2ludEluQ2lyY2xlID0gZnVuY3Rpb24ocG9pbnQsIGNlbnRlciwgcmFkaXVzKSB7XG4gICAgY29uc3QgdiA9IFZlY3RvcjJELmZyb21Qb2ludHMoY2VudGVyLCBwb2ludCk7XG5cbiAgICByZXR1cm4gdi5sZW5ndGgoKSA8PSByYWRpdXM7XG59O1xuXG5cbi8qKlxuICogIHBvaW50SW5FbGxpcHNlXG4gKlxuICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IHBvaW50XG4gKiAgQHBhcmFtIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuUG9pbnQyRH0gY2VudGVyXG4gKiAgQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1hcbiAqICBAcGFyYW0ge251bWJlcn0gcmFkaXVzWVxuICogIEByZXR1cm5zIHtib29sZWFufVxuICovXG5JbnRlcnNlY3Rpb25RdWVyeS5wb2ludEluRWxsaXBzZSA9IGZ1bmN0aW9uKHBvaW50LCBjZW50ZXIsIHJhZGl1c1gsIHJhZGl1c1kpIHtcbiAgICBjb25zdCBsZW4gPSBwb2ludC5zdWJ0cmFjdChjZW50ZXIpO1xuXG4gICAgcmV0dXJuIChsZW4ueCAqIGxlbi54KSAvIChyYWRpdXNYICogcmFkaXVzWCkgKyAobGVuLnkgKiBsZW4ueSkgLyAocmFkaXVzWSAqIHJhZGl1c1kpIDw9IDE7XG59O1xuXG5cbi8qKlxuICogIHBvaW50SW5Qb2x5bGluZVxuICpcbiAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwb2ludFxuICogIEBwYXJhbSB7QXJyYXk8bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkQ+fSBwb2ludHNcbiAqL1xuSW50ZXJzZWN0aW9uUXVlcnkucG9pbnRJblBvbHlsaW5lID0gZnVuY3Rpb24ocG9pbnQsIHBvaW50cykge1xuICAgIGNvbnN0IHtsZW5ndGg6IGxlbn0gPSBwb2ludHM7XG4gICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgIGxldCB4SW50ZXI7XG5cbiAgICBsZXQgcDEgPSBwb2ludHNbMF07XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBwMiA9IHBvaW50c1tpICUgbGVuXTtcbiAgICAgICAgY29uc3QgbWluWSA9IE1hdGgubWluKHAxLnksIHAyLnkpO1xuICAgICAgICBjb25zdCBtYXhZID0gTWF0aC5tYXgocDEueSwgcDIueSk7XG4gICAgICAgIGNvbnN0IG1heFggPSBNYXRoLm1heChwMS54LCBwMi54KTtcblxuICAgICAgICBpZiAocDEueSAhPT0gcDIueSAmJiBtaW5ZIDwgcG9pbnQueSAmJiBwb2ludC55IDw9IG1heFkgJiYgcG9pbnQueCA8PSBtYXhYKSB7XG4gICAgICAgICAgICB4SW50ZXIgPSAocG9pbnQueSAtIHAxLnkpICogKHAyLnggLSBwMS54KSAvIChwMi55IC0gcDEueSkgKyBwMS54O1xuXG4gICAgICAgICAgICBpZiAocDEueCA9PT0gcDIueCB8fCBwb2ludC54IDw9IHhJbnRlcikge1xuICAgICAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAxID0gcDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIChjb3VudGVyICUgMiA9PT0gMSk7XG59O1xuXG5cbi8qKlxuICogIHBvaW50SW5Qb2x5bGluZVxuICpcbiAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwb2ludFxuICogIEBwYXJhbSB7QXJyYXk8bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkQ+fSBwb2ludHNcbiAqL1xuSW50ZXJzZWN0aW9uUXVlcnkucG9pbnRJblBvbHlnb24gPSBJbnRlcnNlY3Rpb25RdWVyeS5wb2ludEluUG9seWxpbmU7XG5cblxuLyoqXG4gKiAgcG9pbnRJblJlY3RhbmdsZVxuICpcbiAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBwb2ludFxuICogIEBwYXJhbSB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlBvaW50MkR9IHRvcExlZnRcbiAqICBAcGFyYW0ge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5Qb2ludDJEfSBib3R0b21SaWdodFxuICogIEByZXR1cm5zIHtib29sZWFufVxuICovXG5JbnRlcnNlY3Rpb25RdWVyeS5wb2ludEluUmVjdGFuZ2xlID0gZnVuY3Rpb24ocG9pbnQsIHRvcExlZnQsIGJvdHRvbVJpZ2h0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdG9wTGVmdC54IDw9IHBvaW50LnggJiYgcG9pbnQueCA8IGJvdHRvbVJpZ2h0LnggJiZcbiAgICAgICAgdG9wTGVmdC55IDw9IHBvaW50LnkgJiYgcG9pbnQueSA8IGJvdHRvbVJpZ2h0LnlcbiAgICApO1xufTtcblxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcnNlY3Rpb25RdWVyeTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/IntersectionQuery.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/PathHandler.js":
/*!**********************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/PathHandler.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var kld_affine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kld-affine */ \"(ssr)/../../node_modules/.pnpm/kld-affine@2.1.1/node_modules/kld-affine/index.js\");\n/**\n *  PathHandler.js\n *\n *  @copyright 2017 Kevin Lindsey\n */\n\n\n\nconst TWO_PI = 2.0 * Math.PI;\n\n/**\n * Based on the SVG 1.1 specification, Appendix F: Implementation Requirements,\n * Section F.6 \"Elliptical arc implementation notes\"\n * {@see https://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes}\n *\n * @param {module:kld-affine.Point2D} startPoint\n * @param {module:kld-affine.Point2D} endPoint\n * @param {number} rx\n * @param {number} ry\n * @param {number} angle\n * @param {boolean} arcFlag\n * @param {boolean} sweepFlag\n * @returns {Array}\n */\nfunction getArcParameters(startPoint, endPoint, rx, ry, angle, arcFlag, sweepFlag) {\n    angle = angle * Math.PI / 180;\n\n    const c = Math.cos(angle);\n    const s = Math.sin(angle);\n    const TOLERANCE = 1e-6;\n\n    // Section (F.6.5.1)\n    const halfDiff = startPoint.subtract(endPoint).multiply(0.5);\n    const x1p = halfDiff.x * c + halfDiff.y * s;\n    const y1p = halfDiff.x * -s + halfDiff.y * c;\n\n    // Section (F.6.6.1)\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n\n    // Section (F.6.6.2)\n    const x1px1p = x1p * x1p;\n    const y1py1p = y1p * y1p;\n    const lambda = (x1px1p / (rx * rx)) + (y1py1p / (ry * ry));\n\n    // Section (F.6.6.3)\n    if (lambda > 1) {\n        const factor = Math.sqrt(lambda);\n\n        rx *= factor;\n        ry *= factor;\n    }\n\n    // Section (F.6.5.2)\n    const rxrx = rx * rx;\n    const ryry = ry * ry;\n    const rxy1 = rxrx * y1py1p;\n    const ryx1 = ryry * x1px1p;\n\n    let factor = (rxrx * ryry - rxy1 - ryx1) / (rxy1 + ryx1);\n\n    if (Math.abs(factor) < TOLERANCE) {\n        factor = 0;\n    }\n\n    let sq = Math.sqrt(factor);\n\n    if (arcFlag === sweepFlag) {\n        sq = -sq;\n    }\n\n    // Section (F.6.5.3)\n    const mid = startPoint.add(endPoint).multiply(0.5);\n    const cxp = sq * rx * y1p / ry;\n    const cyp = sq * -ry * x1p / rx;\n\n    // Section (F.6.5.5 - F.6.5.6)\n    const xcr1 = (x1p - cxp) / rx;\n    const xcr2 = (x1p + cxp) / rx;\n    const ycr1 = (y1p - cyp) / ry;\n    const ycr2 = (y1p + cyp) / ry;\n\n    const theta1 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(1, 0).angleBetween(new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(xcr1, ycr1));\n    // let deltaTheta = normalizeAngle(new Vector2D(xcr1, ycr1).angleBetween(new Vector2D(-xcr2, -ycr2)));\n    let deltaTheta = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(xcr1, ycr1).angleBetween(new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Vector2D(-xcr2, -ycr2));\n\n    if (sweepFlag === false) {\n        deltaTheta -= TWO_PI;\n    }\n\n    return [\n        cxp * c - cyp * s + mid.x,\n        cxp * s + cyp * c + mid.y,\n        rx,\n        ry,\n        theta1,\n        theta1 + deltaTheta\n    ];\n}\n\n/**\n *  PathHandler\n */\nclass PathHandler {\n    /**\n     * PathHandler\n     *\n     * @param {ShapeInfo} shapeCreator\n     */\n    constructor(shapeCreator) {\n        this.shapeCreator = shapeCreator;\n        this.shapes = [];\n        this.firstX = null;\n        this.firstY = null;\n        this.lastX = null;\n        this.lastY = null;\n        this.lastCommand = null;\n    }\n\n    /**\n     * beginParse\n     */\n    beginParse() {\n        // zero out the sub-path array\n        this.shapes = [];\n\n        // clear firstX, firstY, lastX, and lastY\n        this.firstX = null;\n        this.firstY = null;\n        this.lastX = null;\n        this.lastY = null;\n\n        // need to remember last command type to determine how to handle the\n        // relative Bezier commands\n        this.lastCommand = null;\n    }\n\n    /**\n     *  addShape\n     *\n     *  @param {ShapeInfo} shape\n     */\n    addShape(shape) {\n        this.shapes.push(shape);\n    }\n\n    /**\n     *  arcAbs - A\n     *\n     *  @param {number} rx\n     *  @param {number} ry\n     *  @param {number} xAxisRotation\n     *  @param {boolean} arcFlag\n     *  @param {boolean} sweepFlag\n     *  @param {number} x\n     *  @param {number} y\n     */\n    arcAbs(rx, ry, xAxisRotation, arcFlag, sweepFlag, x, y) {\n        if (rx === 0 || ry === 0) {\n            this.addShape(this.shapeCreator.line(\n                this.lastX, this.lastY,\n                x, y\n            ));\n        }\n        else {\n            const arcParameters = getArcParameters(\n                new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(this.lastX, this.lastY),\n                new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(x, y),\n                rx, ry,\n                xAxisRotation,\n                arcFlag, sweepFlag\n            );\n\n            this.addShape(this.shapeCreator.arc(...arcParameters));\n        }\n\n        this.lastCommand = \"A\";\n        this.lastX = x;\n        this.lastY = y;\n    }\n\n    /**\n     *  arcRel - a\n     *\n     *  @param {number} rx\n     *  @param {number} ry\n     *  @param {number} xAxisRotation\n     *  @param {boolean} arcFlag\n     *  @param {boolean} sweepFlag\n     *  @param {number} x\n     *  @param {number} y\n     */\n    arcRel(rx, ry, xAxisRotation, arcFlag, sweepFlag, x, y) {\n        if (rx === 0 || ry === 0) {\n            this.addShape(this.shapeCreator.line(\n                this.lastX, this.lastY,\n                this.lastX + x, this.lastY + y\n            ));\n        }\n        else {\n            const arcParameters = getArcParameters(\n                new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(this.lastX, this.lastY),\n                new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(this.lastX + x, this.lastY + y),\n                rx, ry,\n                xAxisRotation,\n                arcFlag, sweepFlag\n            );\n\n            this.addShape(this.shapeCreator.arc(...arcParameters));\n        }\n\n        this.lastCommand = \"a\";\n        this.lastX += x;\n        this.lastY += y;\n    }\n\n    /**\n     *  curvetoCubicAbs - C\n     *\n     *  @param {number} x1\n     *  @param {number} y1\n     *  @param {number} x2\n     *  @param {number} y2\n     *  @param {number} x\n     *  @param {number} y\n     */\n    curvetoCubicAbs(x1, y1, x2, y2, x, y) {\n        this.addShape(this.shapeCreator.cubicBezier(\n            this.lastX, this.lastY,\n            x1, y1,\n            x2, y2,\n            x, y\n        ));\n\n        this.lastX = x;\n        this.lastY = y;\n        this.lastCommand = \"C\";\n    }\n\n    /**\n     *  curvetoCubicRel - c\n     *\n     *  @param {number} x1\n     *  @param {number} y1\n     *  @param {number} x2\n     *  @param {number} y2\n     *  @param {number} x\n     *  @param {number} y\n     */\n    curvetoCubicRel(x1, y1, x2, y2, x, y) {\n        this.addShape(this.shapeCreator.cubicBezier(\n            this.lastX, this.lastY,\n            this.lastX + x1, this.lastY + y1,\n            this.lastX + x2, this.lastY + y2,\n            this.lastX + x, this.lastY + y\n        ));\n\n        this.lastX += x;\n        this.lastY += y;\n        this.lastCommand = \"c\";\n    }\n\n    /**\n     *  linetoHorizontalAbs - H\n     *\n     *  @param {number} x\n     */\n    linetoHorizontalAbs(x) {\n        this.addShape(this.shapeCreator.line(\n            this.lastX, this.lastY,\n            x, this.lastY\n        ));\n\n        this.lastX = x;\n        this.lastCommand = \"H\";\n    }\n\n    /**\n     *  linetoHorizontalRel - h\n     *\n     *  @param {number} x\n     */\n    linetoHorizontalRel(x) {\n        this.addShape(this.shapeCreator.line(\n            this.lastX, this.lastY,\n            this.lastX + x, this.lastY\n        ));\n\n        this.lastX += x;\n        this.lastCommand = \"h\";\n    }\n\n    /**\n     *  linetoAbs - L\n     *\n     *  @param {number} x\n     *  @param {number} y\n     */\n    linetoAbs(x, y) {\n        this.addShape(this.shapeCreator.line(\n            this.lastX, this.lastY,\n            x, y\n        ));\n\n        this.lastX = x;\n        this.lastY = y;\n        this.lastCommand = \"L\";\n    }\n\n    /**\n     *  linetoRel - l\n     *\n     *  @param {number} x\n     *  @param {number} y\n     */\n    linetoRel(x, y) {\n        this.addShape(this.shapeCreator.line(\n            this.lastX, this.lastY,\n            this.lastX + x, this.lastY + y\n        ));\n\n        this.lastX += x;\n        this.lastY += y;\n        this.lastCommand = \"l\";\n    }\n\n    /**\n     *  movetoAbs - M\n     *\n     *  @param {number} x\n     *  @param {number} y\n     */\n    movetoAbs(x, y) {\n        this.firstX = x;\n        this.firstY = y;\n        this.lastX = x;\n        this.lastY = y;\n        this.lastCommand = \"M\";\n    }\n\n    /**\n     *  movetoRel - m\n     *\n     *  @param {number} x\n     *  @param {number} y\n     */\n    movetoRel(x, y) {\n        this.firstX += x;\n        this.firstY += y;\n        this.lastX += x;\n        this.lastY += y;\n        this.lastCommand = \"m\";\n    }\n\n    /**\n     *  curvetoQuadraticAbs - Q\n     *\n     *  @param {number} x1\n     *  @param {number} y1\n     *  @param {number} x\n     *  @param {number} y\n     */\n    curvetoQuadraticAbs(x1, y1, x, y) {\n        this.addShape(this.shapeCreator.quadraticBezier(\n            this.lastX, this.lastY,\n            x1, y1,\n            x, y\n        ));\n\n        this.lastX = x;\n        this.lastY = y;\n        this.lastCommand = \"Q\";\n    }\n\n    /**\n     *  curvetoQuadraticRel - q\n     *\n     *  @param {number} x1\n     *  @param {number} y1\n     *  @param {number} x\n     *  @param {number} y\n     */\n    curvetoQuadraticRel(x1, y1, x, y) {\n        this.addShape(this.shapeCreator.quadraticBezier(\n            this.lastX, this.lastY,\n            this.lastX + x1, this.lastY + y1,\n            this.lastX + x, this.lastY + y\n        ));\n\n        this.lastX += x;\n        this.lastY += y;\n        this.lastCommand = \"q\";\n    }\n\n    /**\n     *  curvetoCubicSmoothAbs - S\n     *\n     *  @param {number} x2\n     *  @param {number} y2\n     *  @param {number} x\n     *  @param {number} y\n     */\n    curvetoCubicSmoothAbs(x2, y2, x, y) {\n        let controlX, controlY;\n\n        if (this.lastCommand.match(/^[SsCc]$/)) {\n            const secondToLast = this.shapes[this.shapes.length - 1].args[2];\n\n            controlX = 2 * this.lastX - secondToLast.x;\n            controlY = 2 * this.lastY - secondToLast.y;\n        }\n        else {\n            controlX = this.lastX;\n            controlY = this.lastY;\n        }\n\n        this.addShape(this.shapeCreator.cubicBezier(\n            this.lastX, this.lastY,\n            controlX, controlY,\n            x2, y2,\n            x, y\n        ));\n\n        this.lastX = x;\n        this.lastY = y;\n        this.lastCommand = \"S\";\n    }\n\n    /**\n     *  curvetoCubicSmoothRel - s\n     *\n     *  @param {number} x2\n     *  @param {number} y2\n     *  @param {number} x\n     *  @param {number} y\n     */\n    curvetoCubicSmoothRel(x2, y2, x, y) {\n        let controlX, controlY;\n\n        if (this.lastCommand.match(/^[SsCc]$/)) {\n            const secondToLast = this.shapes[this.shapes.length - 1].args[2];\n\n            controlX = 2 * this.lastX - secondToLast.x;\n            controlY = 2 * this.lastY - secondToLast.y;\n        }\n        else {\n            controlX = this.lastX;\n            controlY = this.lastY;\n        }\n\n        this.addShape(this.shapeCreator.cubicBezier(\n            this.lastX, this.lastY,\n            controlX, controlY,\n            this.lastX + x2, this.lastY + y2,\n            this.lastX + x, this.lastY + y\n        ));\n\n        this.lastX += x;\n        this.lastY += y;\n        this.lastCommand = \"s\";\n    }\n\n    /**\n     *  curvetoQuadraticSmoothAbs - T\n     *\n     *  @param {number} x\n     *  @param {number} y\n     */\n    curvetoQuadraticSmoothAbs(x, y) {\n        let controlX, controlY;\n\n        if (this.lastCommand.match(/^[QqTt]$/)) {\n            const secondToLast = this.shapes[this.shapes.length - 1].args[1];\n\n            controlX = 2 * this.lastX - secondToLast.x;\n            controlY = 2 * this.lastY - secondToLast.y;\n        }\n        else {\n            controlX = this.lastX;\n            controlY = this.lastY;\n        }\n\n        this.addShape(this.shapeCreator.quadraticBezier(\n            this.lastX, this.lastY,\n            controlX, controlY,\n            x, y\n        ));\n\n        this.lastX = x;\n        this.lastY = y;\n        this.lastCommand = \"T\";\n    }\n\n    /**\n     *  curvetoQuadraticSmoothRel - t\n     *\n     *  @param {number} x\n     *  @param {number} y\n     */\n    curvetoQuadraticSmoothRel(x, y) {\n        let controlX, controlY;\n\n        if (this.lastCommand.match(/^[QqTt]$/)) {\n            const secondToLast = this.shapes[this.shapes.length - 1].args[1];\n\n            controlX = 2 * this.lastX - secondToLast.x;\n            controlY = 2 * this.lastY - secondToLast.y;\n        }\n        else {\n            controlX = this.lastX;\n            controlY = this.lastY;\n        }\n\n        this.addShape(this.shapeCreator.quadraticBezier(\n            this.lastX, this.lastY,\n            controlX, controlY,\n            this.lastX + x, this.lastY + y\n        ));\n\n        this.lastX += x;\n        this.lastY += y;\n        this.lastCommand = \"t\";\n    }\n\n    /**\n     *  linetoVerticalAbs - V\n     *\n     *  @param {number} y\n     */\n    linetoVerticalAbs(y) {\n        this.addShape(this.shapeCreator.line(\n            this.lastX, this.lastY,\n            this.lastX, y\n        ));\n\n        this.lastY = y;\n\n        this.lastCommand = \"V\";\n    }\n\n    /**\n     *  linetoVerticalRel - v\n     *\n     *  @param {number} y\n     */\n    linetoVerticalRel(y) {\n        this.addShape(this.shapeCreator.line(\n            this.lastX, this.lastY,\n            this.lastX, this.lastY + y\n        ));\n\n        this.lastY += y;\n\n        this.lastCommand = \"v\";\n    }\n\n    /**\n     *  closePath - z or Z\n     */\n    closePath() {\n        this.addShape(this.shapeCreator.line(\n            this.lastX, this.lastY,\n            this.firstX, this.firstY\n        ));\n\n        this.lastX = this.firstX;\n        this.lastY = this.firstY;\n        this.lastCommand = \"z\";\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PathHandler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2tsZC1pbnRlcnNlY3Rpb25zQDAuNy4wL25vZGVfbW9kdWxlcy9rbGQtaW50ZXJzZWN0aW9ucy9saWIvUGF0aEhhbmRsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU2Qzs7QUFFN0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsV0FBVywyQkFBMkI7QUFDdEMsV0FBVywyQkFBMkI7QUFDdEMsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsZ0RBQVEsd0JBQXdCLGdEQUFRO0FBQy9EO0FBQ0EseUJBQXlCLGdEQUFRLDhCQUE4QixnREFBUTs7QUFFdkU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsV0FBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrQ0FBTztBQUMzQixvQkFBb0IsK0NBQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrQ0FBTztBQUMzQixvQkFBb0IsK0NBQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxXQUFXLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcmVwb2dyYXBoL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0va2xkLWludGVyc2VjdGlvbnNAMC43LjAvbm9kZV9tb2R1bGVzL2tsZC1pbnRlcnNlY3Rpb25zL2xpYi9QYXRoSGFuZGxlci5qcz9mOGRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogIFBhdGhIYW5kbGVyLmpzXG4gKlxuICogIEBjb3B5cmlnaHQgMjAxNyBLZXZpbiBMaW5kc2V5XG4gKi9cblxuaW1wb3J0IHtQb2ludDJELCBWZWN0b3IyRH0gZnJvbSBcImtsZC1hZmZpbmVcIjtcblxuY29uc3QgVFdPX1BJID0gMi4wICogTWF0aC5QSTtcblxuLyoqXG4gKiBCYXNlZCBvbiB0aGUgU1ZHIDEuMSBzcGVjaWZpY2F0aW9uLCBBcHBlbmRpeCBGOiBJbXBsZW1lbnRhdGlvbiBSZXF1aXJlbWVudHMsXG4gKiBTZWN0aW9uIEYuNiBcIkVsbGlwdGljYWwgYXJjIGltcGxlbWVudGF0aW9uIG5vdGVzXCJcbiAqIHtAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9pbXBsbm90ZS5odG1sI0FyY0ltcGxlbWVudGF0aW9uTm90ZXN9XG4gKlxuICogQHBhcmFtIHttb2R1bGU6a2xkLWFmZmluZS5Qb2ludDJEfSBzdGFydFBvaW50XG4gKiBAcGFyYW0ge21vZHVsZTprbGQtYWZmaW5lLlBvaW50MkR9IGVuZFBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0gcnhcbiAqIEBwYXJhbSB7bnVtYmVyfSByeVxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFyY0ZsYWdcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc3dlZXBGbGFnXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIGdldEFyY1BhcmFtZXRlcnMoc3RhcnRQb2ludCwgZW5kUG9pbnQsIHJ4LCByeSwgYW5nbGUsIGFyY0ZsYWcsIHN3ZWVwRmxhZykge1xuICAgIGFuZ2xlID0gYW5nbGUgKiBNYXRoLlBJIC8gMTgwO1xuXG4gICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIGNvbnN0IFRPTEVSQU5DRSA9IDFlLTY7XG5cbiAgICAvLyBTZWN0aW9uIChGLjYuNS4xKVxuICAgIGNvbnN0IGhhbGZEaWZmID0gc3RhcnRQb2ludC5zdWJ0cmFjdChlbmRQb2ludCkubXVsdGlwbHkoMC41KTtcbiAgICBjb25zdCB4MXAgPSBoYWxmRGlmZi54ICogYyArIGhhbGZEaWZmLnkgKiBzO1xuICAgIGNvbnN0IHkxcCA9IGhhbGZEaWZmLnggKiAtcyArIGhhbGZEaWZmLnkgKiBjO1xuXG4gICAgLy8gU2VjdGlvbiAoRi42LjYuMSlcbiAgICByeCA9IE1hdGguYWJzKHJ4KTtcbiAgICByeSA9IE1hdGguYWJzKHJ5KTtcblxuICAgIC8vIFNlY3Rpb24gKEYuNi42LjIpXG4gICAgY29uc3QgeDFweDFwID0geDFwICogeDFwO1xuICAgIGNvbnN0IHkxcHkxcCA9IHkxcCAqIHkxcDtcbiAgICBjb25zdCBsYW1iZGEgPSAoeDFweDFwIC8gKHJ4ICogcngpKSArICh5MXB5MXAgLyAocnkgKiByeSkpO1xuXG4gICAgLy8gU2VjdGlvbiAoRi42LjYuMylcbiAgICBpZiAobGFtYmRhID4gMSkge1xuICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLnNxcnQobGFtYmRhKTtcblxuICAgICAgICByeCAqPSBmYWN0b3I7XG4gICAgICAgIHJ5ICo9IGZhY3RvcjtcbiAgICB9XG5cbiAgICAvLyBTZWN0aW9uIChGLjYuNS4yKVxuICAgIGNvbnN0IHJ4cnggPSByeCAqIHJ4O1xuICAgIGNvbnN0IHJ5cnkgPSByeSAqIHJ5O1xuICAgIGNvbnN0IHJ4eTEgPSByeHJ4ICogeTFweTFwO1xuICAgIGNvbnN0IHJ5eDEgPSByeXJ5ICogeDFweDFwO1xuXG4gICAgbGV0IGZhY3RvciA9IChyeHJ4ICogcnlyeSAtIHJ4eTEgLSByeXgxKSAvIChyeHkxICsgcnl4MSk7XG5cbiAgICBpZiAoTWF0aC5hYnMoZmFjdG9yKSA8IFRPTEVSQU5DRSkge1xuICAgICAgICBmYWN0b3IgPSAwO1xuICAgIH1cblxuICAgIGxldCBzcSA9IE1hdGguc3FydChmYWN0b3IpO1xuXG4gICAgaWYgKGFyY0ZsYWcgPT09IHN3ZWVwRmxhZykge1xuICAgICAgICBzcSA9IC1zcTtcbiAgICB9XG5cbiAgICAvLyBTZWN0aW9uIChGLjYuNS4zKVxuICAgIGNvbnN0IG1pZCA9IHN0YXJ0UG9pbnQuYWRkKGVuZFBvaW50KS5tdWx0aXBseSgwLjUpO1xuICAgIGNvbnN0IGN4cCA9IHNxICogcnggKiB5MXAgLyByeTtcbiAgICBjb25zdCBjeXAgPSBzcSAqIC1yeSAqIHgxcCAvIHJ4O1xuXG4gICAgLy8gU2VjdGlvbiAoRi42LjUuNSAtIEYuNi41LjYpXG4gICAgY29uc3QgeGNyMSA9ICh4MXAgLSBjeHApIC8gcng7XG4gICAgY29uc3QgeGNyMiA9ICh4MXAgKyBjeHApIC8gcng7XG4gICAgY29uc3QgeWNyMSA9ICh5MXAgLSBjeXApIC8gcnk7XG4gICAgY29uc3QgeWNyMiA9ICh5MXAgKyBjeXApIC8gcnk7XG5cbiAgICBjb25zdCB0aGV0YTEgPSBuZXcgVmVjdG9yMkQoMSwgMCkuYW5nbGVCZXR3ZWVuKG5ldyBWZWN0b3IyRCh4Y3IxLCB5Y3IxKSk7XG4gICAgLy8gbGV0IGRlbHRhVGhldGEgPSBub3JtYWxpemVBbmdsZShuZXcgVmVjdG9yMkQoeGNyMSwgeWNyMSkuYW5nbGVCZXR3ZWVuKG5ldyBWZWN0b3IyRCgteGNyMiwgLXljcjIpKSk7XG4gICAgbGV0IGRlbHRhVGhldGEgPSBuZXcgVmVjdG9yMkQoeGNyMSwgeWNyMSkuYW5nbGVCZXR3ZWVuKG5ldyBWZWN0b3IyRCgteGNyMiwgLXljcjIpKTtcblxuICAgIGlmIChzd2VlcEZsYWcgPT09IGZhbHNlKSB7XG4gICAgICAgIGRlbHRhVGhldGEgLT0gVFdPX1BJO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICAgIGN4cCAqIGMgLSBjeXAgKiBzICsgbWlkLngsXG4gICAgICAgIGN4cCAqIHMgKyBjeXAgKiBjICsgbWlkLnksXG4gICAgICAgIHJ4LFxuICAgICAgICByeSxcbiAgICAgICAgdGhldGExLFxuICAgICAgICB0aGV0YTEgKyBkZWx0YVRoZXRhXG4gICAgXTtcbn1cblxuLyoqXG4gKiAgUGF0aEhhbmRsZXJcbiAqL1xuY2xhc3MgUGF0aEhhbmRsZXIge1xuICAgIC8qKlxuICAgICAqIFBhdGhIYW5kbGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1NoYXBlSW5mb30gc2hhcGVDcmVhdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2hhcGVDcmVhdG9yKSB7XG4gICAgICAgIHRoaXMuc2hhcGVDcmVhdG9yID0gc2hhcGVDcmVhdG9yO1xuICAgICAgICB0aGlzLnNoYXBlcyA9IFtdO1xuICAgICAgICB0aGlzLmZpcnN0WCA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlyc3RZID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0WCA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFkgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RDb21tYW5kID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBiZWdpblBhcnNlXG4gICAgICovXG4gICAgYmVnaW5QYXJzZSgpIHtcbiAgICAgICAgLy8gemVybyBvdXQgdGhlIHN1Yi1wYXRoIGFycmF5XG4gICAgICAgIHRoaXMuc2hhcGVzID0gW107XG5cbiAgICAgICAgLy8gY2xlYXIgZmlyc3RYLCBmaXJzdFksIGxhc3RYLCBhbmQgbGFzdFlcbiAgICAgICAgdGhpcy5maXJzdFggPSBudWxsO1xuICAgICAgICB0aGlzLmZpcnN0WSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFggPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RZID0gbnVsbDtcblxuICAgICAgICAvLyBuZWVkIHRvIHJlbWVtYmVyIGxhc3QgY29tbWFuZCB0eXBlIHRvIGRldGVybWluZSBob3cgdG8gaGFuZGxlIHRoZVxuICAgICAgICAvLyByZWxhdGl2ZSBCZXppZXIgY29tbWFuZHNcbiAgICAgICAgdGhpcy5sYXN0Q29tbWFuZCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGFkZFNoYXBlXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHtTaGFwZUluZm99IHNoYXBlXG4gICAgICovXG4gICAgYWRkU2hhcGUoc2hhcGUpIHtcbiAgICAgICAgdGhpcy5zaGFwZXMucHVzaChzaGFwZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGFyY0FicyAtIEFcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge251bWJlcn0gcnhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHJ5XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB4QXhpc1JvdGF0aW9uXG4gICAgICogIEBwYXJhbSB7Ym9vbGVhbn0gYXJjRmxhZ1xuICAgICAqICBAcGFyYW0ge2Jvb2xlYW59IHN3ZWVwRmxhZ1xuICAgICAqICBAcGFyYW0ge251bWJlcn0geFxuICAgICAqICBAcGFyYW0ge251bWJlcn0geVxuICAgICAqL1xuICAgIGFyY0FicyhyeCwgcnksIHhBeGlzUm90YXRpb24sIGFyY0ZsYWcsIHN3ZWVwRmxhZywgeCwgeSkge1xuICAgICAgICBpZiAocnggPT09IDAgfHwgcnkgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWRkU2hhcGUodGhpcy5zaGFwZUNyZWF0b3IubGluZShcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RYLCB0aGlzLmxhc3RZLFxuICAgICAgICAgICAgICAgIHgsIHlcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYXJjUGFyYW1ldGVycyA9IGdldEFyY1BhcmFtZXRlcnMoXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50MkQodGhpcy5sYXN0WCwgdGhpcy5sYXN0WSksXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50MkQoeCwgeSksXG4gICAgICAgICAgICAgICAgcngsIHJ5LFxuICAgICAgICAgICAgICAgIHhBeGlzUm90YXRpb24sXG4gICAgICAgICAgICAgICAgYXJjRmxhZywgc3dlZXBGbGFnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFNoYXBlKHRoaXMuc2hhcGVDcmVhdG9yLmFyYyguLi5hcmNQYXJhbWV0ZXJzKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxhc3RDb21tYW5kID0gXCJBXCI7XG4gICAgICAgIHRoaXMubGFzdFggPSB4O1xuICAgICAgICB0aGlzLmxhc3RZID0geTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgYXJjUmVsIC0gYVxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByeFxuICAgICAqICBAcGFyYW0ge251bWJlcn0gcnlcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHhBeGlzUm90YXRpb25cbiAgICAgKiAgQHBhcmFtIHtib29sZWFufSBhcmNGbGFnXG4gICAgICogIEBwYXJhbSB7Ym9vbGVhbn0gc3dlZXBGbGFnXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICovXG4gICAgYXJjUmVsKHJ4LCByeSwgeEF4aXNSb3RhdGlvbiwgYXJjRmxhZywgc3dlZXBGbGFnLCB4LCB5KSB7XG4gICAgICAgIGlmIChyeCA9PT0gMCB8fCByeSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hZGRTaGFwZSh0aGlzLnNoYXBlQ3JlYXRvci5saW5lKFxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFgsIHRoaXMubGFzdFksXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0WCArIHgsIHRoaXMubGFzdFkgKyB5XG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGFyY1BhcmFtZXRlcnMgPSBnZXRBcmNQYXJhbWV0ZXJzKFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludDJEKHRoaXMubGFzdFgsIHRoaXMubGFzdFkpLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludDJEKHRoaXMubGFzdFggKyB4LCB0aGlzLmxhc3RZICsgeSksXG4gICAgICAgICAgICAgICAgcngsIHJ5LFxuICAgICAgICAgICAgICAgIHhBeGlzUm90YXRpb24sXG4gICAgICAgICAgICAgICAgYXJjRmxhZywgc3dlZXBGbGFnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFNoYXBlKHRoaXMuc2hhcGVDcmVhdG9yLmFyYyguLi5hcmNQYXJhbWV0ZXJzKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxhc3RDb21tYW5kID0gXCJhXCI7XG4gICAgICAgIHRoaXMubGFzdFggKz0geDtcbiAgICAgICAgdGhpcy5sYXN0WSArPSB5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBjdXJ2ZXRvQ3ViaWNBYnMgLSBDXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHgxXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB5MVxuICAgICAqICBAcGFyYW0ge251bWJlcn0geDJcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHkyXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICovXG4gICAgY3VydmV0b0N1YmljQWJzKHgxLCB5MSwgeDIsIHkyLCB4LCB5KSB7XG4gICAgICAgIHRoaXMuYWRkU2hhcGUodGhpcy5zaGFwZUNyZWF0b3IuY3ViaWNCZXppZXIoXG4gICAgICAgICAgICB0aGlzLmxhc3RYLCB0aGlzLmxhc3RZLFxuICAgICAgICAgICAgeDEsIHkxLFxuICAgICAgICAgICAgeDIsIHkyLFxuICAgICAgICAgICAgeCwgeVxuICAgICAgICApKTtcblxuICAgICAgICB0aGlzLmxhc3RYID0geDtcbiAgICAgICAgdGhpcy5sYXN0WSA9IHk7XG4gICAgICAgIHRoaXMubGFzdENvbW1hbmQgPSBcIkNcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgY3VydmV0b0N1YmljUmVsIC0gY1xuICAgICAqXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB4MVxuICAgICAqICBAcGFyYW0ge251bWJlcn0geTFcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHgyXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB5MlxuICAgICAqICBAcGFyYW0ge251bWJlcn0geFxuICAgICAqICBAcGFyYW0ge251bWJlcn0geVxuICAgICAqL1xuICAgIGN1cnZldG9DdWJpY1JlbCh4MSwgeTEsIHgyLCB5MiwgeCwgeSkge1xuICAgICAgICB0aGlzLmFkZFNoYXBlKHRoaXMuc2hhcGVDcmVhdG9yLmN1YmljQmV6aWVyKFxuICAgICAgICAgICAgdGhpcy5sYXN0WCwgdGhpcy5sYXN0WSxcbiAgICAgICAgICAgIHRoaXMubGFzdFggKyB4MSwgdGhpcy5sYXN0WSArIHkxLFxuICAgICAgICAgICAgdGhpcy5sYXN0WCArIHgyLCB0aGlzLmxhc3RZICsgeTIsXG4gICAgICAgICAgICB0aGlzLmxhc3RYICsgeCwgdGhpcy5sYXN0WSArIHlcbiAgICAgICAgKSk7XG5cbiAgICAgICAgdGhpcy5sYXN0WCArPSB4O1xuICAgICAgICB0aGlzLmxhc3RZICs9IHk7XG4gICAgICAgIHRoaXMubGFzdENvbW1hbmQgPSBcImNcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgbGluZXRvSG9yaXpvbnRhbEFicyAtIEhcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge251bWJlcn0geFxuICAgICAqL1xuICAgIGxpbmV0b0hvcml6b250YWxBYnMoeCkge1xuICAgICAgICB0aGlzLmFkZFNoYXBlKHRoaXMuc2hhcGVDcmVhdG9yLmxpbmUoXG4gICAgICAgICAgICB0aGlzLmxhc3RYLCB0aGlzLmxhc3RZLFxuICAgICAgICAgICAgeCwgdGhpcy5sYXN0WVxuICAgICAgICApKTtcblxuICAgICAgICB0aGlzLmxhc3RYID0geDtcbiAgICAgICAgdGhpcy5sYXN0Q29tbWFuZCA9IFwiSFwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBsaW5ldG9Ib3Jpem9udGFsUmVsIC0gaFxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICovXG4gICAgbGluZXRvSG9yaXpvbnRhbFJlbCh4KSB7XG4gICAgICAgIHRoaXMuYWRkU2hhcGUodGhpcy5zaGFwZUNyZWF0b3IubGluZShcbiAgICAgICAgICAgIHRoaXMubGFzdFgsIHRoaXMubGFzdFksXG4gICAgICAgICAgICB0aGlzLmxhc3RYICsgeCwgdGhpcy5sYXN0WVxuICAgICAgICApKTtcblxuICAgICAgICB0aGlzLmxhc3RYICs9IHg7XG4gICAgICAgIHRoaXMubGFzdENvbW1hbmQgPSBcImhcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgbGluZXRvQWJzIC0gTFxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICovXG4gICAgbGluZXRvQWJzKHgsIHkpIHtcbiAgICAgICAgdGhpcy5hZGRTaGFwZSh0aGlzLnNoYXBlQ3JlYXRvci5saW5lKFxuICAgICAgICAgICAgdGhpcy5sYXN0WCwgdGhpcy5sYXN0WSxcbiAgICAgICAgICAgIHgsIHlcbiAgICAgICAgKSk7XG5cbiAgICAgICAgdGhpcy5sYXN0WCA9IHg7XG4gICAgICAgIHRoaXMubGFzdFkgPSB5O1xuICAgICAgICB0aGlzLmxhc3RDb21tYW5kID0gXCJMXCI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGxpbmV0b1JlbCAtIGxcbiAgICAgKlxuICAgICAqICBAcGFyYW0ge251bWJlcn0geFxuICAgICAqICBAcGFyYW0ge251bWJlcn0geVxuICAgICAqL1xuICAgIGxpbmV0b1JlbCh4LCB5KSB7XG4gICAgICAgIHRoaXMuYWRkU2hhcGUodGhpcy5zaGFwZUNyZWF0b3IubGluZShcbiAgICAgICAgICAgIHRoaXMubGFzdFgsIHRoaXMubGFzdFksXG4gICAgICAgICAgICB0aGlzLmxhc3RYICsgeCwgdGhpcy5sYXN0WSArIHlcbiAgICAgICAgKSk7XG5cbiAgICAgICAgdGhpcy5sYXN0WCArPSB4O1xuICAgICAgICB0aGlzLmxhc3RZICs9IHk7XG4gICAgICAgIHRoaXMubGFzdENvbW1hbmQgPSBcImxcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgbW92ZXRvQWJzIC0gTVxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICovXG4gICAgbW92ZXRvQWJzKHgsIHkpIHtcbiAgICAgICAgdGhpcy5maXJzdFggPSB4O1xuICAgICAgICB0aGlzLmZpcnN0WSA9IHk7XG4gICAgICAgIHRoaXMubGFzdFggPSB4O1xuICAgICAgICB0aGlzLmxhc3RZID0geTtcbiAgICAgICAgdGhpcy5sYXN0Q29tbWFuZCA9IFwiTVwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBtb3ZldG9SZWwgLSBtXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKi9cbiAgICBtb3ZldG9SZWwoeCwgeSkge1xuICAgICAgICB0aGlzLmZpcnN0WCArPSB4O1xuICAgICAgICB0aGlzLmZpcnN0WSArPSB5O1xuICAgICAgICB0aGlzLmxhc3RYICs9IHg7XG4gICAgICAgIHRoaXMubGFzdFkgKz0geTtcbiAgICAgICAgdGhpcy5sYXN0Q29tbWFuZCA9IFwibVwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBjdXJ2ZXRvUXVhZHJhdGljQWJzIC0gUVxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB4MVxuICAgICAqICBAcGFyYW0ge251bWJlcn0geTFcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKi9cbiAgICBjdXJ2ZXRvUXVhZHJhdGljQWJzKHgxLCB5MSwgeCwgeSkge1xuICAgICAgICB0aGlzLmFkZFNoYXBlKHRoaXMuc2hhcGVDcmVhdG9yLnF1YWRyYXRpY0JlemllcihcbiAgICAgICAgICAgIHRoaXMubGFzdFgsIHRoaXMubGFzdFksXG4gICAgICAgICAgICB4MSwgeTEsXG4gICAgICAgICAgICB4LCB5XG4gICAgICAgICkpO1xuXG4gICAgICAgIHRoaXMubGFzdFggPSB4O1xuICAgICAgICB0aGlzLmxhc3RZID0geTtcbiAgICAgICAgdGhpcy5sYXN0Q29tbWFuZCA9IFwiUVwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBjdXJ2ZXRvUXVhZHJhdGljUmVsIC0gcVxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB4MVxuICAgICAqICBAcGFyYW0ge251bWJlcn0geTFcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKi9cbiAgICBjdXJ2ZXRvUXVhZHJhdGljUmVsKHgxLCB5MSwgeCwgeSkge1xuICAgICAgICB0aGlzLmFkZFNoYXBlKHRoaXMuc2hhcGVDcmVhdG9yLnF1YWRyYXRpY0JlemllcihcbiAgICAgICAgICAgIHRoaXMubGFzdFgsIHRoaXMubGFzdFksXG4gICAgICAgICAgICB0aGlzLmxhc3RYICsgeDEsIHRoaXMubGFzdFkgKyB5MSxcbiAgICAgICAgICAgIHRoaXMubGFzdFggKyB4LCB0aGlzLmxhc3RZICsgeVxuICAgICAgICApKTtcblxuICAgICAgICB0aGlzLmxhc3RYICs9IHg7XG4gICAgICAgIHRoaXMubGFzdFkgKz0geTtcbiAgICAgICAgdGhpcy5sYXN0Q29tbWFuZCA9IFwicVwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBjdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMgLSBTXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHgyXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB5MlxuICAgICAqICBAcGFyYW0ge251bWJlcn0geFxuICAgICAqICBAcGFyYW0ge251bWJlcn0geVxuICAgICAqL1xuICAgIGN1cnZldG9DdWJpY1Ntb290aEFicyh4MiwgeTIsIHgsIHkpIHtcbiAgICAgICAgbGV0IGNvbnRyb2xYLCBjb250cm9sWTtcblxuICAgICAgICBpZiAodGhpcy5sYXN0Q29tbWFuZC5tYXRjaCgvXltTc0NjXSQvKSkge1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kVG9MYXN0ID0gdGhpcy5zaGFwZXNbdGhpcy5zaGFwZXMubGVuZ3RoIC0gMV0uYXJnc1syXTtcblxuICAgICAgICAgICAgY29udHJvbFggPSAyICogdGhpcy5sYXN0WCAtIHNlY29uZFRvTGFzdC54O1xuICAgICAgICAgICAgY29udHJvbFkgPSAyICogdGhpcy5sYXN0WSAtIHNlY29uZFRvTGFzdC55O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udHJvbFggPSB0aGlzLmxhc3RYO1xuICAgICAgICAgICAgY29udHJvbFkgPSB0aGlzLmxhc3RZO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRTaGFwZSh0aGlzLnNoYXBlQ3JlYXRvci5jdWJpY0JlemllcihcbiAgICAgICAgICAgIHRoaXMubGFzdFgsIHRoaXMubGFzdFksXG4gICAgICAgICAgICBjb250cm9sWCwgY29udHJvbFksXG4gICAgICAgICAgICB4MiwgeTIsXG4gICAgICAgICAgICB4LCB5XG4gICAgICAgICkpO1xuXG4gICAgICAgIHRoaXMubGFzdFggPSB4O1xuICAgICAgICB0aGlzLmxhc3RZID0geTtcbiAgICAgICAgdGhpcy5sYXN0Q29tbWFuZCA9IFwiU1wiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBjdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwgLSBzXG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHgyXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB5MlxuICAgICAqICBAcGFyYW0ge251bWJlcn0geFxuICAgICAqICBAcGFyYW0ge251bWJlcn0geVxuICAgICAqL1xuICAgIGN1cnZldG9DdWJpY1Ntb290aFJlbCh4MiwgeTIsIHgsIHkpIHtcbiAgICAgICAgbGV0IGNvbnRyb2xYLCBjb250cm9sWTtcblxuICAgICAgICBpZiAodGhpcy5sYXN0Q29tbWFuZC5tYXRjaCgvXltTc0NjXSQvKSkge1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kVG9MYXN0ID0gdGhpcy5zaGFwZXNbdGhpcy5zaGFwZXMubGVuZ3RoIC0gMV0uYXJnc1syXTtcblxuICAgICAgICAgICAgY29udHJvbFggPSAyICogdGhpcy5sYXN0WCAtIHNlY29uZFRvTGFzdC54O1xuICAgICAgICAgICAgY29udHJvbFkgPSAyICogdGhpcy5sYXN0WSAtIHNlY29uZFRvTGFzdC55O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udHJvbFggPSB0aGlzLmxhc3RYO1xuICAgICAgICAgICAgY29udHJvbFkgPSB0aGlzLmxhc3RZO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRTaGFwZSh0aGlzLnNoYXBlQ3JlYXRvci5jdWJpY0JlemllcihcbiAgICAgICAgICAgIHRoaXMubGFzdFgsIHRoaXMubGFzdFksXG4gICAgICAgICAgICBjb250cm9sWCwgY29udHJvbFksXG4gICAgICAgICAgICB0aGlzLmxhc3RYICsgeDIsIHRoaXMubGFzdFkgKyB5MixcbiAgICAgICAgICAgIHRoaXMubGFzdFggKyB4LCB0aGlzLmxhc3RZICsgeVxuICAgICAgICApKTtcblxuICAgICAgICB0aGlzLmxhc3RYICs9IHg7XG4gICAgICAgIHRoaXMubGFzdFkgKz0geTtcbiAgICAgICAgdGhpcy5sYXN0Q29tbWFuZCA9IFwic1wiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBjdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzIC0gVFxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICovXG4gICAgY3VydmV0b1F1YWRyYXRpY1Ntb290aEFicyh4LCB5KSB7XG4gICAgICAgIGxldCBjb250cm9sWCwgY29udHJvbFk7XG5cbiAgICAgICAgaWYgKHRoaXMubGFzdENvbW1hbmQubWF0Y2goL15bUXFUdF0kLykpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFRvTGFzdCA9IHRoaXMuc2hhcGVzW3RoaXMuc2hhcGVzLmxlbmd0aCAtIDFdLmFyZ3NbMV07XG5cbiAgICAgICAgICAgIGNvbnRyb2xYID0gMiAqIHRoaXMubGFzdFggLSBzZWNvbmRUb0xhc3QueDtcbiAgICAgICAgICAgIGNvbnRyb2xZID0gMiAqIHRoaXMubGFzdFkgLSBzZWNvbmRUb0xhc3QueTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRyb2xYID0gdGhpcy5sYXN0WDtcbiAgICAgICAgICAgIGNvbnRyb2xZID0gdGhpcy5sYXN0WTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkU2hhcGUodGhpcy5zaGFwZUNyZWF0b3IucXVhZHJhdGljQmV6aWVyKFxuICAgICAgICAgICAgdGhpcy5sYXN0WCwgdGhpcy5sYXN0WSxcbiAgICAgICAgICAgIGNvbnRyb2xYLCBjb250cm9sWSxcbiAgICAgICAgICAgIHgsIHlcbiAgICAgICAgKSk7XG5cbiAgICAgICAgdGhpcy5sYXN0WCA9IHg7XG4gICAgICAgIHRoaXMubGFzdFkgPSB5O1xuICAgICAgICB0aGlzLmxhc3RDb21tYW5kID0gXCJUXCI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGN1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwgLSB0XG4gICAgICpcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKi9cbiAgICBjdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsKHgsIHkpIHtcbiAgICAgICAgbGV0IGNvbnRyb2xYLCBjb250cm9sWTtcblxuICAgICAgICBpZiAodGhpcy5sYXN0Q29tbWFuZC5tYXRjaCgvXltRcVR0XSQvKSkge1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kVG9MYXN0ID0gdGhpcy5zaGFwZXNbdGhpcy5zaGFwZXMubGVuZ3RoIC0gMV0uYXJnc1sxXTtcblxuICAgICAgICAgICAgY29udHJvbFggPSAyICogdGhpcy5sYXN0WCAtIHNlY29uZFRvTGFzdC54O1xuICAgICAgICAgICAgY29udHJvbFkgPSAyICogdGhpcy5sYXN0WSAtIHNlY29uZFRvTGFzdC55O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udHJvbFggPSB0aGlzLmxhc3RYO1xuICAgICAgICAgICAgY29udHJvbFkgPSB0aGlzLmxhc3RZO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRTaGFwZSh0aGlzLnNoYXBlQ3JlYXRvci5xdWFkcmF0aWNCZXppZXIoXG4gICAgICAgICAgICB0aGlzLmxhc3RYLCB0aGlzLmxhc3RZLFxuICAgICAgICAgICAgY29udHJvbFgsIGNvbnRyb2xZLFxuICAgICAgICAgICAgdGhpcy5sYXN0WCArIHgsIHRoaXMubGFzdFkgKyB5XG4gICAgICAgICkpO1xuXG4gICAgICAgIHRoaXMubGFzdFggKz0geDtcbiAgICAgICAgdGhpcy5sYXN0WSArPSB5O1xuICAgICAgICB0aGlzLmxhc3RDb21tYW5kID0gXCJ0XCI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGxpbmV0b1ZlcnRpY2FsQWJzIC0gVlxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICovXG4gICAgbGluZXRvVmVydGljYWxBYnMoeSkge1xuICAgICAgICB0aGlzLmFkZFNoYXBlKHRoaXMuc2hhcGVDcmVhdG9yLmxpbmUoXG4gICAgICAgICAgICB0aGlzLmxhc3RYLCB0aGlzLmxhc3RZLFxuICAgICAgICAgICAgdGhpcy5sYXN0WCwgeVxuICAgICAgICApKTtcblxuICAgICAgICB0aGlzLmxhc3RZID0geTtcblxuICAgICAgICB0aGlzLmxhc3RDb21tYW5kID0gXCJWXCI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGxpbmV0b1ZlcnRpY2FsUmVsIC0gdlxuICAgICAqXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICovXG4gICAgbGluZXRvVmVydGljYWxSZWwoeSkge1xuICAgICAgICB0aGlzLmFkZFNoYXBlKHRoaXMuc2hhcGVDcmVhdG9yLmxpbmUoXG4gICAgICAgICAgICB0aGlzLmxhc3RYLCB0aGlzLmxhc3RZLFxuICAgICAgICAgICAgdGhpcy5sYXN0WCwgdGhpcy5sYXN0WSArIHlcbiAgICAgICAgKSk7XG5cbiAgICAgICAgdGhpcy5sYXN0WSArPSB5O1xuXG4gICAgICAgIHRoaXMubGFzdENvbW1hbmQgPSBcInZcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgY2xvc2VQYXRoIC0geiBvciBaXG4gICAgICovXG4gICAgY2xvc2VQYXRoKCkge1xuICAgICAgICB0aGlzLmFkZFNoYXBlKHRoaXMuc2hhcGVDcmVhdG9yLmxpbmUoXG4gICAgICAgICAgICB0aGlzLmxhc3RYLCB0aGlzLmxhc3RZLFxuICAgICAgICAgICAgdGhpcy5maXJzdFgsIHRoaXMuZmlyc3RZXG4gICAgICAgICkpO1xuXG4gICAgICAgIHRoaXMubGFzdFggPSB0aGlzLmZpcnN0WDtcbiAgICAgICAgdGhpcy5sYXN0WSA9IHRoaXMuZmlyc3RZO1xuICAgICAgICB0aGlzLmxhc3RDb21tYW5kID0gXCJ6XCI7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYXRoSGFuZGxlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/PathHandler.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/ShapeInfo.js":
/*!********************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/ShapeInfo.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ShapeInfo),\n/* harmony export */   getValues: () => (/* binding */ getValues),\n/* harmony export */   parseNumber: () => (/* binding */ parseNumber),\n/* harmony export */   parsePoint: () => (/* binding */ parsePoint)\n/* harmony export */ });\n/* harmony import */ var kld_affine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kld-affine */ \"(ssr)/../../node_modules/.pnpm/kld-affine@2.1.1/node_modules/kld-affine/index.js\");\n/* harmony import */ var kld_path_parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kld-path-parser */ \"(ssr)/../../node_modules/.pnpm/kld-path-parser@0.2.1/node_modules/kld-path-parser/index.js\");\n/* harmony import */ var _PathHandler_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PathHandler.js */ \"(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/PathHandler.js\");\n/**\n *  ShapeInfo.js\n *  @copyright 2002, 2017 Kevin Lindsey\n */\n\n\n\n\n\nconst degree90 = Math.PI * 0.5;\nconst parser = new kld_path_parser__WEBPACK_IMPORTED_MODULE_1__.PathParser();\n\n\n/**\n * getValues\n *\n * @param {Array} types\n * @param {Array} args\n * @returns {Array}\n */\nfunction getValues(types, args) {\n    const result = [];\n\n    for (const [names, type] of types) {\n        let value = null;\n\n        if (type === \"Point2D\") {\n            value = parsePoint(names, args);\n        }\n        else if (type === \"Number\") {\n            value = parseNumber(names, args);\n        }\n        else if (type === \"Array<Point2D>\" || type === \"Point2D[]\") {\n            const values = [];\n\n            while (args.length > 0) {\n                values.push(parsePoint(names, args));\n            }\n\n            if (values.length > 0) {\n                value = values;\n            }\n        }\n        else if (type === \"Optional<Number>\" || type === \"Number?\") {\n            value = parseNumber(names, args);\n\n            if (value === null) {\n                value = undefined;\n            }\n        }\n        else {\n            throw new TypeError(`Unrecognized value type: ${type}`);\n        }\n\n        if (value !== null) {\n            result.push(value);\n        }\n        else {\n            throw new TypeError(`Unable to extract value for ${names}`);\n        }\n    }\n\n    return result;\n}\n\n/**\n * parseNumber\n *\n * @param {Array} names\n * @param {Array} args\n * @returns {number}\n */\nfunction parseNumber(names, args) {\n    let result = null;\n\n    if (args.length > 0) {\n        const item = args[0];\n        const itemType = typeof item;\n\n        if (itemType === \"number\") {\n            return args.shift();\n        }\n        else if (itemType === \"object\") {\n            for (const prop of names) {\n                if (prop in item && typeof item[prop] === \"number\") {\n                    result = item[prop];\n                    break;\n                }\n            }\n        }\n    }\n\n    return result;\n}\n\n/**\n * parsePoint\n *\n * @param {Array} names\n * @param {Array} args\n * @returns {Array}\n */\nfunction parsePoint(names, args) {\n    let result = null;\n\n    if (args.length > 0) {\n        const item = args[0];\n        const itemType = typeof item;\n\n        if (itemType === \"number\") {\n            if (args.length > 1) {\n                const x = args.shift();\n                const y = args.shift();\n\n                result = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(x, y);\n            }\n        }\n        else if (Array.isArray(item) && item.length > 1) {\n            if (item.length === 2) {\n                const [x, y] = args.shift();\n\n                result = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(x, y);\n            }\n            else {\n                throw new TypeError(`Unhandled array of length ${item.length}`);\n            }\n        }\n        else if (itemType === \"object\") {\n            if (\"x\" in item && \"y\" in item) {\n                result = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(item.x, item.y);\n                args.shift();\n            }\n            else {\n                for (const props of names) {\n                    if (Array.isArray(props)) {\n                        if (props.every(p => p in item)) {\n                            result = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(item[props[0]], item[props[1]]);\n                            break;\n                        }\n                    }\n                    else if (props in item) {\n                        result = parsePoint([], [item[props]]);\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n    return result;\n}\n\n/**\n *  ShapeInfo\n *  @memberof module:kld-intersections\n */\nclass ShapeInfo {\n    /**\n     *  @param {string} name\n     *  @param {Array} args\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    constructor(name, args) {\n        this.name = name;\n        this.args = args;\n    }\n\n    static arc(...args) {\n        const types = [\n            [[\"center\", [\"centerX\", \"centerY\"], [\"cx\", \"cy\"]], \"Point2D\"],\n            [[\"radiusX\", \"rx\"], \"Number\"],\n            [[\"radiusY\", \"ry\"], \"Number\"],\n            [[\"startRadians\"], \"Number\"],\n            [[\"endRadians\"], \"Number\"]\n        ];\n        const values = getValues(types, args);\n\n        return new ShapeInfo(ShapeInfo.ARC, values);\n    }\n\n    static quadraticBezier(...args) {\n        const types = [\n            [[\"p1\", [\"p1x\", \"p1y\"]], \"Point2D\"],\n            [[\"p2\", [\"p2x\", \"p2y\"]], \"Point2D\"],\n            [[\"p3\", [\"p3x\", \"p3y\"]], \"Point2D\"]\n        ];\n        const values = getValues(types, args);\n\n        return new ShapeInfo(ShapeInfo.QUADRATIC_BEZIER, values);\n    }\n\n    static cubicBezier(...args) {\n        const types = [\n            [[\"p1\", [\"p1x\", \"p1y\"]], \"Point2D\"],\n            [[\"p2\", [\"p2x\", \"p2y\"]], \"Point2D\"],\n            [[\"p3\", [\"p3x\", \"p3y\"]], \"Point2D\"],\n            [[\"p4\", [\"p4x\", \"p4y\"]], \"Point2D\"]\n        ];\n        const values = getValues(types, args);\n\n        return new ShapeInfo(ShapeInfo.CUBIC_BEZIER, values);\n    }\n\n    static circle(...args) {\n        const types = [\n            [[\"center\", [\"centerX\", \"centerY\"], [\"cx\", \"cy\"]], \"Point2D\"],\n            [[\"radius\", \"r\"], \"Number\"]\n        ];\n        const values = getValues(types, args);\n\n        return new ShapeInfo(ShapeInfo.CIRCLE, values);\n    }\n\n    static ellipse(...args) {\n        const types = [\n            [[\"center\", [\"centerX\", \"centerY\"], [\"cx\", \"cy\"]], \"Point2D\"],\n            [[\"radiusX\", \"rx\"], \"Number\"],\n            [[\"radiusY\", \"ry\"], \"Number\"]\n        ];\n        const values = getValues(types, args);\n\n        return new ShapeInfo(ShapeInfo.ELLIPSE, values);\n    }\n\n    static line(...args) {\n        const types = [\n            [[\"p1\", [\"p1x\", \"p1y\"], [\"x1\", \"y1\"]], \"Point2D\"],\n            [[\"p2\", [\"p2x\", \"p2y\"], [\"x2\", \"y2\"]], \"Point2D\"]\n        ];\n        const values = getValues(types, args);\n\n        return new ShapeInfo(ShapeInfo.LINE, values);\n    }\n\n    static path(...args) {\n        parser.parseData(args[0]);\n\n        return new ShapeInfo(ShapeInfo.PATH, handler.shapes);\n    }\n\n    static polygon(...args) {\n        const types = [\n            [[], \"Array<Point2D>\"]\n        ];\n        const values = getValues(\n            types,\n            args.length === 1 && Array.isArray(args[0]) ? args[0] : args\n        );\n\n        return new ShapeInfo(ShapeInfo.POLYGON, values);\n    }\n\n    static polyline(...args) {\n        const types = [\n            [[], \"Array<Point2D>\"]\n        ];\n        const values = getValues(\n            types,\n            args.length === 1 && Array.isArray(args[0]) ? args[0] : args\n        );\n\n        return new ShapeInfo(ShapeInfo.POLYLINE, values);\n    }\n\n    static rectangle(...args) {\n        const types = [\n            [[\"topLeft\", [\"x\", \"y\"], [\"left\", \"top\"]], \"Point2D\"],\n            [[\"size\", [\"width\", \"height\"], [\"w\", \"h\"]], \"Point2D\"],\n            [[\"radiusX\", \"rx\"], \"Optional<Number>\"],\n            [[\"radiusY\", \"ry\"], \"Optional<Number>\"]\n        ];\n        const values = getValues(types, args);\n\n        // fix up bottom-right point\n        const p1 = values[0];\n        const p2 = values[1];\n        values[1] = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(p1.x + p2.x, p1.y + p2.y);\n\n        // create shape info\n        const result = new ShapeInfo(ShapeInfo.RECTANGLE, values);\n\n        // handle possible rounded rectangle values\n        let ry = result.args.pop();\n        let rx = result.args.pop();\n\n        rx = rx === undefined ? 0 : rx;\n        ry = ry === undefined ? 0 : ry;\n\n        if (rx === 0 && ry === 0) {\n            return result;\n        }\n\n        const {x: p1x, y: p1y} = result.args[0];\n        const {x: p2x, y: p2y} = result.args[1];\n        const width = p2x - p1x;\n        const height = p2y - p1y;\n\n        if (rx === 0) {\n            rx = ry;\n        }\n        if (ry === 0) {\n            ry = rx;\n        }\n        if (rx > width * 0.5) {\n            rx = width * 0.5;\n        }\n        if (ry > height * 0.5) {\n            ry = height * 0.5;\n        }\n\n        const x0 = p1x;\n        const y0 = p1y;\n        const x1 = p1x + rx;\n        const y1 = p1y + ry;\n        const x2 = p2x - rx;\n        const y2 = p2y - ry;\n        const x3 = p2x;\n        const y3 = p2y;\n\n        const segments = [\n            ShapeInfo.arc(x1, y1, rx, ry, 2 * degree90, 3 * degree90),\n            ShapeInfo.line(x1, y0, x2, y0),\n            ShapeInfo.arc(x2, y1, rx, ry, 3 * degree90, 4 * degree90),\n            ShapeInfo.line(x3, y1, x3, y2),\n            ShapeInfo.arc(x2, y2, rx, ry, 0, degree90),\n            ShapeInfo.line(x2, y3, x1, y3),\n            ShapeInfo.arc(x1, y2, rx, ry, degree90, 2 * degree90),\n            ShapeInfo.line(x0, y2, x0, y1)\n        ];\n\n        return new ShapeInfo(ShapeInfo.PATH, segments);\n    }\n}\n\n// define shape name constants\nShapeInfo.ARC = \"Arc\";\nShapeInfo.QUADRATIC_BEZIER = \"Bezier2\";\nShapeInfo.CUBIC_BEZIER = \"Bezier3\";\nShapeInfo.CIRCLE = \"Circle\";\nShapeInfo.ELLIPSE = \"Ellipse\";\nShapeInfo.LINE = \"Line\";\nShapeInfo.PATH = \"Path\";\nShapeInfo.POLYGON = \"Polygon\";\nShapeInfo.POLYLINE = \"Polyline\";\nShapeInfo.RECTANGLE = \"Rectangle\";\n\n// setup path parser handler after ShapeInfo has been defined\nconst handler = new _PathHandler_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](ShapeInfo);\n\nparser.setHandler(handler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2tsZC1pbnRlcnNlY3Rpb25zQDAuNy4wL25vZGVfbW9kdWxlcy9rbGQtaW50ZXJzZWN0aW9ucy9saWIvU2hhcGVJbmZvLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFbUM7QUFDUTtBQUNBOztBQUUzQztBQUNBLG1CQUFtQix1REFBVTs7O0FBRzdCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ087QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELEtBQUs7QUFDakU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsTUFBTTtBQUNyRTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZCQUE2QiwrQ0FBTztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZCQUE2QiwrQ0FBTztBQUNwQztBQUNBO0FBQ0EsaUVBQWlFLFlBQVk7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0NBQU87QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLCtDQUFPO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNlO0FBQ2Y7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsT0FBTztBQUN2QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtDQUFPOztBQUUvQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLGdCQUFnQjtBQUMvQixlQUFlLGdCQUFnQjtBQUMvQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLHVEQUFXOztBQUUvQiIsInNvdXJjZXMiOlsid2VicGFjazovL0ByZXBvZ3JhcGgvd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9rbGQtaW50ZXJzZWN0aW9uc0AwLjcuMC9ub2RlX21vZHVsZXMva2xkLWludGVyc2VjdGlvbnMvbGliL1NoYXBlSW5mby5qcz9hMDMyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogIFNoYXBlSW5mby5qc1xuICogIEBjb3B5cmlnaHQgMjAwMiwgMjAxNyBLZXZpbiBMaW5kc2V5XG4gKi9cblxuaW1wb3J0IHtQb2ludDJEfSBmcm9tIFwia2xkLWFmZmluZVwiO1xuaW1wb3J0IHtQYXRoUGFyc2VyfSBmcm9tIFwia2xkLXBhdGgtcGFyc2VyXCI7XG5pbXBvcnQgUGF0aEhhbmRsZXIgZnJvbSBcIi4vUGF0aEhhbmRsZXIuanNcIjtcblxuY29uc3QgZGVncmVlOTAgPSBNYXRoLlBJICogMC41O1xuY29uc3QgcGFyc2VyID0gbmV3IFBhdGhQYXJzZXIoKTtcblxuXG4vKipcbiAqIGdldFZhbHVlc1xuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHR5cGVzXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZXModHlwZXMsIGFyZ3MpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGZvciAoY29uc3QgW25hbWVzLCB0eXBlXSBvZiB0eXBlcykge1xuICAgICAgICBsZXQgdmFsdWUgPSBudWxsO1xuXG4gICAgICAgIGlmICh0eXBlID09PSBcIlBvaW50MkRcIikge1xuICAgICAgICAgICAgdmFsdWUgPSBwYXJzZVBvaW50KG5hbWVzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSBcIk51bWJlclwiKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlTnVtYmVyKG5hbWVzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSBcIkFycmF5PFBvaW50MkQ+XCIgfHwgdHlwZSA9PT0gXCJQb2ludDJEW11cIikge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG5cbiAgICAgICAgICAgIHdoaWxlIChhcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChwYXJzZVBvaW50KG5hbWVzLCBhcmdzKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiT3B0aW9uYWw8TnVtYmVyPlwiIHx8IHR5cGUgPT09IFwiTnVtYmVyP1wiKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlTnVtYmVyKG5hbWVzLCBhcmdzKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgdHlwZTogJHt0eXBlfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbmFibGUgdG8gZXh0cmFjdCB2YWx1ZSBmb3IgJHtuYW1lc31gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogcGFyc2VOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBuYW1lc1xuICogQHBhcmFtIHtBcnJheX0gYXJnc1xuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTnVtYmVyKG5hbWVzLCBhcmdzKSB7XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBhcmdzWzBdO1xuICAgICAgICBjb25zdCBpdGVtVHlwZSA9IHR5cGVvZiBpdGVtO1xuXG4gICAgICAgIGlmIChpdGVtVHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3Muc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpdGVtVHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIG5hbWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3AgaW4gaXRlbSAmJiB0eXBlb2YgaXRlbVtwcm9wXSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpdGVtW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIHBhcnNlUG9pbnRcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBuYW1lc1xuICogQHBhcmFtIHtBcnJheX0gYXJnc1xuICogQHJldHVybnMge0FycmF5fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VQb2ludChuYW1lcywgYXJncykge1xuICAgIGxldCByZXN1bHQgPSBudWxsO1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBpdGVtID0gYXJnc1swXTtcbiAgICAgICAgY29uc3QgaXRlbVR5cGUgPSB0eXBlb2YgaXRlbTtcblxuICAgICAgICBpZiAoaXRlbVR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gYXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBhcmdzLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgUG9pbnQyRCh4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pICYmIGl0ZW0ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0ubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3gsIHldID0gYXJncy5zaGlmdCgpO1xuXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IFBvaW50MkQoeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbmhhbmRsZWQgYXJyYXkgb2YgbGVuZ3RoICR7aXRlbS5sZW5ndGh9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXRlbVR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGlmIChcInhcIiBpbiBpdGVtICYmIFwieVwiIGluIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgUG9pbnQyRChpdGVtLngsIGl0ZW0ueSk7XG4gICAgICAgICAgICAgICAgYXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wcyBvZiBuYW1lcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wcy5ldmVyeShwID0+IHAgaW4gaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgUG9pbnQyRChpdGVtW3Byb3BzWzBdXSwgaXRlbVtwcm9wc1sxXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3BzIGluIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHBhcnNlUG9pbnQoW10sIFtpdGVtW3Byb3BzXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqICBTaGFwZUluZm9cbiAqICBAbWVtYmVyb2YgbW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYXBlSW5mbyB7XG4gICAgLyoqXG4gICAgICogIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogIEBwYXJhbSB7QXJyYXl9IGFyZ3NcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99XG4gICAgICovXG4gICAgY29uc3RydWN0b3IobmFtZSwgYXJncykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgIH1cblxuICAgIHN0YXRpYyBhcmMoLi4uYXJncykge1xuICAgICAgICBjb25zdCB0eXBlcyA9IFtcbiAgICAgICAgICAgIFtbXCJjZW50ZXJcIiwgW1wiY2VudGVyWFwiLCBcImNlbnRlcllcIl0sIFtcImN4XCIsIFwiY3lcIl1dLCBcIlBvaW50MkRcIl0sXG4gICAgICAgICAgICBbW1wicmFkaXVzWFwiLCBcInJ4XCJdLCBcIk51bWJlclwiXSxcbiAgICAgICAgICAgIFtbXCJyYWRpdXNZXCIsIFwicnlcIl0sIFwiTnVtYmVyXCJdLFxuICAgICAgICAgICAgW1tcInN0YXJ0UmFkaWFuc1wiXSwgXCJOdW1iZXJcIl0sXG4gICAgICAgICAgICBbW1wiZW5kUmFkaWFuc1wiXSwgXCJOdW1iZXJcIl1cbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gZ2V0VmFsdWVzKHR5cGVzLCBhcmdzKTtcblxuICAgICAgICByZXR1cm4gbmV3IFNoYXBlSW5mbyhTaGFwZUluZm8uQVJDLCB2YWx1ZXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBxdWFkcmF0aWNCZXppZXIoLi4uYXJncykge1xuICAgICAgICBjb25zdCB0eXBlcyA9IFtcbiAgICAgICAgICAgIFtbXCJwMVwiLCBbXCJwMXhcIiwgXCJwMXlcIl1dLCBcIlBvaW50MkRcIl0sXG4gICAgICAgICAgICBbW1wicDJcIiwgW1wicDJ4XCIsIFwicDJ5XCJdXSwgXCJQb2ludDJEXCJdLFxuICAgICAgICAgICAgW1tcInAzXCIsIFtcInAzeFwiLCBcInAzeVwiXV0sIFwiUG9pbnQyRFwiXVxuICAgICAgICBdO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBnZXRWYWx1ZXModHlwZXMsIGFyZ3MpO1xuXG4gICAgICAgIHJldHVybiBuZXcgU2hhcGVJbmZvKFNoYXBlSW5mby5RVUFEUkFUSUNfQkVaSUVSLCB2YWx1ZXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjdWJpY0JlemllciguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IHR5cGVzID0gW1xuICAgICAgICAgICAgW1tcInAxXCIsIFtcInAxeFwiLCBcInAxeVwiXV0sIFwiUG9pbnQyRFwiXSxcbiAgICAgICAgICAgIFtbXCJwMlwiLCBbXCJwMnhcIiwgXCJwMnlcIl1dLCBcIlBvaW50MkRcIl0sXG4gICAgICAgICAgICBbW1wicDNcIiwgW1wicDN4XCIsIFwicDN5XCJdXSwgXCJQb2ludDJEXCJdLFxuICAgICAgICAgICAgW1tcInA0XCIsIFtcInA0eFwiLCBcInA0eVwiXV0sIFwiUG9pbnQyRFwiXVxuICAgICAgICBdO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBnZXRWYWx1ZXModHlwZXMsIGFyZ3MpO1xuXG4gICAgICAgIHJldHVybiBuZXcgU2hhcGVJbmZvKFNoYXBlSW5mby5DVUJJQ19CRVpJRVIsIHZhbHVlcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNpcmNsZSguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IHR5cGVzID0gW1xuICAgICAgICAgICAgW1tcImNlbnRlclwiLCBbXCJjZW50ZXJYXCIsIFwiY2VudGVyWVwiXSwgW1wiY3hcIiwgXCJjeVwiXV0sIFwiUG9pbnQyRFwiXSxcbiAgICAgICAgICAgIFtbXCJyYWRpdXNcIiwgXCJyXCJdLCBcIk51bWJlclwiXVxuICAgICAgICBdO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBnZXRWYWx1ZXModHlwZXMsIGFyZ3MpO1xuXG4gICAgICAgIHJldHVybiBuZXcgU2hhcGVJbmZvKFNoYXBlSW5mby5DSVJDTEUsIHZhbHVlcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGVsbGlwc2UoLi4uYXJncykge1xuICAgICAgICBjb25zdCB0eXBlcyA9IFtcbiAgICAgICAgICAgIFtbXCJjZW50ZXJcIiwgW1wiY2VudGVyWFwiLCBcImNlbnRlcllcIl0sIFtcImN4XCIsIFwiY3lcIl1dLCBcIlBvaW50MkRcIl0sXG4gICAgICAgICAgICBbW1wicmFkaXVzWFwiLCBcInJ4XCJdLCBcIk51bWJlclwiXSxcbiAgICAgICAgICAgIFtbXCJyYWRpdXNZXCIsIFwicnlcIl0sIFwiTnVtYmVyXCJdXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGdldFZhbHVlcyh0eXBlcywgYXJncyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTaGFwZUluZm8oU2hhcGVJbmZvLkVMTElQU0UsIHZhbHVlcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGxpbmUoLi4uYXJncykge1xuICAgICAgICBjb25zdCB0eXBlcyA9IFtcbiAgICAgICAgICAgIFtbXCJwMVwiLCBbXCJwMXhcIiwgXCJwMXlcIl0sIFtcIngxXCIsIFwieTFcIl1dLCBcIlBvaW50MkRcIl0sXG4gICAgICAgICAgICBbW1wicDJcIiwgW1wicDJ4XCIsIFwicDJ5XCJdLCBbXCJ4MlwiLCBcInkyXCJdXSwgXCJQb2ludDJEXCJdXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGdldFZhbHVlcyh0eXBlcywgYXJncyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTaGFwZUluZm8oU2hhcGVJbmZvLkxJTkUsIHZhbHVlcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIHBhdGgoLi4uYXJncykge1xuICAgICAgICBwYXJzZXIucGFyc2VEYXRhKGFyZ3NbMF0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgU2hhcGVJbmZvKFNoYXBlSW5mby5QQVRILCBoYW5kbGVyLnNoYXBlcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIHBvbHlnb24oLi4uYXJncykge1xuICAgICAgICBjb25zdCB0eXBlcyA9IFtcbiAgICAgICAgICAgIFtbXSwgXCJBcnJheTxQb2ludDJEPlwiXVxuICAgICAgICBdO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBnZXRWYWx1ZXMoXG4gICAgICAgICAgICB0eXBlcyxcbiAgICAgICAgICAgIGFyZ3MubGVuZ3RoID09PSAxICYmIEFycmF5LmlzQXJyYXkoYXJnc1swXSkgPyBhcmdzWzBdIDogYXJnc1xuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBuZXcgU2hhcGVJbmZvKFNoYXBlSW5mby5QT0xZR09OLCB2YWx1ZXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwb2x5bGluZSguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IHR5cGVzID0gW1xuICAgICAgICAgICAgW1tdLCBcIkFycmF5PFBvaW50MkQ+XCJdXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGdldFZhbHVlcyhcbiAgICAgICAgICAgIHR5cGVzLFxuICAgICAgICAgICAgYXJncy5sZW5ndGggPT09IDEgJiYgQXJyYXkuaXNBcnJheShhcmdzWzBdKSA/IGFyZ3NbMF0gOiBhcmdzXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTaGFwZUluZm8oU2hhcGVJbmZvLlBPTFlMSU5FLCB2YWx1ZXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyByZWN0YW5nbGUoLi4uYXJncykge1xuICAgICAgICBjb25zdCB0eXBlcyA9IFtcbiAgICAgICAgICAgIFtbXCJ0b3BMZWZ0XCIsIFtcInhcIiwgXCJ5XCJdLCBbXCJsZWZ0XCIsIFwidG9wXCJdXSwgXCJQb2ludDJEXCJdLFxuICAgICAgICAgICAgW1tcInNpemVcIiwgW1wid2lkdGhcIiwgXCJoZWlnaHRcIl0sIFtcIndcIiwgXCJoXCJdXSwgXCJQb2ludDJEXCJdLFxuICAgICAgICAgICAgW1tcInJhZGl1c1hcIiwgXCJyeFwiXSwgXCJPcHRpb25hbDxOdW1iZXI+XCJdLFxuICAgICAgICAgICAgW1tcInJhZGl1c1lcIiwgXCJyeVwiXSwgXCJPcHRpb25hbDxOdW1iZXI+XCJdXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGdldFZhbHVlcyh0eXBlcywgYXJncyk7XG5cbiAgICAgICAgLy8gZml4IHVwIGJvdHRvbS1yaWdodCBwb2ludFxuICAgICAgICBjb25zdCBwMSA9IHZhbHVlc1swXTtcbiAgICAgICAgY29uc3QgcDIgPSB2YWx1ZXNbMV07XG4gICAgICAgIHZhbHVlc1sxXSA9IG5ldyBQb2ludDJEKHAxLnggKyBwMi54LCBwMS55ICsgcDIueSk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHNoYXBlIGluZm9cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFNoYXBlSW5mbyhTaGFwZUluZm8uUkVDVEFOR0xFLCB2YWx1ZXMpO1xuXG4gICAgICAgIC8vIGhhbmRsZSBwb3NzaWJsZSByb3VuZGVkIHJlY3RhbmdsZSB2YWx1ZXNcbiAgICAgICAgbGV0IHJ5ID0gcmVzdWx0LmFyZ3MucG9wKCk7XG4gICAgICAgIGxldCByeCA9IHJlc3VsdC5hcmdzLnBvcCgpO1xuXG4gICAgICAgIHJ4ID0gcnggPT09IHVuZGVmaW5lZCA/IDAgOiByeDtcbiAgICAgICAgcnkgPSByeSA9PT0gdW5kZWZpbmVkID8gMCA6IHJ5O1xuXG4gICAgICAgIGlmIChyeCA9PT0gMCAmJiByeSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHt4OiBwMXgsIHk6IHAxeX0gPSByZXN1bHQuYXJnc1swXTtcbiAgICAgICAgY29uc3Qge3g6IHAyeCwgeTogcDJ5fSA9IHJlc3VsdC5hcmdzWzFdO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHAyeCAtIHAxeDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gcDJ5IC0gcDF5O1xuXG4gICAgICAgIGlmIChyeCA9PT0gMCkge1xuICAgICAgICAgICAgcnggPSByeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocnkgPT09IDApIHtcbiAgICAgICAgICAgIHJ5ID0gcng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ4ID4gd2lkdGggKiAwLjUpIHtcbiAgICAgICAgICAgIHJ4ID0gd2lkdGggKiAwLjU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ5ID4gaGVpZ2h0ICogMC41KSB7XG4gICAgICAgICAgICByeSA9IGhlaWdodCAqIDAuNTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHgwID0gcDF4O1xuICAgICAgICBjb25zdCB5MCA9IHAxeTtcbiAgICAgICAgY29uc3QgeDEgPSBwMXggKyByeDtcbiAgICAgICAgY29uc3QgeTEgPSBwMXkgKyByeTtcbiAgICAgICAgY29uc3QgeDIgPSBwMnggLSByeDtcbiAgICAgICAgY29uc3QgeTIgPSBwMnkgLSByeTtcbiAgICAgICAgY29uc3QgeDMgPSBwMng7XG4gICAgICAgIGNvbnN0IHkzID0gcDJ5O1xuXG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gW1xuICAgICAgICAgICAgU2hhcGVJbmZvLmFyYyh4MSwgeTEsIHJ4LCByeSwgMiAqIGRlZ3JlZTkwLCAzICogZGVncmVlOTApLFxuICAgICAgICAgICAgU2hhcGVJbmZvLmxpbmUoeDEsIHkwLCB4MiwgeTApLFxuICAgICAgICAgICAgU2hhcGVJbmZvLmFyYyh4MiwgeTEsIHJ4LCByeSwgMyAqIGRlZ3JlZTkwLCA0ICogZGVncmVlOTApLFxuICAgICAgICAgICAgU2hhcGVJbmZvLmxpbmUoeDMsIHkxLCB4MywgeTIpLFxuICAgICAgICAgICAgU2hhcGVJbmZvLmFyYyh4MiwgeTIsIHJ4LCByeSwgMCwgZGVncmVlOTApLFxuICAgICAgICAgICAgU2hhcGVJbmZvLmxpbmUoeDIsIHkzLCB4MSwgeTMpLFxuICAgICAgICAgICAgU2hhcGVJbmZvLmFyYyh4MSwgeTIsIHJ4LCByeSwgZGVncmVlOTAsIDIgKiBkZWdyZWU5MCksXG4gICAgICAgICAgICBTaGFwZUluZm8ubGluZSh4MCwgeTIsIHgwLCB5MSlcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gbmV3IFNoYXBlSW5mbyhTaGFwZUluZm8uUEFUSCwgc2VnbWVudHMpO1xuICAgIH1cbn1cblxuLy8gZGVmaW5lIHNoYXBlIG5hbWUgY29uc3RhbnRzXG5TaGFwZUluZm8uQVJDID0gXCJBcmNcIjtcblNoYXBlSW5mby5RVUFEUkFUSUNfQkVaSUVSID0gXCJCZXppZXIyXCI7XG5TaGFwZUluZm8uQ1VCSUNfQkVaSUVSID0gXCJCZXppZXIzXCI7XG5TaGFwZUluZm8uQ0lSQ0xFID0gXCJDaXJjbGVcIjtcblNoYXBlSW5mby5FTExJUFNFID0gXCJFbGxpcHNlXCI7XG5TaGFwZUluZm8uTElORSA9IFwiTGluZVwiO1xuU2hhcGVJbmZvLlBBVEggPSBcIlBhdGhcIjtcblNoYXBlSW5mby5QT0xZR09OID0gXCJQb2x5Z29uXCI7XG5TaGFwZUluZm8uUE9MWUxJTkUgPSBcIlBvbHlsaW5lXCI7XG5TaGFwZUluZm8uUkVDVEFOR0xFID0gXCJSZWN0YW5nbGVcIjtcblxuLy8gc2V0dXAgcGF0aCBwYXJzZXIgaGFuZGxlciBhZnRlciBTaGFwZUluZm8gaGFzIGJlZW4gZGVmaW5lZFxuY29uc3QgaGFuZGxlciA9IG5ldyBQYXRoSGFuZGxlcihTaGFwZUluZm8pO1xuXG5wYXJzZXIuc2V0SGFuZGxlcihoYW5kbGVyKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/ShapeInfo.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/Shapes.js":
/*!*****************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/Shapes.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ShapeInfo.js */ \"(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/ShapeInfo.js\");\n/* eslint-disable prefer-rest-params */\n/**\n *  Shapes\n *\n *   @copyright 2017, Kevin Lindsey\n *   @module Shapes\n *   @deprecated use ShapeInfo\n */\n\n\n\n/**\n * Build shapes for intersection\n */\nclass Shapes {\n    /**\n     *  arc\n     *\n     *  @deprecated use ShapeInfo.arc\n     *  @param {number} centerX\n     *  @param {number} centerY\n     *  @param {number} radiusX\n     *  @param {number} radiusY\n     *  @param {number} startRadians\n     *  @param {number} endRadians\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static arc(centerX, centerY, radiusX, radiusY, startRadians, endRadians) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].arc(...arguments);\n    }\n\n    /**\n     *  quadraticBezier\n     *\n     *  @deprecated use ShapeInfo.quadraticBezier\n     *  @param {number} p1x\n     *  @param {number} p1y\n     *  @param {number} p2x\n     *  @param {number} p2y\n     *  @param {number} p3x\n     *  @param {number} p3y\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static quadraticBezier(p1x, p1y, p2x, p2y, p3x, p3y) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].quadraticBezier(...arguments);\n    }\n\n    /**\n     *  cubicBezier\n     *\n     *  @deprecated use ShapeInfo.cubicBezier\n     *  @param {number} p1x\n     *  @param {number} p1y\n     *  @param {number} p2x\n     *  @param {number} p2y\n     *  @param {number} p3x\n     *  @param {number} p3y\n     *  @param {number} p4x\n     *  @param {number} p4y\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static cubicBezier(p1x, p1y, p2x, p2y, p3x, p3y, p4x, p4y) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].cubicBezier(...arguments);\n    }\n\n    /**\n     *  circle\n     *\n     *  @deprecated use ShapeInfo.circle\n     *  @param {number} centerX\n     *  @param {number} centerY\n     *  @param {number} radius\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static circle(centerX, centerY, radius) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].circle(...arguments);\n    }\n\n    /**\n     *  ellipse\n     *\n     *  @deprecated use ShapeInfo.ellipse\n     *  @param {number} centerX\n     *  @param {number} centerY\n     *  @param {number} radiusX\n     *  @param {number} radiusY\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static ellipse(centerX, centerY, radiusX, radiusY) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ellipse(...arguments);\n    }\n\n    /**\n     *  line\n     *\n     *  @deprecated use ShapeInfo.line\n     *  @param {number} p1x\n     *  @param {number} p1y\n     *  @param {number} p2x\n     *  @param {number} p2y\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static line(p1x, p1y, p2x, p2y) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].line(...arguments);\n    }\n\n    /**\n     *  path\n     *\n     *  @deprecated use ShapeInfo.path\n     *  @param {string} pathData\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static path(pathData) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].path(...arguments);\n    }\n\n    /**\n     *  polygon\n     *\n     *  @deprecated use ShapeInfo.polygon\n     *  @param {Array<number>} coords\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static polygon(coords) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].polygon(...arguments);\n    }\n\n    /**\n     *  polyline\n     *\n     *  @deprecated use ShapeInfo.polyline\n     *  @param {Array<number>} coords\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static polyline(coords) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].polyline(...arguments);\n    }\n\n    /**\n     *  rectangle\n     *\n     *  @deprecated use ShapeInfo.rectangle\n     *  @param {number} x\n     *  @param {number} y\n     *  @param {number} width\n     *  @param {number} height\n     *  @param {number} [rx]\n     *  @param {number} [ry]\n     *  @returns {module:kld-intersections.ShapeInfo}\n     */\n    static rectangle(x, y, width, height, rx = 0, ry = 0) {\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].rectangle(...arguments);\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Shapes);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2tsZC1pbnRlcnNlY3Rpb25zQDAuNy4wL25vZGVfbW9kdWxlcy9rbGQtaW50ZXJzZWN0aW9ucy9saWIvU2hhcGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFdUM7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZUFBZTtBQUMvQixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZUFBZTtBQUMvQixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsUUFBUTtBQUN4QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWUscURBQVM7QUFDeEI7QUFDQTs7QUFFQSxpRUFBZSxNQUFNLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcmVwb2dyYXBoL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0va2xkLWludGVyc2VjdGlvbnNAMC43LjAvbm9kZV9tb2R1bGVzL2tsZC1pbnRlcnNlY3Rpb25zL2xpYi9TaGFwZXMuanM/MzkzNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbi8qKlxuICogIFNoYXBlc1xuICpcbiAqICAgQGNvcHlyaWdodCAyMDE3LCBLZXZpbiBMaW5kc2V5XG4gKiAgIEBtb2R1bGUgU2hhcGVzXG4gKiAgIEBkZXByZWNhdGVkIHVzZSBTaGFwZUluZm9cbiAqL1xuXG5pbXBvcnQgU2hhcGVJbmZvIGZyb20gXCIuL1NoYXBlSW5mby5qc1wiO1xuXG4vKipcbiAqIEJ1aWxkIHNoYXBlcyBmb3IgaW50ZXJzZWN0aW9uXG4gKi9cbmNsYXNzIFNoYXBlcyB7XG4gICAgLyoqXG4gICAgICogIGFyY1xuICAgICAqXG4gICAgICogIEBkZXByZWNhdGVkIHVzZSBTaGFwZUluZm8uYXJjXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSBjZW50ZXJYXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSBjZW50ZXJZXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNYXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNZXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSBzdGFydFJhZGlhbnNcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IGVuZFJhZGlhbnNcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99XG4gICAgICovXG4gICAgc3RhdGljIGFyYyhjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXNYLCByYWRpdXNZLCBzdGFydFJhZGlhbnMsIGVuZFJhZGlhbnMpIHtcbiAgICAgICAgcmV0dXJuIFNoYXBlSW5mby5hcmMoLi4uYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgcXVhZHJhdGljQmV6aWVyXG4gICAgICpcbiAgICAgKiAgQGRlcHJlY2F0ZWQgdXNlIFNoYXBlSW5mby5xdWFkcmF0aWNCZXppZXJcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHAxeFxuICAgICAqICBAcGFyYW0ge251bWJlcn0gcDF5XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSBwMnhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHAyeVxuICAgICAqICBAcGFyYW0ge251bWJlcn0gcDN4XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSBwM3lcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99XG4gICAgICovXG4gICAgc3RhdGljIHF1YWRyYXRpY0JlemllcihwMXgsIHAxeSwgcDJ4LCBwMnksIHAzeCwgcDN5KSB7XG4gICAgICAgIHJldHVybiBTaGFwZUluZm8ucXVhZHJhdGljQmV6aWVyKC4uLmFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGN1YmljQmV6aWVyXG4gICAgICpcbiAgICAgKiAgQGRlcHJlY2F0ZWQgdXNlIFNoYXBlSW5mby5jdWJpY0JlemllclxuICAgICAqICBAcGFyYW0ge251bWJlcn0gcDF4XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSBwMXlcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHAyeFxuICAgICAqICBAcGFyYW0ge251bWJlcn0gcDJ5XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSBwM3hcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHAzeVxuICAgICAqICBAcGFyYW0ge251bWJlcn0gcDR4XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSBwNHlcbiAgICAgKiAgQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99XG4gICAgICovXG4gICAgc3RhdGljIGN1YmljQmV6aWVyKHAxeCwgcDF5LCBwMngsIHAyeSwgcDN4LCBwM3ksIHA0eCwgcDR5KSB7XG4gICAgICAgIHJldHVybiBTaGFwZUluZm8uY3ViaWNCZXppZXIoLi4uYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgY2lyY2xlXG4gICAgICpcbiAgICAgKiAgQGRlcHJlY2F0ZWQgdXNlIFNoYXBlSW5mby5jaXJjbGVcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IGNlbnRlclhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IGNlbnRlcllcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlNoYXBlSW5mb31cbiAgICAgKi9cbiAgICBzdGF0aWMgY2lyY2xlKGNlbnRlclgsIGNlbnRlclksIHJhZGl1cykge1xuICAgICAgICByZXR1cm4gU2hhcGVJbmZvLmNpcmNsZSguLi5hcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBlbGxpcHNlXG4gICAgICpcbiAgICAgKiAgQGRlcHJlY2F0ZWQgdXNlIFNoYXBlSW5mby5lbGxpcHNlXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSBjZW50ZXJYXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSBjZW50ZXJZXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNYXG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNZXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuU2hhcGVJbmZvfVxuICAgICAqL1xuICAgIHN0YXRpYyBlbGxpcHNlKGNlbnRlclgsIGNlbnRlclksIHJhZGl1c1gsIHJhZGl1c1kpIHtcbiAgICAgICAgcmV0dXJuIFNoYXBlSW5mby5lbGxpcHNlKC4uLmFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIGxpbmVcbiAgICAgKlxuICAgICAqICBAZGVwcmVjYXRlZCB1c2UgU2hhcGVJbmZvLmxpbmVcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHAxeFxuICAgICAqICBAcGFyYW0ge251bWJlcn0gcDF5XG4gICAgICogIEBwYXJhbSB7bnVtYmVyfSBwMnhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHAyeVxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlNoYXBlSW5mb31cbiAgICAgKi9cbiAgICBzdGF0aWMgbGluZShwMXgsIHAxeSwgcDJ4LCBwMnkpIHtcbiAgICAgICAgcmV0dXJuIFNoYXBlSW5mby5saW5lKC4uLmFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIHBhdGhcbiAgICAgKlxuICAgICAqICBAZGVwcmVjYXRlZCB1c2UgU2hhcGVJbmZvLnBhdGhcbiAgICAgKiAgQHBhcmFtIHtzdHJpbmd9IHBhdGhEYXRhXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuU2hhcGVJbmZvfVxuICAgICAqL1xuICAgIHN0YXRpYyBwYXRoKHBhdGhEYXRhKSB7XG4gICAgICAgIHJldHVybiBTaGFwZUluZm8ucGF0aCguLi5hcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBwb2x5Z29uXG4gICAgICpcbiAgICAgKiAgQGRlcHJlY2F0ZWQgdXNlIFNoYXBlSW5mby5wb2x5Z29uXG4gICAgICogIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRzXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuU2hhcGVJbmZvfVxuICAgICAqL1xuICAgIHN0YXRpYyBwb2x5Z29uKGNvb3Jkcykge1xuICAgICAgICByZXR1cm4gU2hhcGVJbmZvLnBvbHlnb24oLi4uYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgcG9seWxpbmVcbiAgICAgKlxuICAgICAqICBAZGVwcmVjYXRlZCB1c2UgU2hhcGVJbmZvLnBvbHlsaW5lXG4gICAgICogIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRzXG4gICAgICogIEByZXR1cm5zIHttb2R1bGU6a2xkLWludGVyc2VjdGlvbnMuU2hhcGVJbmZvfVxuICAgICAqL1xuICAgIHN0YXRpYyBwb2x5bGluZShjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIFNoYXBlSW5mby5wb2x5bGluZSguLi5hcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqICBAZGVwcmVjYXRlZCB1c2UgU2hhcGVJbmZvLnJlY3RhbmdsZVxuICAgICAqICBAcGFyYW0ge251bWJlcn0geFxuICAgICAqICBAcGFyYW0ge251bWJlcn0geVxuICAgICAqICBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICAgICAqICBAcGFyYW0ge251bWJlcn0gW3J4XVxuICAgICAqICBAcGFyYW0ge251bWJlcn0gW3J5XVxuICAgICAqICBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlNoYXBlSW5mb31cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJ4ID0gMCwgcnkgPSAwKSB7XG4gICAgICAgIHJldHVybiBTaGFwZUluZm8ucmVjdGFuZ2xlKC4uLmFyZ3VtZW50cyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaGFwZXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/Shapes.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/SvgShapes.js":
/*!********************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/SvgShapes.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var kld_affine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kld-affine */ \"(ssr)/../../node_modules/.pnpm/kld-affine@2.1.1/node_modules/kld-affine/index.js\");\n/* harmony import */ var _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ShapeInfo.js */ \"(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/ShapeInfo.js\");\n/* eslint-disable no-restricted-syntax */\n\n\n\nclass SvgShapes {\n    /**\n     * circle\n     *\n     * @param {SVGCircleElement} circle\n     * @returns {module:kld-intersections.ShapeInfo}\n     */\n    static circle(circle) {\n        if (circle instanceof SVGCircleElement === false) {\n            throw new TypeError(`Expected SVGCircleElement, but found ${circle}`);\n        }\n\n        const center = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(\n            circle.cx.baseVal.value,\n            circle.cy.baseVal.value\n        );\n        const radius = circle.r.baseVal.value;\n\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].circle(center, radius);\n    }\n\n    /**\n     * ellipse\n     *\n     * @param {SVGEllipseElement} ellipse\n     * @returns {module:kld-intersections.ShapeInfo}\n     */\n    static ellipse(ellipse) {\n        if (ellipse instanceof SVGEllipseElement === false) {\n            throw new TypeError(`Expected SVGEllipseElement, but found ${ellipse}`);\n        }\n\n        const center = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(\n            ellipse.cx.baseVal.value,\n            ellipse.cy.baseVal.value\n        );\n        const radiusX = ellipse.rx.baseVal.value;\n        const radiusY = ellipse.ry.baseVal.value;\n\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ellipse(center, radiusX, radiusY);\n    }\n\n    /**\n     * line\n     *\n     * @param {SVGLineElement} line\n     * @returns {module:kld-intersections.ShapeInfo}\n     */\n    static line(line) {\n        if (line instanceof SVGLineElement === false) {\n            throw new TypeError(`Expected SVGLineElement, but found ${line}`);\n        }\n\n        const p1 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(\n            line.x1.baseVal.value,\n            line.y1.baseVal.value\n        );\n        const p2 = new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(\n            line.x2.baseVal.value,\n            line.y2.baseVal.value\n        );\n\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].line(p1, p2);\n    }\n\n    /**\n     * path\n     *\n     * @param {SVGPathElement} path\n     * @returns {module:kld-intersections.ShapeInfo}\n     */\n    static path(path) {\n        if (path instanceof SVGPathElement === false) {\n            throw new TypeError(`Expected SVGPathElement, but found ${path}`);\n        }\n\n        const pathData = path.getAttributeNS(null, \"d\");\n\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].path(pathData);\n    }\n\n    /**\n     * polygon\n     *\n     * @param {SVGPolygonElement} polygon\n     * @returns {module:kld-intersections.ShapeInfo}\n     */\n    static polygon(polygon) {\n        if (polygon instanceof SVGPolygonElement === false) {\n            throw new TypeError(`Expected SVGPolygonElement, but found ${polygon}`);\n        }\n\n        const points = [];\n\n        for (let i = 0; i < polygon.points.numberOfItems; i++) {\n            const point = polygon.points.getItem(i);\n\n            points.push(new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(point.x, point.y));\n        }\n\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].polygon(points);\n    }\n\n    /**\n     * polyline\n     *\n     * @param {SVGPolylineElement} polyline\n     * @returns {module:kld-intersections.ShapeInfo}\n     */\n    static polyline(polyline) {\n        if (polyline instanceof SVGPolylineElement === false) {\n            throw new TypeError(`Expected SVGPolylineElement, but found ${polyline}`);\n        }\n\n        const points = [];\n\n        for (let i = 0; i < polyline.points.numberOfItems; i++) {\n            const point = polyline.points.getItem(i);\n\n            points.push(new kld_affine__WEBPACK_IMPORTED_MODULE_0__.Point2D(point.x, point.y));\n        }\n\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].polyline(points);\n    }\n\n    /**\n     * rect\n     *\n     * @param {SVGRectElement} rect\n     * @returns {module:kld-intersections.ShapeInfo}\n     */\n    static rect(rect) {\n        if (rect instanceof SVGRectElement === false) {\n            throw new TypeError(`Expected SVGRectElement, but found ${rect}`);\n        }\n\n        return _ShapeInfo_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].rectangle(\n            rect.x.baseVal.value,\n            rect.y.baseVal.value,\n            rect.width.baseVal.value,\n            rect.height.baseVal.value,\n            rect.rx.baseVal.value,\n            rect.ry.baseVal.value\n        );\n    }\n\n    /**\n     * element\n     *\n     * @param {SVGElement} element\n     * @returns {module:kld-intersections.ShapeInfo}\n     */\n    static element(element) {\n        if (element instanceof SVGElement === false) {\n            throw new TypeError(`Expected SVGElement, but found ${element}`);\n        }\n\n        /* eslint-disable-next-line prefer-destructuring */\n        const tagName = element.tagName;\n\n        switch (tagName) {\n            case \"circle\":\n                return SvgShapes.circle(element);\n            case \"ellipse\":\n                return SvgShapes.ellipse(element);\n            case \"line\":\n                return SvgShapes.line(element);\n            case \"path\":\n                return SvgShapes.path(element);\n            case \"polygon\":\n                return SvgShapes.polygon(element);\n            case \"polyline\":\n                return SvgShapes.polyline(element);\n            case \"rect\":\n                return SvgShapes.rect(element);\n            default:\n                throw new TypeError(`Unrecognized element type: '${tagName}'`);\n        }\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgShapes);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2tsZC1pbnRlcnNlY3Rpb25zQDAuNy4wL25vZGVfbW9kdWxlcy9rbGQtaW50ZXJzZWN0aW9ucy9saWIvU3ZnU2hhcGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ21DO0FBQ0k7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrQkFBa0I7QUFDakMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxPQUFPO0FBQy9FOztBQUVBLDJCQUEyQiwrQ0FBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLHFEQUFTO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQW1CO0FBQ2xDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsUUFBUTtBQUNqRjs7QUFFQSwyQkFBMkIsK0NBQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLHFEQUFTO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsS0FBSztBQUMzRTs7QUFFQSx1QkFBdUIsK0NBQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLCtDQUFPO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLHFEQUFTO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsS0FBSztBQUMzRTs7QUFFQTs7QUFFQSxlQUFlLHFEQUFTO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQW1CO0FBQ2xDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsUUFBUTtBQUNqRjs7QUFFQTs7QUFFQSx3QkFBd0Isa0NBQWtDO0FBQzFEOztBQUVBLDRCQUE0QiwrQ0FBTztBQUNuQzs7QUFFQSxlQUFlLHFEQUFTO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0JBQW9CO0FBQ25DLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsU0FBUztBQUNuRjs7QUFFQTs7QUFFQSx3QkFBd0IsbUNBQW1DO0FBQzNEOztBQUVBLDRCQUE0QiwrQ0FBTztBQUNuQzs7QUFFQSxlQUFlLHFEQUFTO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsS0FBSztBQUMzRTs7QUFFQSxlQUFlLHFEQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxZQUFZO0FBQzNCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsUUFBUTtBQUMxRTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLFFBQVE7QUFDM0U7QUFDQTtBQUNBOztBQUVBLGlFQUFlLFNBQVMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0ByZXBvZ3JhcGgvd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9rbGQtaW50ZXJzZWN0aW9uc0AwLjcuMC9ub2RlX21vZHVsZXMva2xkLWludGVyc2VjdGlvbnMvbGliL1N2Z1NoYXBlcy5qcz83NGIyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtc3ludGF4ICovXG5pbXBvcnQge1BvaW50MkR9IGZyb20gXCJrbGQtYWZmaW5lXCI7XG5pbXBvcnQgU2hhcGVJbmZvIGZyb20gXCIuL1NoYXBlSW5mby5qc1wiO1xuXG5jbGFzcyBTdmdTaGFwZXMge1xuICAgIC8qKlxuICAgICAqIGNpcmNsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTVkdDaXJjbGVFbGVtZW50fSBjaXJjbGVcbiAgICAgKiBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlNoYXBlSW5mb31cbiAgICAgKi9cbiAgICBzdGF0aWMgY2lyY2xlKGNpcmNsZSkge1xuICAgICAgICBpZiAoY2lyY2xlIGluc3RhbmNlb2YgU1ZHQ2lyY2xlRWxlbWVudCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFNWR0NpcmNsZUVsZW1lbnQsIGJ1dCBmb3VuZCAke2NpcmNsZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IG5ldyBQb2ludDJEKFxuICAgICAgICAgICAgY2lyY2xlLmN4LmJhc2VWYWwudmFsdWUsXG4gICAgICAgICAgICBjaXJjbGUuY3kuYmFzZVZhbC52YWx1ZVxuICAgICAgICApO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBjaXJjbGUuci5iYXNlVmFsLnZhbHVlO1xuXG4gICAgICAgIHJldHVybiBTaGFwZUluZm8uY2lyY2xlKGNlbnRlciwgcmFkaXVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBlbGxpcHNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1NWR0VsbGlwc2VFbGVtZW50fSBlbGxpcHNlXG4gICAgICogQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99XG4gICAgICovXG4gICAgc3RhdGljIGVsbGlwc2UoZWxsaXBzZSkge1xuICAgICAgICBpZiAoZWxsaXBzZSBpbnN0YW5jZW9mIFNWR0VsbGlwc2VFbGVtZW50ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgU1ZHRWxsaXBzZUVsZW1lbnQsIGJ1dCBmb3VuZCAke2VsbGlwc2V9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjZW50ZXIgPSBuZXcgUG9pbnQyRChcbiAgICAgICAgICAgIGVsbGlwc2UuY3guYmFzZVZhbC52YWx1ZSxcbiAgICAgICAgICAgIGVsbGlwc2UuY3kuYmFzZVZhbC52YWx1ZVxuICAgICAgICApO1xuICAgICAgICBjb25zdCByYWRpdXNYID0gZWxsaXBzZS5yeC5iYXNlVmFsLnZhbHVlO1xuICAgICAgICBjb25zdCByYWRpdXNZID0gZWxsaXBzZS5yeS5iYXNlVmFsLnZhbHVlO1xuXG4gICAgICAgIHJldHVybiBTaGFwZUluZm8uZWxsaXBzZShjZW50ZXIsIHJhZGl1c1gsIHJhZGl1c1kpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxpbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U1ZHTGluZUVsZW1lbnR9IGxpbmVcbiAgICAgKiBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlNoYXBlSW5mb31cbiAgICAgKi9cbiAgICBzdGF0aWMgbGluZShsaW5lKSB7XG4gICAgICAgIGlmIChsaW5lIGluc3RhbmNlb2YgU1ZHTGluZUVsZW1lbnQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBTVkdMaW5lRWxlbWVudCwgYnV0IGZvdW5kICR7bGluZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHAxID0gbmV3IFBvaW50MkQoXG4gICAgICAgICAgICBsaW5lLngxLmJhc2VWYWwudmFsdWUsXG4gICAgICAgICAgICBsaW5lLnkxLmJhc2VWYWwudmFsdWVcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgcDIgPSBuZXcgUG9pbnQyRChcbiAgICAgICAgICAgIGxpbmUueDIuYmFzZVZhbC52YWx1ZSxcbiAgICAgICAgICAgIGxpbmUueTIuYmFzZVZhbC52YWx1ZVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBTaGFwZUluZm8ubGluZShwMSwgcDIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHBhdGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U1ZHUGF0aEVsZW1lbnR9IHBhdGhcbiAgICAgKiBAcmV0dXJucyB7bW9kdWxlOmtsZC1pbnRlcnNlY3Rpb25zLlNoYXBlSW5mb31cbiAgICAgKi9cbiAgICBzdGF0aWMgcGF0aChwYXRoKSB7XG4gICAgICAgIGlmIChwYXRoIGluc3RhbmNlb2YgU1ZHUGF0aEVsZW1lbnQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBTVkdQYXRoRWxlbWVudCwgYnV0IGZvdW5kICR7cGF0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhdGhEYXRhID0gcGF0aC5nZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIik7XG5cbiAgICAgICAgcmV0dXJuIFNoYXBlSW5mby5wYXRoKHBhdGhEYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1NWR1BvbHlnb25FbGVtZW50fSBwb2x5Z29uXG4gICAgICogQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99XG4gICAgICovXG4gICAgc3RhdGljIHBvbHlnb24ocG9seWdvbikge1xuICAgICAgICBpZiAocG9seWdvbiBpbnN0YW5jZW9mIFNWR1BvbHlnb25FbGVtZW50ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgU1ZHUG9seWdvbkVsZW1lbnQsIGJ1dCBmb3VuZCAke3BvbHlnb259YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb2ludHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvbHlnb24ucG9pbnRzLm51bWJlck9mSXRlbXM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2x5Z29uLnBvaW50cy5nZXRJdGVtKGkpO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaChuZXcgUG9pbnQyRChwb2ludC54LCBwb2ludC55KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gU2hhcGVJbmZvLnBvbHlnb24ocG9pbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBwb2x5bGluZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTVkdQb2x5bGluZUVsZW1lbnR9IHBvbHlsaW5lXG4gICAgICogQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99XG4gICAgICovXG4gICAgc3RhdGljIHBvbHlsaW5lKHBvbHlsaW5lKSB7XG4gICAgICAgIGlmIChwb2x5bGluZSBpbnN0YW5jZW9mIFNWR1BvbHlsaW5lRWxlbWVudCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFNWR1BvbHlsaW5lRWxlbWVudCwgYnV0IGZvdW5kICR7cG9seWxpbmV9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb2ludHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvbHlsaW5lLnBvaW50cy5udW1iZXJPZkl0ZW1zOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9seWxpbmUucG9pbnRzLmdldEl0ZW0oaSk7XG5cbiAgICAgICAgICAgIHBvaW50cy5wdXNoKG5ldyBQb2ludDJEKHBvaW50LngsIHBvaW50LnkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBTaGFwZUluZm8ucG9seWxpbmUocG9pbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1NWR1JlY3RFbGVtZW50fSByZWN0XG4gICAgICogQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99XG4gICAgICovXG4gICAgc3RhdGljIHJlY3QocmVjdCkge1xuICAgICAgICBpZiAocmVjdCBpbnN0YW5jZW9mIFNWR1JlY3RFbGVtZW50ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgU1ZHUmVjdEVsZW1lbnQsIGJ1dCBmb3VuZCAke3JlY3R9YCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gU2hhcGVJbmZvLnJlY3RhbmdsZShcbiAgICAgICAgICAgIHJlY3QueC5iYXNlVmFsLnZhbHVlLFxuICAgICAgICAgICAgcmVjdC55LmJhc2VWYWwudmFsdWUsXG4gICAgICAgICAgICByZWN0LndpZHRoLmJhc2VWYWwudmFsdWUsXG4gICAgICAgICAgICByZWN0LmhlaWdodC5iYXNlVmFsLnZhbHVlLFxuICAgICAgICAgICAgcmVjdC5yeC5iYXNlVmFsLnZhbHVlLFxuICAgICAgICAgICAgcmVjdC5yeS5iYXNlVmFsLnZhbHVlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZWxlbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHJldHVybnMge21vZHVsZTprbGQtaW50ZXJzZWN0aW9ucy5TaGFwZUluZm99XG4gICAgICovXG4gICAgc3RhdGljIGVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBTVkdFbGVtZW50LCBidXQgZm91bmQgJHtlbGVtZW50fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nICovXG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWU7XG5cbiAgICAgICAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiY2lyY2xlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN2Z1NoYXBlcy5jaXJjbGUoZWxlbWVudCk7XG4gICAgICAgICAgICBjYXNlIFwiZWxsaXBzZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBTdmdTaGFwZXMuZWxsaXBzZShlbGVtZW50KTtcbiAgICAgICAgICAgIGNhc2UgXCJsaW5lXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN2Z1NoYXBlcy5saW5lKGVsZW1lbnQpO1xuICAgICAgICAgICAgY2FzZSBcInBhdGhcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gU3ZnU2hhcGVzLnBhdGgoZWxlbWVudCk7XG4gICAgICAgICAgICBjYXNlIFwicG9seWdvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBTdmdTaGFwZXMucG9seWdvbihlbGVtZW50KTtcbiAgICAgICAgICAgIGNhc2UgXCJwb2x5bGluZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBTdmdTaGFwZXMucG9seWxpbmUoZWxlbWVudCk7XG4gICAgICAgICAgICBjYXNlIFwicmVjdFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBTdmdTaGFwZXMucmVjdChlbGVtZW50KTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIGVsZW1lbnQgdHlwZTogJyR7dGFnTmFtZX0nYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN2Z1NoYXBlcztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/kld-intersections@0.7.0/node_modules/kld-intersections/lib/SvgShapes.js\n");

/***/ })

};
;